<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Ajuster le volume - MAUI, c'est clair !</title><meta name=author content="Jean-Emmanuel BAILLAT"><meta name=author-link content="https://github.com/Kapusch"><meta name=description content="Allez c‚Äôest bient√¥t la fin du premier gros de notre page principale. On passe d√©sormais au contr√¥le du volume !"><meta name=keywords content="Image,ImageButton,DataTrigger,Slider,MultiTrigger,.NET Community Toolkit,C# markup"><meta itemprop=name content="Ajuster le volume"><meta itemprop=description content="Allez c‚Äôest bient√¥t la fin du premier gros de notre page principale. On passe d√©sormais au contr√¥le du volume !"><meta itemprop=datePublished content="2023-02-12T00:00:09+00:00"><meta itemprop=dateModified content="2023-02-12T00:00:09+00:00"><meta itemprop=wordCount content="1259"><meta itemprop=image content="https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/featured-image-preview-fr.jpeg"><meta itemprop=keywords content="Image,ImageButton,DataTrigger,Slider,MultiTrigger,.NET Community Toolkit,C# markup,"><meta property="og:title" content="Ajuster le volume"><meta property="og:description" content="Allez c‚Äôest bient√¥t la fin du premier gros de notre page principale. On passe d√©sormais au contr√¥le du volume !"><meta property="og:type" content="article"><meta property="og:url" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/"><meta property="og:image" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/featured-image-preview-fr.jpeg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-12T00:00:09+00:00"><meta property="article:modified_time" content="2023-02-12T00:00:09+00:00"><meta property="og:site_name" content="MAUI, c'est clair !"><meta property="og:see_also" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/8-media-control/"><meta property="og:see_also" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/7-time-tracker/"><meta property="og:see_also" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/6-scaffolding/"><meta property="og:see_also" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/5-how-to-navigate/"><meta property="og:see_also" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/3-first-run-of-the-project/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/featured-image-preview-fr.jpeg"><meta name=twitter:title content="Ajuster le volume"><meta name=twitter:description content="Allez c‚Äôest bient√¥t la fin du premier gros de notre page principale. On passe d√©sormais au contr√¥le du volume !"><meta name=application-name content="MAUI, c'est clair !"><meta name=apple-mobile-web-app-title content="MAUI, c'est clair !"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/><link rel=prev href=https://www.mauicestclair.fr/posts/tutos/my-first-app/8-media-control/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Ajuster le volume","inLanguage":"fr","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.mauicestclair.fr\/posts\/tutos\/my-first-app\/9-volume-tracker\/"},"genre":"posts","keywords":"Image, ImageButton, DataTrigger, Slider, MultiTrigger, .NET Community Toolkit, C# markup","wordcount":1259,"url":"https:\/\/www.mauicestclair.fr\/posts\/tutos\/my-first-app\/9-volume-tracker\/","datePublished":"2023-02-12T00:00:09+00:00","dateModified":"2023-02-12T00:00:09+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Jean-Emmanuel BAILLAT"},"description":"Allez c‚Äôest bient√¥t la fin du premier gros de notre page principale. On passe d√©sormais au contr√¥le du volume !"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/ title="MAUI, c'est clair !"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/main_avatar.jpg data-srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" data-sizes=auto alt="MAUI, c'est clair !" title="MAUI, c'est clair !"><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Articles</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Cours</a></li><li class=menu-item><a class=menu-link href=/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Astuces</a></li></ul></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> √Ä propos</a></li><li class="menu-item delimiter"></li><li class="menu-item language"><span role=button aria-label="Choisir la langue" title="Choisir la langue">Fran√ßais<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item>Plus de traductions</li></ul></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Rechercher des titres, des contenus..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Chercher><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Effacer><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Changer de Th√®me"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="MAUI, c'est clair !"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/main_avatar.jpg data-srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" data-sizes=auto alt=/main_avatar.jpg title=/main_avatar.jpg><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Rechercher des titres, des contenus..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Chercher><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Effacer><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Annuler</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Articles</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Cours</a></li><li class=menu-item><a class=menu-link href=/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Astuces</a></li></ul></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> √Ä propos</a></li><li class="menu-item theme-switch" title="Changer de Th√®me"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language"><span role=button aria-label="Choisir la langue" title="Choisir la langue">Fran√ßais<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option disabled>Plus de traductions</option></select></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container data-page-style=wide><aside class=toc id=toc-auto></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Ajuster le volume</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/Kapusch title=Auteur target=_blank rel="external nofollow noopener noreferrer author" class=author><img class="lazyload avatar" src=/svg/loading.min.svg data-src=/main_avatar.jpg data-srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" data-sizes=auto alt="Jean-Emmanuel BAILLAT" title="Jean-Emmanuel BAILLAT">&nbsp;Jean-Emmanuel BAILLAT</a></span></div><div class=post-meta-line><span title="2023-02-12 00:00:09"><i class="fa-regular fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=12/02/2023>12/02/2023</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw" aria-hidden=true></i> 1259 mots</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw" aria-hidden=true></i> 6 minutes</span>&nbsp;</div></div><div class=content id=content><style>.img-sizes{min-height:50px;max-height:600px;min-width:50px;max-width:600px;height:auto;width:auto}</style><p>Et enfin, la derni√®re ligne de notre lecteur musical !</p><figure><p align=center><img class=img-sizes src=./images/DF050A3B8CBC66BE41161183706F5D44.png></p></figure><p>Allez, pour commencer, t√©l√©charge les diff√©rentes images utilis√©es pour afficher l‚Äô√©tat du volume.</p><a href=./files/Volume_Tracker_-_Images.zip title="Download Volume_Tracker_-_Images.zip" class=card-link download=Volume_Tracker_-_Images.zip><span class=cl-backdrop style=--cl-bg-url:url(/fixit.min.svg)></span>
<span class=cl-content><span class=cl-text><span class=cl-title>Volume_Tracker_-_Images.zip</span>
<span class=cl-meta><svg class="cl-icon-link" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M574 665.4c-3.1-3.1-8.2-3.1-11.3.0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2.0-204l116.2-116.2c3.1-3.1 3.1-8.2.0-11.3l-39.8-39.8c-3.1-3.1-8.2-3.1-11.3.0L191.4 526.5c-84.6 84.6-84.6 221.5.0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2.0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6c-3.1 3.1-3.1 8.2.0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3.0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2.0 204L665.3 562.6c-3.1 3.1-3.1 8.2.0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3.0l116.2-116.2c84.5-84.6 84.5-221.5.0-306.1z" fill="#a9a9b3"/><path d="M610.1 372.3c-3.1-3.1-8.2-3.1-11.3.0L372.3 598.7c-3.1 3.1-3.1 8.2.0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3.0l226.4-226.4c3.1-3.1 3.1-8.2.0-11.3l-39.5-39.6z" fill="#a9a9b3"/></svg><span class=cl-url>./files/Volume_Tracker_-_Images.zip</span></span></span><svg class="cl-icon-download" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="64" height="64"><path d="M824.32 473.6c-15.36-2.56-25.6-15.36-25.6-30.72.0-112.64-71.68-217.6-179.2-250.88-148.48-46.08-289.28 38.4-332.8 166.4-2.56 10.24-12.8 17.92-23.04 20.48C143.36 401.92 51.2 509.44 51.2 637.44V640c0 115.2 97.28 204.8 209.92 204.8h524.8c102.4-2.56 184.32-84.48 184.32-186.88 2.56-89.6-61.44-163.84-145.92-184.32zM550.4 698.88c-12.8 12.8-30.72 15.36-46.08 10.24H501.76c-5.12-2.56-10.24-5.12-15.36-10.24L366.08 578.56c-15.36-15.36-15.36-43.52.0-58.88s43.52-15.36 58.88.0l51.2 51.2V352.4608c0-23.04 17.92-40.96 40.96-40.96 23.04.0 40.96 17.92 40.96 40.96V570.88l51.2-51.2c17.92-17.92 43.52-17.92 61.44.0 17.92 15.36 17.92 40.96.0 58.88L550.4 698.88z" fill="#4fc089"/></svg></span></a><p>En d√©compressant ce fichier, tu verras 4 nouvelles images:</p><figure><p align=center><img class=img-sizes src=./images/D513BCCE090CD9A8DB1344EB11150F81.png></p></figure><p>Il y en aura une pour chaque niveau de volume identifi√©, et m√™me quand le son sera coup√©.</p><p>Maintenant, inclus ces nouvelles images dans le dossier <em>Resources/Images</em>, exactement comme la derni√®re fois !</p><p>Une fois que c‚Äôest fait, tu peux d√©finir les composants de cette derni√®re ligne, √† savoir un <em>ImageButton</em> pour couper le son et un <em>Slider</em> pour contr√¥ler le volume du son de mani√®re pr√©cise. Essaye par toi-m√™me si tu veux avant de regarder le code qui suit !</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>ImageButton</span> <span class=n>MuteButton</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ImageButton</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>HeightRequest</span> <span class=p>=</span> <span class=m>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>WidthRequest</span> <span class=p>=</span> <span class=m>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Source</span> <span class=p>=</span> <span class=s>&#34;volume_medium&#34;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Slider</span> <span class=n>VolumeTracker</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Slider</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Minimum</span> <span class=p>=</span> <span class=m>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>MinimumTrackColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>Black</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Maximum</span> <span class=p>=</span> <span class=m>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>MaximumTrackColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>Gray</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Value</span> <span class=p>=</span> <span class=m>60</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>On rajoute ensuite les contr√¥les dans le <em>BottomLayout</em>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>MuteButton</span><span class=p>.</span><span class=n>Row</span><span class=p>(</span><span class=m>2</span><span class=p>).</span><span class=n>Column</span><span class=p>(</span><span class=m>1</span><span class=p>),</span>
</span></span><span class=line><span class=cl><span class=n>VolumeTracker</span><span class=p>.</span><span class=n>Row</span><span class=p>(</span><span class=m>2</span><span class=p>).</span><span class=n>Column</span><span class=p>(</span><span class=m>2</span><span class=p>).</span><span class=n>ColumnSpan</span><span class=p>(</span><span class=m>3</span><span class=p>),</span>
</span></span></code></pre></td></tr></table></div></div><p>Et voil√† !</p><figure><p align=center><img class=img-sizes src=./images/B6353871FE88CE680890EE873B635A4D.png></p></figure><p>√áa devient plus facile avec tout cet entra√Ænement, est-ce que tu commences √† prendre le coup de main ? Bon, il n‚Äôy avait que deux composants √† d√©finir cette fois, alors on va aller un petit plus loin. Tu te rappelles des diff√©rentes images pour notre volume ? Il est temps de leur trouver une utilit√© !</p><p>L‚Äôid√©e c‚Äôest que notre <em>MuteButton</em> change d‚Äôapparence en fonction du niveau de volume demand√©. On aura donc une r√©f√©rence directe au <em>VolumeTracker</em> afin de pouvoir trouver la bonne image √† associer au <em>MuteButton</em>. Pour cela, on utilisera un <a href=https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/triggers#data-triggers target=_blank rel="external nofollow noopener noreferrer">DataTrigger<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> qui permet de modifier la propri√©t√© d‚Äôun objet lorsqu‚Äôune valeur est d√©tect√©e.</p><p>Prenons le cas le plus simple, celui o√π l‚Äôon d√©tecte un volume sonore √† 0:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>DataTrigger</span> <span class=n>VolumeOffTrigger</span> <span class=p>=&gt;</span> <span class=k>new</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>ImageButton</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Binding</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Binding</span><span class=p>(</span><span class=n>nameof</span><span class=p>(</span><span class=n>Slider</span><span class=p>.</span><span class=n>Value</span><span class=p>),</span> <span class=n>source</span><span class=p>:</span> <span class=n>VolumeTracker</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>Value</span> <span class=p>=</span> <span class=m>0d</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Setters</span> <span class=p>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Setter</span> <span class=p>{</span> <span class=n>Property</span> <span class=p>=</span> <span class=n>ImageButton</span><span class=p>.</span><span class=n>SourceProperty</span><span class=p>,</span> <span class=n>Value</span> <span class=p>=</span> <span class=s>&#34;volume_off&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Dans un premier temps, on pr√©cise sur quel type d‚Äôobjet appliquer la modification, en l‚Äôoccurence un <em>ImageButton</em> qui caract√©rise <em>MuteButton</em>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>DataTrigger</span> <span class=n>VolumeOffTrigger</span> <span class=p>=&gt;</span> <span class=k>new</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>ImageButton</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p>Cette modification est d‚Äôailleurs d√©finie par un <em>Setter</em> pour changer la source d‚Äôimage du <em>MuteButton</em> et appliquer l‚Äôic√¥ne correspondant au volume √©teint:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>new</span> <span class=n>Setter</span> <span class=p>{</span> <span class=n>Property</span> <span class=p>=</span> <span class=n>ImageButton</span><span class=p>.</span><span class=n>SourceProperty</span><span class=p>,</span> <span class=n>Value</span> <span class=p>=</span> <span class=s>&#34;volume_off&#34;</span> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Quant au moment o√π la modification est d√©clench√©e, il est pr√©vu quand la valeur du <em>VolumeTracker</em> atteindra 0:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl> <span class=n>Value</span> <span class=p>=</span> <span class=m>0d</span>
</span></span></code></pre></td></tr></table></div></div><p>Ceci est rendu possible par la technique du <em>Binding</em>, qui va cr√©er un lien vers ce composant pour suivre l‚Äô√©volution de la propri√©t√© <em>Value</em>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Binding</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Binding</span><span class=p>(</span><span class=n>nameof</span><span class=p>(</span><span class=n>Slider</span><span class=p>.</span><span class=n>Value</span><span class=p>),</span> <span class=n>source</span><span class=p>:</span> <span class=n>VolumeTracker</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Et le changement d‚Äôic√¥ne du bouton s‚Äôop√©rera une fois la valeur cible atteinte.</p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Donc l√† on a un d√©clencheur pour modifier l‚Äôic√¥ne au moment o√π l‚Äôutilisateur abaissera la valeur du <em>Slider</em> √† z√©ro. Mais pourquoi mettre un ‚Äúd‚Äù apr√®s le ‚Äú0‚Äù ?</div></div></div><p>Bien vu, ce n‚Äô√©tait pas une erreur typographique üòÑ</p><p>En fait, la <a href=https://learn.microsoft.com/en-us/dotnet/maui/user-interface/controls/slider target=_blank rel="external nofollow noopener noreferrer">documentation du Slider<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> pr√©cise que la propri√©t√© <em>Value</em> est de type <a href="https://learn.microsoft.com/en-us/dotnet/api/system.double?view=net-6.0" target=_blank rel="external nofollow noopener noreferrer">double<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>, pour repr√©senter un nombre avec des d√©cimales. Cela donne √† l‚Äôutilisateur un peu plus de contr√¥le quand il manipule un <em>Slider</em>. Or, si tu tentes de supprimer le ‚Äúd‚Äù et que tu passes ta souris au-dessus du ‚Äú0‚Äù tu pourras constater qu‚Äôil n‚Äôest pas consid√©r√© comme un double, mais un <a href="https://learn.microsoft.com/en-us/dotnet/api/system.int32?view=net-6.0" target=_blank rel="external nofollow noopener noreferrer">int<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> !</p><figure><p align=center><img class=img-sizes src=./images/647B2233C389ED14831E420996C84B23.png></p></figure><p>Et comme la propri√©t√© <em>Value</em> de notre <em>DataTrigger</em> accepte potentiellement n‚Äôimporte quel type de valeur (puisqu‚Äôil est de type <em>object</em>), on doit explicitement lui indiquer comment consid√©rer ce ‚Äú0‚Äù: comme un double ! Et pour cela, on doit rajouter le ‚Äúd‚Äù juste apr√®s:</p><figure><p align=center><img class=img-sizes src=./images/6563EBE2B8F0FD2DCE8BF8C037A56960.png></p></figure><p>Ne reste plus qu‚Äô√† rajouter ce trigger √† notre composant <em>MuteButton</em> en utilisant une m√©thode d√©di√©e <em>InitMuteButton</em> et ce afin de garder notre code clair:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>public</span> <span class=n>MusicPlayerView</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>InitMuteButton</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Content</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Grid</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>void</span> <span class=n>InitMuteButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeOffTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Et voil√† ! Essaye maintenant de glisser la valeur du <em>Slider</em> tout √† gauche:</p><figure><p align=center><img class=img-sizes src=./images/D29C869CE4D06ACBBDF56655AEC1C047.gif></p></figure><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Aller plus loin ‚Äî> Comprendre pourquoi on a d√©clar√© <em>MuteButton</em> avec un ‚Äú=‚Äù au lieu de ‚Äú=>‚Äù comme pour les autres composants</div></div></div><p>Enfin pour g√©rer tous les diff√©rents √©tats du bouton, nous aurons besoin que:</p><ul><li>l‚Äôic√¥ne du volume bas s‚Äôaffiche pour une valeur comprise entre 1 et 15,</li><li>l‚Äôic√¥ne du volume mod√©r√© s‚Äôaffiche pour une valeur comprise entre 16 et 50,</li><li>l‚Äôic√¥ne du volume √©lev√© s‚Äôaffiche pour une valeur comprise entre 51 et 100.
Pour cela, nous allons utiliser un nouveau d√©clencheur sp√©cifique, le <a href=/5db3d3ad31534fcf93a5022fcd2e381d>MultiTrigger</a>. Celui-ci reprend le m√™me principe que pour le <em>VolumeOffTrigger</em>, √† la diff√©rence qu‚Äôau lieu de ne se r√©f√©rer qu‚Äô√† une seule valeur cible, on d√©finira des plages de valeur.</li></ul><p>D√©clarons d‚Äôabord nos 3 nouveaux √©tats:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>MultiTrigger</span> <span class=n>VolumeLowTrigger</span> <span class=p>=</span> <span class=k>new</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>ImageButton</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Setters</span> <span class=p>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Setter</span> <span class=p>{</span> <span class=n>Property</span> <span class=p>=</span> <span class=n>ImageButton</span><span class=p>.</span><span class=n>SourceProperty</span><span class=p>,</span> <span class=n>Value</span> <span class=p>=</span> <span class=s>&#34;volume_low&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>MultiTrigger</span> <span class=n>VolumeMediumTrigger</span> <span class=p>=</span> <span class=k>new</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>ImageButton</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Setters</span> <span class=p>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Setter</span> <span class=p>{</span> <span class=n>Property</span> <span class=p>=</span> <span class=n>ImageButton</span><span class=p>.</span><span class=n>SourceProperty</span><span class=p>,</span> <span class=n>Value</span> <span class=p>=</span> <span class=s>&#34;volume_medium&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>MultiTrigger</span> <span class=n>VolumeHighTrigger</span> <span class=p>=</span> <span class=k>new</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>ImageButton</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Setters</span> <span class=p>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Setter</span> <span class=p>{</span> <span class=n>Property</span> <span class=p>=</span> <span class=n>ImageButton</span><span class=p>.</span><span class=n>SourceProperty</span><span class=p>,</span> <span class=n>Value</span> <span class=p>=</span> <span class=s>&#34;volume_high&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Puis, dans la m√©thode <em>InitMuteButton</em>, nous allons d√©finir les conditions de d√©clenchement pour ces 3 √©tats:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>void</span> <span class=n>InitMuteButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>BindingCondition</span> <span class=n>CreateRangeCondition</span><span class=p>(</span><span class=n>OperatorType</span> <span class=n>comparison</span><span class=p>,</span> <span class=kt>double</span> <span class=k>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=k>new</span> <span class=n>BindingCondition</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Binding</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Binding</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>nameof</span><span class=p>(</span><span class=n>Slider</span><span class=p>.</span><span class=n>Value</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                    <span class=n>source</span><span class=p>:</span> <span class=n>VolumeTracker</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>converter</span><span class=p>:</span> <span class=k>new</span> <span class=n>CompareConverter</span>
</span></span><span class=line><span class=cl>                    <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>ComparisonOperator</span> <span class=p>=</span> <span class=n>comparison</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=n>ComparingValue</span> <span class=p>=</span> <span class=k>value</span>
</span></span><span class=line><span class=cl>                    <span class=p>}),</span>
</span></span><span class=line><span class=cl>        <span class=n>Value</span> <span class=p>=</span> <span class=k>true</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>BindingCondition</span> <span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=kt>double</span> <span class=k>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>CreateRangeCondition</span><span class=p>(</span><span class=n>OperatorType</span><span class=p>.</span><span class=n>GreaterOrEqual</span><span class=p>,</span> <span class=k>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>BindingCondition</span> <span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=kt>double</span> <span class=k>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>CreateRangeCondition</span><span class=p>(</span><span class=n>OperatorType</span><span class=p>.</span><span class=n>SmallerOrEqual</span><span class=p>,</span> <span class=k>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>VolumeLowTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=m>1d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>VolumeLowTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=m>15d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>VolumeMediumTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=m>16d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>VolumeMediumTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=m>50d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>VolumeHighTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=m>51d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>VolumeHighTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=m>100d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeOffTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeLowTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeMediumTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeHighTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>A ce stade, quelques erreurs auront probablement √©t√© mises en √©vidence par Visual Studio. Pour les r√©soudre, il te faudra d√©clarer les en-t√™tes suivantes tout en haut du fichier:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>CommunityToolkit.Maui.Converters</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>static</span> <span class=n>CommunityToolkit</span><span class=p>.</span><span class=n>Maui</span><span class=p>.</span><span class=n>Converters</span><span class=p>.</span><span class=n>CompareConverter</span><span class=p>&lt;</span><span class=kt>object</span><span class=p>&gt;;</span>
</span></span></code></pre></td></tr></table></div></div><p>Cette √©tape est requise pour indiquer au compilateur √† quoi correspondent les nouveaux types d‚Äôobjet utilis√©s (<em>CompareConverter</em> et <em>Operator.Type</em>).</p><p>En d√©cortiquant un peu le code, tu pourras voir qu‚Äôon d√©finit d‚Äôabord une m√©thode locale de base <em>CreateRangeCondition</em> qui reprend le m√™me principe que pour d√©finir le premier <em>DataTrigger</em> utilis√© pour le <em>VolumeOffTrigger</em>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>BindingCondition</span> <span class=n>CreateRangeCondition</span><span class=p>(</span><span class=n>OperatorType</span> <span class=n>comparison</span><span class=p>,</span> <span class=kt>double</span> <span class=k>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=k>new</span> <span class=n>BindingCondition</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Binding</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Binding</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=n>nameof</span><span class=p>(</span><span class=n>Slider</span><span class=p>.</span><span class=n>Value</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                <span class=n>source</span><span class=p>:</span> <span class=n>VolumeTracker</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=n>converter</span><span class=p>:</span> <span class=k>new</span> <span class=n>CompareConverter</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>ComparisonOperator</span> <span class=p>=</span> <span class=n>comparison</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>ComparingValue</span> <span class=p>=</span> <span class=k>value</span>
</span></span><span class=line><span class=cl>                <span class=p>}),</span>
</span></span><span class=line><span class=cl>    <span class=n>Value</span> <span class=p>=</span> <span class=k>true</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Cette m√©thode retourne une des deux <em>BindingCondition</em> n√©cessaires √† la d√©finition de nos plages de valeur. La premi√®re repr√©sente la valeur minimale de d√©clenchement de l‚Äô√©tat, et la seconde la valeur maximale. On a d‚Äôailleurs cr√©√© deux nouvelles m√©thodes locales pour cela:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>BindingCondition</span> <span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=kt>double</span> <span class=k>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>CreateRangeCondition</span><span class=p>(</span><span class=n>OperatorType</span><span class=p>.</span><span class=n>GreaterOrEqual</span><span class=p>,</span> <span class=k>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>BindingCondition</span> <span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=kt>double</span> <span class=k>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>CreateRangeCondition</span><span class=p>(</span><span class=n>OperatorType</span><span class=p>.</span><span class=n>SmallerOrEqual</span><span class=p>,</span> <span class=k>value</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>On n‚Äôa alors plus qu‚Äô√† d√©finir les plages de valeurs pour nos diff√©rents √©tats:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>VolumeLowTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=m>1d</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>VolumeLowTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=m>15d</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>VolumeMediumTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=m>16d</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>VolumeMediumTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=m>50d</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>VolumeHighTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMinRangeCondition</span><span class=p>(</span><span class=m>51d</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=n>VolumeHighTrigger</span><span class=p>.</span><span class=n>Conditions</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>CreateMaxRangeCondition</span><span class=p>(</span><span class=m>100d</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><p>Avant de finalement pouvoir ajouter nos d√©clencheurs d‚Äô√©tats au <em>MuteButton</em>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeOffTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeLowTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeMediumTrigger</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>MuteButton</span><span class=p>.</span><span class=n>Triggers</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>VolumeHighTrigger</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>Et voil√†, vas-y r√©essaye !</p><figure><p align=center><img class=img-sizes src=./images/69F6E9FE1F935AB3D276A2E35ED17A31.gif></p></figure><hr><p>Plus d&rsquo;articles dans la m√™me s√©rie:<ol><div><li hugo-nav=/posts/tutos/my-first-app/1-introduction/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/1-introduction/>Introduction</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/2-setup-the-project/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/2-setup-the-project/>Installer le projet</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/3-first-run-of-the-project/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/3-first-run-of-the-project/>Premi√®re ex√©cution du projet</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/5-how-to-navigate/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/5-how-to-navigate/>D‚Äôune page √† l‚Äôautre</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/6-scaffolding/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/6-scaffolding/>Les fondations</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/7-time-tracker/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/7-time-tracker/>Le minutage</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/8-media-control/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/8-media-control/>Jouer des chansons</a></li></div><div class=current><li hugo-nav=/posts/tutos/my-first-app/9-volume-tracker/ class=nostyle><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/>Ajuster le volume</a></li></div></ol></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2023-02-12 00:00:09">Mis √† jour le 12/02/2023&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Partager via Twitter" data-sharer=twitter data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/ data-title="Ajuster le volume" data-via=kapuschinfo data-hashtags="Image,ImageButton,DataTrigger,Slider,MultiTrigger,.NET Community Toolkit,C# markup"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Facebook" data-sharer=facebook data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/ data-hashtag=Image><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Linkedin" data-sharer=linkedin data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Blogger" data-sharer=blogger data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-volume-tracker/ data-title="Ajuster le volume" data-description="Allez c‚Äôest bient√¥t la fin du premier gros de notre page principale. On passe d√©sormais au contr√¥le du volume !"><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/image/ class=post-tag>Image</a><a href=/tags/imagebutton/ class=post-tag>ImageButton</a><a href=/tags/datatrigger/ class=post-tag>DataTrigger</a><a href=/tags/slider/ class=post-tag>Slider</a><a href=/tags/multitrigger/ class=post-tag>MultiTrigger</a><a href=/tags/.net-community-toolkit/ class=post-tag>.NET Community Toolkit</a><a href=/tags/c%23-markup/ class=post-tag>C# markup</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Retour</a></span>&nbsp;|&nbsp;<span><a href=/>Accueil</a></span></section></div><div class=post-nav><a href=/posts/tutos/my-first-app/8-media-control/ class=post-nav-item rel=prev title="Jouer des chansons"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Jouer des chansons</a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=Kapusch/blog-dotnet-maui data-repo-id=R_kgDOH_4TbQ data-category="Blog comments" data-category-id=DIC_kwDOH_4Tbc4CSqsZ data-mapping=Title data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=fr crossorigin=anonymous async defer></script><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">Propuls√© par <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.109.0">Hugo</a> | Th√®me - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.17-RC"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer">Jean-Emmanuel BAILLAT</a></span><span class="license footer-divider"><u><a rel="license external nofollow noopener noreferrer" href=/privacy-policy target=_blank>Confidentialit√©</a></u> et <u><a rel="license external nofollow noopener noreferrer" href=/terms-of-use target=_blank>CGU</a></u></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Retour en Haut"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="Afficher les Commentaires"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Kapusch/blog-dotnet-maui/tree/main/Blog title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>Le th√®me FixIt fonctionne mieux quand JavaScript est activ√©.</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/lunr/lunr.min.js defer></script><script src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script src=/lib/lunr/lunr.fr.min.js defer></script><script src=/lib/lazysizes/lazysizes.min.js async defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"Copier dans le presse-papiers",maxShownLines:50},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"J'ai compris !",link:"En apprendre plus",message:"Ce site Web utilise des Cookies pour am√©liorer votre exp√©rience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"fr",maxResultLength:10,noResultsFound:"Aucun r√©sultat trouv√©",snippetLength:110,type:"lunr"}}</script><script src=/js/theme.min.js defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0BB9XCL25S",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=G-0BB9XCL25S" async></script></body></html>