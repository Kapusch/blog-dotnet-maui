<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Listen to a playlist with MediaElement - MAUI, c'est clair !</title><meta name=author content="Jean-Emmanuel BAILLAT">
<meta name=author-link content="https://github.com/Kapusch"><meta name=description content="The application is great, but it would be nicer if you could change the song. Well that‚Äôs ideal because today we're integrating a music playlist!"><meta name=keywords content="MediaElement,MVVM,ImageButton,Data Binding"><meta itemprop=name content="Listen to a playlist with MediaElement"><meta itemprop=description content="The application is great, but it would be nicer if you could change the song. Well that‚Äôs ideal because today we're integrating a music playlist!"><meta itemprop=datePublished content="2023-12-26T00:00:14+00:00"><meta itemprop=dateModified content="2023-12-26T00:00:14+00:00"><meta itemprop=wordCount content="2164"><meta itemprop=image content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/featured-image-preview-en.png"><meta itemprop=keywords content="MediaElement,MVVM,ImageButton,Data Binding,"><meta property="og:title" content="Listen to a playlist with MediaElement"><meta property="og:description" content="The application is great, but it would be nicer if you could change the song. Well that‚Äôs ideal because today we're integrating a music playlist!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/"><meta property="og:image" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/featured-image-preview-en.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-26T00:00:14+00:00"><meta property="article:modified_time" content="2023-12-26T00:00:14+00:00"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/13-download-audio-file/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/12-control-volume-with-mediaelement/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music-with-mediaelement/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/9-music-player-display-volume/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/featured-image-preview-en.png"><meta name=twitter:title content="Listen to a playlist with MediaElement"><meta name=twitter:description content="The application is great, but it would be nicer if you could change the song. Well that‚Äôs ideal because today we're integrating a music playlist!"><meta name=twitter:site content="@kapuschinfo"><meta name=application-name content="MAUI, c'est clair !"><meta name=apple-mobile-web-app-title content="MAUI, c'est clair !"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/><link rel=prev href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/13-download-audio-file/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Listen to a playlist with MediaElement","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.mauicestclair.fr\/en\/posts\/tutos\/my-first-app\/14-skip-next-or-previous-with-mediaelement\/"},"genre":"posts","keywords":"MediaElement, MVVM, ImageButton, Data Binding","wordcount":2164,"url":"https:\/\/www.mauicestclair.fr\/en\/posts\/tutos\/my-first-app\/14-skip-next-or-previous-with-mediaelement\/","datePublished":"2023-12-26T00:00:14+00:00","dateModified":"2023-12-26T00:00:14+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Jean-Emmanuel BAILLAT"},"description":"The application is great, but it would be nicer if you could change the song. Well that‚Äôs ideal because today we're integrating a music playlist!"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=wide><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/en/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="MAUI, c'est clair !" data-alt="MAUI, c'est clair !" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/en/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Posts</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/en/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Tutos</a></li><li class=menu-item><a class=menu-link href=/en/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Tips</a></li></ul></li><li class=menu-item><a class=menu-link href=/en/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/en/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language-switch"><span role=button aria-label="Select Language" title="Select Language"><i class="fa-solid fa-language fa-fw" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a href=/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/ class=menu-link title=Fran√ßais>Fran√ßais</a></li><li class=menu-item><span class="menu-link text-secondary" title=English>English</span></li></ul></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/en/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title=/main_avatar.jpg data-alt=/main_avatar.jpg class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/en/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Posts</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/en/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Tutos</a></li><li class=menu-item><a class=menu-link href=/en/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Tips</a></li></ul></li><li class=menu-item><a class=menu-link href=/en/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/en/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span><span class="menu-system-item language-switch">
<span role=button aria-label="Select Language" title="Select Language">English<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option value=/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/>Fran√ßais</option><option value=/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/ selected disabled>English</option></select></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/en/posts/ title=Posts>Posts</a></li><li class=breadcrumb-item><a href=/en/posts/tutos/ title=Tutos>Tutos</a></li><li class=breadcrumb-item><a href=/en/posts/tutos/my-first-app/ title="My first app">My first app</a></li><li class="breadcrumb-item active" aria-current=page>Listen to a playlist with MediaElement</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Listen to a playlist with MediaElement</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="Jean-Emmanuel BAILLAT" data-alt="Jean-Emmanuel BAILLAT" class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Jean-Emmanuel BAILLAT</a></span></div><div class=post-meta-line><span title="published on 2023-12-26 00:00:14"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=26/12/2023>26/12/2023</time></span>&nbsp;<span title="Updated on 2023-12-26 00:00:14"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=26/12/2023>26/12/2023</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>2164 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>11 minutes</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#playlist-creation>Playlist creation</a></li><li><a href=#binding-components>Binding components</a></li><li><a href=#replay-music-once-again>Replay music once again</a></li><li><a href=#conclusion>Conclusion</a></li></ul></li></ul></nav></div></div><div class=content id=content><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>To ease your read, please resume <a href=../10-play-music-with-mediaelement/>from this chapter</a> where we have set up the <em>MediaElement</em>.</div></div></div>Last time, we looked at how to download music directly from the app. But it&rsquo;s been the same music from the start!</p><p>Wouldn&rsquo;t the app be much nicer if you could listen to more songs? Well that‚Äôs ideal because today we&rsquo;re integrating a music playlist!</p><h2 id=playlist-creation>Playlist creation</h2><p>To do this, let&rsquo;s define the list of songs available in the application as follows:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerViewModel.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>static</span> <span class=k>readonly</span> <span class=n>MusicTrack</span><span class=p>[]</span> <span class=n>playlist</span> <span class=p>=</span> <span class=k>new</span> <span class=n>MusicTrack</span><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>MusicTrack</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/?trackid=1890762&amp;format=mp31&amp;from=b5bSbOTAT1kXawaT8EV9IA%3D%3D%7CGcDX%2BeejT3P%2F0CfPwtSyYA%3D%3D&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioDownloadURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/download/track/1890762/mp32/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Author</span> <span class=p>=</span> <span class=s>&#34;Alfonso Lugo&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Title</span> <span class=p>=</span> <span class=s>&#34;Baila&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>MusicTrack</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/?trackid=619144&amp;format=mp31&amp;from=%2BJv5PkdWd%2BvsByBkyrboJA%3D%3D%7Co%2FKvdc5gcd6iQLjnqacjYA%3D%3D&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioDownloadURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/download/track/619144/mp32/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Author</span> <span class=p>=</span> <span class=s>&#34;Pablo G√≥mez&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Title</span> <span class=p>=</span> <span class=s>&#34;Devastation (remastered)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>MusicTrack</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/?trackid=1399476&amp;format=mp31&amp;from=LQFaB9%2FDVAE6QaK%2BsXtl%2FA%3D%3D%7CouuozaATpW3zoEvVwprgRw%3D%3D&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioDownloadURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/download/track/1399476/mp32/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Author</span> <span class=p>=</span> <span class=s>&#34;Singularity&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Title</span> <span class=p>=</span> <span class=s>&#34;How many times&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>MusicTrack</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/?trackid=946449&amp;format=mp31&amp;from=blTB635bS8UiDVL%2FzZC2Xw%3D%3D%7CQO1Fj6AWgTrjIu7LELLCLA%3D%3D&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioDownloadURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/download/track/946449/mp32/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Author</span> <span class=p>=</span> <span class=s>&#34;Julien Gathy&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Title</span> <span class=p>=</span> <span class=s>&#34;Octave (HQ)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>MusicTrack</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/?trackid=1026396&amp;format=mp31&amp;from=nWYOo%2FxFcd1oJBINLSQAXg%3D%3D%7CI8xQbXqZfz2bfgmtqxmqyA%3D%3D&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>AudioDownloadURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/download/track/1026396/mp32/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Author</span> <span class=p>=</span> <span class=s>&#34;dj alike&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Title</span> <span class=p>=</span> <span class=s>&#34;dj alike (new trance edition)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>There&rsquo;s nothing extraordinary here, apart from the usefulness of our <strong>Model</strong>!</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Ow yeah, 5 songs, this is groove!! üôä</div></div></div>Yeah, laugh at me! üòÇ</p><p>The number of songs is limited to 5 for the purposes of this course, but imagine if we allowed the user to explore titles from all over the world!</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>I might think about a sequel to this series, perhaps in video!</div></div></div>But let&rsquo;s get back to business.</p><p>The logic we&rsquo;re going to implement consists in moving from one track to another in our <code>playlist</code>. It&rsquo;s a bit like a pointer sliding over the cells of an array of <code>MusicTrack</code> elements to define the next piece of music to be played.</p><p>To do this, we&rsquo;ll enhance the logic around the <code>CurrentTrack</code> property introduced in <a href=../13-download-audio-file/>the previous chapter</a> with the following code:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerViewModel.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Properties</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// A new property to define the new &#34;pointer&#34; position</span>
</span></span><span class=line><span class=cl><span class=na>[ObservableProperty]</span>
</span></span><span class=line><span class=cl><span class=na>[NotifyPropertyChangedFor(nameof(CurrentTrack))]</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>currentTrackPosition</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Be careful to rename property with &#34;C&#34; uppercase</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>MusicTrack</span> <span class=n>CurrentTrack</span> <span class=p>=&gt;</span> <span class=n>playlist</span><span class=p>[</span><span class=n>CurrentTrackPosition</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>MusicPlayerViewModel</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// We don&#39;t need this code anymore, remove this part!</span>
</span></span><span class=line><span class=cl>    <span class=c1>// CurrentTrack = new MusicTrack()</span>
</span></span><span class=line><span class=cl>    <span class=c1>// {</span>
</span></span><span class=line><span class=cl>    <span class=c1>//     ...</span>
</span></span><span class=line><span class=cl>    <span class=c1>// };</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>We&rsquo;ve added a new property called <code>currentTrackPosition</code>, which corresponds in some way to our pointer mentioned above. It will define the position of the song to be played in the <code>playlist</code>, thanks to this new attribute: <a href=https://learn.microsoft.com/en-us/dotnet/communitytoolkit/mvvm/generators/observableproperty#notifying-dependent-properties target=_blank rel="external nofollow noopener noreferrer">NotifyPropertyChangedFor()<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</p><p>In concrete terms, each time the value of the <code>currentTrackPosition</code> property changes, this attribute will trigger a notification to the <strong>View</strong> informing that the <code>CurrentTrack</code> property has just been updated.</p><p>Indeed, the <code>CurrentTrack</code> property has been adapted to return a music track from the <code>playlist</code> at the requested position (<code>playlist[CurrentTrackPosition]</code>).</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>By the way, we no longer need to initialize <code>CurrentTrack</code> from the <em>MusicPlayerViewModel</em> constructor! So you can delete this bit of code.</div></div></div>Time to relaunch the app!</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé But I haven&rsquo;t seen any changes, is that normal?</div></div></div>Yes, it&rsquo;s the same music again! And that&rsquo;s perfectly normal.</p><p>Have you noticed the initial value of the <code>currentTrackPosition</code> property? It&rsquo;s equal to 0, which corresponds to the first position in the <code>playlist</code> array, which is none other than the song &ldquo;Baila&rdquo; played from the <a href=../10-play-music-with-mediaelement/>chapter n¬∞10</a>.</p><p>But let&rsquo;s move on quickly, because we want to hear other tracks!</p><h2 id=binding-components>Binding components</h2><p>Spoiler alert: we&rsquo;re now going to tackle the final dummy components of the app!</p><p>If you remember the <a href=../8-music-player-display-media-playback/>chapter on displaying playback controls</a>, we still have 3 <em>ImageButton</em> components to implement:</p><ul><li><p><code>SkipNextButton</code> to skip to the next song,</p></li><li><p><code>SkipPreviousButton</code> to skip to the previous song,</p></li><li><p>et <code>RepeatOnceButton</code> to replay the music track (once only).</p></li></ul><p>Moving on to the next song is easy. Start by adding the following command to the <strong>ViewModel</strong>:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerViewModel.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Commands</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>[RelayCommand]</span>
</span></span><span class=line><span class=cl><span class=k>void</span> <span class=n>GoToNextTrack</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>CurrentTrackPosition</span> <span class=p>+</span> <span class=m>1</span> <span class=p>&lt;</span> <span class=n>playlist</span><span class=p>.</span><span class=n>Length</span><span class=p>)</span> <span class=n>CurrentTrackPosition</span><span class=p>++;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=n>CurrentTrackPosition</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>Then associate the new command with the <code>SkipNextButton</code> from the <strong>View</strong> :</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Media</span> <span class=n>Control</span> <span class=n>Panel</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=n>ImageButton</span> <span class=n>SkipNextButton</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ImageButton</span> <span class=c1>// The ‚Äú=&gt;‚Äù sign has been replaced with ‚Äú=‚Äù</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>HeightRequest</span> <span class=p>=</span> <span class=m>75</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>WidthRequest</span> <span class=p>=</span> <span class=m>75</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Source</span> <span class=p>=</span> <span class=s>&#34;skip_next.png&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=p>.</span><span class=n>BindCommand</span><span class=p>(</span><span class=s>&#34;GoToNextTrackCommand&#34;</span><span class=p>);</span> <span class=c1>// and here the associated command</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>The behavior defined in the <em>GoToNextTrack()</em> method consists of simply moving the pointer&rsquo;s position one step forward on the array. Of course, when last item of the array is reached, we return to the beginning of the <code>playlist</code>.</p><p>Let&rsquo;s try it out!</p><p align=center><img max-width=100% max-height=100% src=./images/65EB486D8A0AC5564134E3CFA92FB507.gif></p><figure><figcaption class=image-caption>Great, we can finally listen to some more songs!</figcaption></figure><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé That was fast! And to go back in the playlist, we just do the reverse?</div></div></div>Almost! To get back to the previous song, we&rsquo;re going to implement a similar logic, albeit with one condition. First, I&rsquo;d like the song to restart before switching to the previous song.</p><p>I&rsquo;ll explain how. For now, add the following command to the <strong>ViewModel</strong>:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerViewModel.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Commands</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>[RelayCommand]</span>
</span></span><span class=line><span class=cl><span class=k>void</span> <span class=n>GoToPreviousTrack</span><span class=p>(</span><span class=kt>double</span> <span class=n>elapsedTimeForCurrentTrack</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>elapsedTimeForCurrentTrack</span> <span class=p>&lt;</span> <span class=m>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Move one step backward in the playlist</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>CurrentTrackPosition</span> <span class=p>-</span> <span class=m>1</span> <span class=p>&gt;=</span> <span class=m>0</span><span class=p>)</span> <span class=n>CurrentTrackPosition</span><span class=p>--;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=n>CurrentTrackPosition</span> <span class=p>=</span> <span class=n>playlist</span><span class=p>.</span><span class=n>Length</span> <span class=p>-</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Or reset the current track by forcing notification to the View</span>
</span></span><span class=line><span class=cl>        <span class=n>OnPropertyChanged</span><span class=p>(</span><span class=s>&#34;CurrentTrack&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>The behavior defined in the <em>GoToPreviousTrack()</em> method consists of simply moving the pointer&rsquo;s position one step backward on the array. Of course, when the first cell of the array is reached, we switch to the last song in the playlist.</p><p>But did you notice the <code>if</code> condition? You can only return to the previous song if the current song has been playing for less than 2 seconds.</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé But how do we get this information?</div></div></div>Up to now, we&rsquo;ve only seen commands without parameters. But this time, we&rsquo;re going to share the <code>TimeTracker.Value</code> as a parameter to the command to be associated with the <code>SkipPreviousButton</code>.</p><p>To do this, apply the following changes to the <strong>View</strong>:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Media</span> <span class=n>Control</span> <span class=n>Panel</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=n>ImageButton</span> <span class=n>SkipPreviousButton</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ImageButton</span> <span class=c1>// The ‚Äú=&gt;‚Äù sign has been replaced with ‚Äú=‚Äù</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>HeightRequest</span> <span class=p>=</span> <span class=m>75</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>WidthRequest</span> <span class=p>=</span> <span class=m>75</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Source</span> <span class=p>=</span> <span class=s>&#34;skip_previous.png&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=p>.</span><span class=n>BindCommand</span><span class=p>(</span><span class=s>&#34;GoToPreviousTrackCommand&#34;</span><span class=p>,</span> <span class=c1>// and here is the associated command, with parameter!</span>
</span></span><span class=line><span class=cl>    <span class=n>parameterPath</span><span class=p>:</span> <span class=n>nameof</span><span class=p>(</span><span class=n>TimeTracker</span><span class=p>.</span><span class=n>Value</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>parameterSource</span><span class=p>:</span> <span class=n>TimeTracker</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>We still use <em>BindCommand()</em>, but we use two additional parameters for the purposes of our <em>GoToPreviousTrack()</em> method:</p><ul><li><p>The information to be passed as a parameter (<code>parameterPath</code>) is the <code>TimeTracker.Value</code> corresponding to the elapsed playback time,</p></li><li><p>And the source of this property (<code>parameterSource</code>) is, of course, the <code>TimeTracker</code>.</p></li></ul><p>Finally, if you need to restart the song, you can use the <em>OnPropertyChanged()</em> method. This will trigger a notification to the <strong>View</strong> informing that the <code>CurrentTrack</code> property has just been updated (even though its value hasn&rsquo;t changed at all!).</p><p>And that&rsquo;s it! Let&rsquo;s see what it looks like:</p><p align=center><img max-width=100% max-height=100% src=./images/40805480AF240635975DCC72C674F6B6.gif></p><figure><figcaption class=image-caption>The first click restarts the song. Subsequent clicks return to previous songs.</figcaption></figure><p>Well, that&rsquo;s it! Now we just need to implement a button to repeat the song currently playing.</p><h2 id=replay-music-once-again>Replay music once again</h2><p>This is the home stretch of the series, so hang in there!</p><p>To enable a song to be repeated, we must first add the following property to the <strong>ViewModel</strong>:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerViewModel.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Properties</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=na>[ObservableProperty]</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=n>mustRepeatCurrentTrackOnce</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>This is a classic boolean whose state will be modified via its dedicated command :</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerViewModel.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Commands</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>[RelayCommand]</span>
</span></span><span class=line><span class=cl><span class=k>void</span> <span class=n>ToggleRepeatOnce</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>MustRepeatCurrentTrackOnce</span> <span class=p>=</span> <span class=p>!</span><span class=n>MustRepeatCurrentTrackOnce</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>The idea is that each time the user clicks, we invert the state of the boolean to enable or disable repetition. All that remains is to associate this command with the <code>RepeatOnceButton</code> from the <strong>View</strong>:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Media</span> <span class=n>Control</span> <span class=n>Panel</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=n>ImageButton</span> <span class=n>RepeatOnceButton</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ImageButton</span> <span class=c1>// The ‚Äú=&gt;‚Äù sign has been replaced with ‚Äú=‚Äù</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>CornerRadius</span> <span class=p>=</span> <span class=m>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>HeightRequest</span> <span class=p>=</span> <span class=m>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>WidthRequest</span> <span class=p>=</span> <span class=m>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Source</span> <span class=p>=</span> <span class=s>&#34;repeat_once.png&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>BackgroundColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>Black</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>BorderColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>GreenYellow</span> <span class=c1>// We add a colored border to the button</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=p>.</span><span class=n>BindCommand</span><span class=p>(</span><span class=s>&#34;ToggleRepeatOnceCommand&#34;</span><span class=p>);</span> <span class=c1>// And here is the associated command</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>As you may have noticed, I&rsquo;ve defined a color for the outline of the <code>RepeatOnceButton</code> with the <code>BorderColor</code> property. This is to improve the visual rendering when the repeat is activated!</p><p>To do this, we&rsquo;ll use the <code>MustRepeatCurrentTrackOnce</code> property. Modify the <em>InitMediaControlPanel()</em> method to apply the following changes:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>void</span> <span class=n>InitMediaControlPanel</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=n>RepeatOnceButton</span><span class=p>.</span><span class=n>Bind</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>targetProperty</span><span class=p>:</span> <span class=n>ImageButton</span><span class=p>.</span><span class=n>BorderWidthProperty</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>path</span><span class=p>:</span> <span class=n>nameof</span><span class=p>(</span><span class=n>MusicPlayerViewModel</span><span class=p>.</span><span class=n>MustRepeatCurrentTrackOnce</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>convert</span><span class=p>:</span> <span class=p>(</span><span class=kt>bool</span> <span class=n>isEnabled</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>isEnabled</span> <span class=p>?</span> <span class=m>2</span> <span class=p>:</span> <span class=m>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>With this code, we play with the thickness of the borders (<code>BorderWidth</code>) of the <code>RepeatOnceButton</code>, depending on whether the repeat option is activated or not. Indeed, by default, the border thickness is negative!</p><p align=center><img max-width=100% max-height=100% src=./images/60DAE0F96E9985F1F116474E43F6167B.png></p><figure><figcaption class=image-caption>There's no risk of seeing a contour with negative thickness!</figcaption></figure><p>In other words, we won&rsquo;t see any borders unless we change the <code>BorderWidth</code> value ourselves.</p><p>This is why, in the <em>convert</em>, we define a positive value to show a colored contour when <code>MustRepeatCurrentTrackOnce</code> is equal to <code>True</code>.</p><p align=center><img max-width=100% max-height=100% src=./images/86B48EF1E89B9C492E24323D2F50DE83.gif></p><figure><figcaption class=image-caption>It's easy to see when repetition is active. But tastes and colors are another matter!</figcaption></figure><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Fine, but it&rsquo;s not going to help us get the job done, is it?</div></div></div>That&rsquo;s right! In fact, we&rsquo;ll use the <code>MustRepeatCurrentTrackOnce</code> parameter to determine whether to restart the song when it‚Äôs over, or move on to the next song.</p><p>And this logic will be defined in the <strong>ViewModel</strong> with this new public method:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerViewModel.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>AssessRepeatOrSkip</span><span class=p>()</span> <span class=c1>// Method must be public</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>MustRepeatCurrentTrackOnce</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Either reset the current track by forcing notification to the View</span>
</span></span><span class=line><span class=cl>        <span class=n>OnPropertyChanged</span><span class=p>(</span><span class=s>&#34;CurrentTrack&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>MustRepeatCurrentTrackOnce</span> <span class=p>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Or move one step forward in the playlist</span>
</span></span><span class=line><span class=cl>        <span class=n>GoToNextTrack</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Depending on whether <code>MustRepeatCurrentTrackOnce</code> is set to <code>True</code> or <code>False</code>, we either use again the <em>OnPropertyChanged()</em> technique we saw earlier, or move on to the next song with the <em>GoToNextTrack()</em> method.</p><p>By the way, we only want to repeat the song once! So don&rsquo;t forget to disable repetition by setting the <code>MustRepeatCurrentTrackOnce</code> property to <code>False</code>.</p><p>Finally, to detect when the song ends, we&rsquo;ll rely on the <em>MediaEnded</em> event exposed by the <em>MediaElement</em>, as follows:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>void</span> <span class=n>InitMusicPlayer</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=n>MusicPlayer</span><span class=p>.</span><span class=n>MediaEnded</span> <span class=p>+=</span> <span class=n>MusicPlayer_MediaEnded</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>And it&rsquo;s when the event is triggered that you&rsquo;ll ask to repeat the current song or move on to the next one:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Events</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=k>void</span> <span class=n>MusicPlayer_MediaEnded</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>EventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=n>BindingContext</span> <span class=k>as</span> <span class=n>MusicPlayerViewModel</span><span class=p>).</span><span class=n>AssessRepeatOrSkip</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>To do this, we use the <em>MusicPlayerView</em>&rsquo;s <code>BindingContext</code> to call the <em>AssessRepeatOrSkip()</em> method we&rsquo;ve just defined in the <em>MusicPlayerViewModel</em>.</p><p>It&rsquo;s demo time! Recompile the project and check that the current song restarts after clicking on the repeat button:</p><p align=center><img max-width=100% max-height=100% src=./images/E2F9E7696167B73A0592778C3BF8C004.gif></p><figure><figcaption class=image-caption>If a repeat has been requested, then the song restarts (just once!).</figcaption></figure><p>Then let the song finish to check that you are moving on to the next one:</p><p align=center><img max-width=100% max-height=100% src=./images/26C3D60C40D443F7ECB0AA75D9858D53.gif></p><figure><figcaption class=image-caption>As soon as the song ends, it's on to the next!</figcaption></figure><h2 id=conclusion>Conclusion</h2><p>Well then, do you like the result?</p><p>You can now enjoy the app and listen to a few songs in a row, at the desired volume, listen to a few passages again, and even download the tracks! üòé</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>To retrieve the project containing all the different steps applied so far in this series, please refer to the <a href=../2-setup-the-project/>project setup guide</a> and resume from the sample located in the folder <em>&ldquo;5 - Music Player&rdquo;</em>.</div></div></div>But it lacks a bit of animation for a &ldquo;nightclub&rdquo; atmosphere&mldr; Yet that was the <a href=../1-introduction/>promise of the beginning</a>!</p><p>We&rsquo;ll remedy that in the next article, and it&rsquo;ll be the last in this series!!!</p><hr><p>More articles in the series:<ol><div><li hugo-nav=/en/posts/tutos/my-first-app/1-introduction/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/1-introduction/>My very first app with .NET MAUI</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/2-setup-the-project/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/2-setup-the-project/>Setup the project .NET MAUI</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/3-first-run-of-the-project/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/3-first-run-of-the-project/>First run of the app .NET MAUI</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/4-mvvm-for-successful-apps/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/4-mvvm-for-successful-apps/>MVVM, for a successful application</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/5-navigate-to-a-new-page/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/5-navigate-to-a-new-page/>Navigate to a new page in .NET MAUI</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/6-arrange-elements-on-a-page/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/6-arrange-elements-on-a-page/>Arrange elements on a .NET MAUI page</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/7-music-player-display-time-tracker/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/7-music-player-display-time-tracker/>Music player display - Time tracker</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/8-music-player-display-media-playback/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/8-music-player-display-media-playback/>Music player display - Media playback</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/9-music-player-display-volume/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/9-music-player-display-volume/>Music player display - Volume</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/10-play-music-with-mediaelement/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music-with-mediaelement/>Play music in .NET MAUI with MediaElement</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/>Control the playback position with MediaElement</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/12-control-volume-with-mediaelement/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/12-control-volume-with-mediaelement/>Control the volume with MediaElement</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/13-download-audio-file/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/13-download-audio-file/>Download an audio file in .NET MAUI</a></li></div><div class=current><li hugo-nav=/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/ class=nostyle><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/>Listen to a playlist with MediaElement</a></li></div></ol></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Updated on 2023-12-26 00:00:14">Updated on 26/12/2023&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/ data-title="Listen to a playlist with MediaElement" data-via=kapuschinfo data-hashtags="MediaElement,MVVM,ImageButton,Data Binding"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/ data-hashtag=MediaElement><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/ data-title="Listen to a playlist with MediaElement" data-description="The application is great, but it would be nicer if you could change the song. Well that‚Äôs ideal because today we're integrating a music playlist!"><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/en/tags/mediaelement/ class=post-tag>MediaElement</a><a href=/en/tags/mvvm/ class=post-tag>MVVM</a><a href=/en/tags/imagebutton/ class=post-tag>ImageButton</a><a href=/en/tags/data-binding/ class=post-tag>Data Binding</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/en/>Home</a></span></section></div><div class=post-nav><a href=/en/posts/tutos/my-first-app/13-download-audio-file/ class=post-nav-item rel=prev title="Download an audio file in .NET MAUI"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Download an audio file in .NET MAUI</a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=Kapusch/blog-dotnet-maui data-repo-id=R_kgDOH_4TbQ data-category="Blog comments" data-category-id=DIC_kwDOH_4Tbc4CSqsZ data-mapping=Title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></div><div class="footer-line powered">Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.121.1">Hugo</a> | Theme - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer">Jean-Emmanuel BAILLAT</a></span><span class="license footer-divider"><u><a rel="license external nofollow noopener noreferrer" href=/privacy-policy target=_blank>Privacy</a></u> and <u><a rel="license external nofollow noopener noreferrer" href=/terms-of-use target=_blank>Terms</a></u></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Kapusch/blog-dotnet-maui/tree/main/Blog title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>Theme FixIt works best with JavaScript enabled.</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/lunr/lunr.min.js defer></script><script src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script src=/lib/lunr/lunr.fr.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/en/index.json",lunrLanguageCode:"en",maxResultLength:10,noResultsFound:"No results found",snippetLength:110,type:"lunr"}}</script><script src=/js/theme.min.js defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0BB9XCL25S",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=G-0BB9XCL25S" async></script></body></html>