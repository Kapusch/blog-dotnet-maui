<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>ContrÃ´ler le volume avec MediaElement - MAUI, c'est clair !</title><meta name=author content="Jean-Emmanuel BAILLAT">
<meta name=author-link content="https://github.com/Kapusch"><meta name=description content="On va dÃ©sormais implementer le contrÃ´le du volume ! Comme dans tout bon lecteur musical, on veut que notre utilisateur puisse monter ou baisser le niveau sonore Ã  sa guise."><meta name=keywords content='MVVM,Data Binding,MediaElement,Slider'><meta itemprop=name content="ContrÃ´ler le volume avec MediaElement"><meta itemprop=description content="On va dÃ©sormais implementer le contrÃ´le du volume ! Comme dans tout bon lecteur musical, on veut que notre utilisateur puisse monter ou baisser le niveau sonore Ã  sa guise."><meta itemprop=datePublished content="2023-12-10T00:00:12+00:00"><meta itemprop=dateModified content="2023-12-10T00:00:12+00:00"><meta itemprop=wordCount content="1925"><meta itemprop=image content="https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/featured-image-preview-en.png"><meta itemprop=keywords content="MVVM,Data Binding,MediaElement,Slider,"><meta property="og:title" content="ContrÃ´ler le volume avec MediaElement"><meta property="og:description" content="On va dÃ©sormais implementer le contrÃ´le du volume ! Comme dans tout bon lecteur musical, on veut que notre utilisateur puisse monter ou baisser le niveau sonore Ã  sa guise."><meta property="og:type" content="article"><meta property="og:url" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/"><meta property="og:image" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/featured-image-preview-en.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-10T00:00:12+00:00"><meta property="article:modified_time" content="2023-12-10T00:00:12+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/featured-image-preview-en.png"><meta name=twitter:title content="ContrÃ´ler le volume avec MediaElement"><meta name=twitter:description content="On va dÃ©sormais implementer le contrÃ´le du volume ! Comme dans tout bon lecteur musical, on veut que notre utilisateur puisse monter ou baisser le niveau sonore Ã  sa guise."><meta name=twitter:site content="@kapuschinfo"><meta name=application-name content="MAUI, c'est clair !"><meta name=apple-mobile-web-app-title content="MAUI, c'est clair !"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/><link rel=prev href=https://www.mauicestclair.fr/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/><link rel=next href=https://www.mauicestclair.fr/posts/tutos/my-first-app/13-download-audio-file/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"ContrÃ´ler le volume avec MediaElement","inLanguage":"fr","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.mauicestclair.fr\/posts\/tutos\/my-first-app\/12-control-volume-with-mediaelement\/"},"genre":"posts","keywords":"MVVM, Data Binding, MediaElement, Slider","wordcount":1925,"url":"https:\/\/www.mauicestclair.fr\/posts\/tutos\/my-first-app\/12-control-volume-with-mediaelement\/","datePublished":"2023-12-10T00:00:12+00:00","dateModified":"2023-12-10T00:00:12+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Jean-Emmanuel BAILLAT"},"description":"On va dÃ©sormais implementer le contrÃ´le du volume ! Comme dans tout bon lecteur musical, on veut que notre utilisateur puisse monter ou baisser le niveau sonore Ã  sa guise."}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=wide><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="MAUI, c'est clair !" data-alt="MAUI, c'est clair !" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Articles</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Cours</a></li><li class=menu-item><a class=menu-link href=/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Astuces</a></li></ul></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> Ã€ propos</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Rechercher des titres, des contenus..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Chercher><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Effacer><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Changer de ThÃ¨me"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language-switch"><span role=button aria-label="Choisir la langue" title="Choisir la langue"><i class="fa-solid fa-language fa-fw" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><span class="menu-link text-secondary" title=FranÃ§ais>FranÃ§ais</span></li><li class=menu-item><a href=/en/posts/tutos/my-first-app/12-control-volume-with-mediaelement/ class=menu-link title=English>English</a></li></ul></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title=/main_avatar.jpg data-alt=/main_avatar.jpg class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Rechercher des titres, des contenus..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Chercher><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Effacer><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Annuler</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Articles</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Cours</a></li><li class=menu-item><a class=menu-link href=/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Astuces</a></li></ul></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> Ã€ propos</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Changer de ThÃ¨me"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span><span class="menu-system-item language-switch">
<span role=button aria-label="Choisir la langue" title="Choisir la langue">FranÃ§ais<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option value=/posts/tutos/my-first-app/12-control-volume-with-mediaelement/ selected disabled>FranÃ§ais</option><option value=/en/posts/tutos/my-first-app/12-control-volume-with-mediaelement/>English</option></select></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/posts/ title=Publications>Publications</a></li><li class=breadcrumb-item><a href=/posts/tutos/ title=Cours>Cours</a></li><li class=breadcrumb-item><a href=/posts/tutos/my-first-app/ title="Ma premiÃ¨re app">Ma premiÃ¨re app</a></li><li class="breadcrumb-item active" aria-current=page>ContrÃ´ler le volume avec MediaElement</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>Contenus&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>ContrÃ´ler le volume avec MediaElement</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="Jean-Emmanuel BAILLAT" data-alt="Jean-Emmanuel BAILLAT" class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Jean-Emmanuel BAILLAT</a></span></div><div class=post-meta-line><span title="publiÃ© le 2023-12-10 00:00:12"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=10/12/2023>10/12/2023</time></span>&nbsp;<span title="Mis Ã  jour le 2023-12-10 00:00:12"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=10/12/2023>10/12/2023</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>1925 mots</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>10 minutes</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contenus</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#dÃ©finir-un-niveau-de-volume>DÃ©finir un niveau de volume</a></li><li><a href=#couper-le-son>Couper le son</a></li><li><a href=#quelques-optimisations>Quelques optimisations</a></li></ul></li></ul></nav></div></div><div class=content id=content><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Afin dâ€™assurer le bon dÃ©roulement de cet article, je tâ€™invite Ã  repartir depuis <a href=../10-play-music-with-mediaelement/>ce chapitre</a> oÃ¹ lâ€™on a configurÃ© le <em>MediaElement</em>.</div></div></div>Dans lâ€™article prÃ©cÃ©dent, on avait vu comment dÃ©placer la tÃªte de lecture avec notre propre contrÃ´le de type <em>Slider</em>. Et je sais que câ€™Ã©tait un peu long ! Accroche-toi, on nâ€™est plus trÃ¨s loin de la fin de ce cours ğŸ™‚</p><p>Nous allons donc voir aujourdâ€™hui comment implÃ©menter le contrÃ´le du volume, lui aussi avec lâ€™aide dâ€™un <em>Slider</em>. Eh oui, comme dans tout bon lecteur musical, on veut que notre utilisateur puisse monter ou baisser le niveau sonore Ã  sa guise !</p><h2 id=dÃ©finir-un-niveau-de-volume>DÃ©finir un niveau de volume</h2><p>Si tu te rappelles bien, dans le <a href=../9-music-player-display-volume/>chapitre sur lâ€™affichage du volume</a>, nous avions introduit 2 composants :</p><ul><li><p>le <code>MuteButton</code>, qui est un contrÃ´le de type <em>ImageButton</em> pour couper le son,</p></li><li><p>et le <em>Slider</em> <code>VolumeTracker</code>, pour contrÃ´ler le volume sonore de maniÃ¨re prÃ©cise.</p></li></ul><p>Comme on a lâ€™habitude de le faire, rendons-les maintenant utilisables avec lâ€™aide du <strong>Data Binding</strong>, et tout Ã§a dans une mÃ©thode dâ€™initialisation nommÃ©e <em>InitVolumeTracker()</em> :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=c1>// Comme toujours, chaque morceau de code a sa rÃ©gion !</span>
</span></span><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Volume</span> <span class=n>Tracker</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=n>Slider</span> <span class=n>VolumeTracker</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Slider</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Minimum</span> <span class=p>=</span> <span class=m>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>MinimumTrackColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>Black</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>Maximum</span> <span class=p>=</span> <span class=m>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>MaximumTrackColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>Gray</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=c1>// On n&#39;a plus besoin de valeur factice, tu peux supprimer cette ligne</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Value = 60</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>InitVolumeTracker</span><span class=p>()</span> <span class=c1>// Et voici la nouvelle mÃ©thode d&#39;initialisation</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>VolumeTracker</span><span class=p>.</span><span class=n>Bind</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>Slider</span><span class=p>.</span><span class=n>ValueProperty</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>nameof</span><span class=p>(</span><span class=n>MusicPlayer</span><span class=p>.</span><span class=n>Volume</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>source</span><span class=p>:</span> <span class=n>MusicPlayer</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>convert</span><span class=p>:</span> <span class=p>(</span><span class=kt>double</span> <span class=n>mediaElementVolume</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>mediaElementVolume</span> <span class=p>*</span> <span class=m>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>convertBack</span><span class=p>:</span> <span class=p>(</span><span class=kt>double</span> <span class=n>sliderValue</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>sliderValue</span> <span class=p>/</span> <span class=m>100</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>Ã‡a va, pas de problÃ¨me jusquâ€™ici ? Finalement, câ€™est trÃ¨s proche de ce quâ€™on a mis en place pour le contrÃ´le de la tÃªte de lecture !</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>ğŸ’â€ â€ Ah oui ! Mais euhâ€¦ câ€™est nouveau le <em>convertBack</em> ?</div></div></div>HÃ©-hÃ©, rien ne tâ€™Ã©chappe !</p><p>ConcrÃ¨tement, nous avons associÃ© la position du curseur sur le <em>Slider</em> (<code>VolumeTracker.Value</code>) Ã  la valeur du volume qui est exposÃ© par le <em>MediaElement</em> (<code>MusicPlayer.Volume</code>). Et si tu as bien lu la <a href="https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/controls/slider?view=net-maui-8.0" target=_blank rel="external nofollow noopener noreferrer">documentation du Slider<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>, il est dit que lâ€™association de la propriÃ©tÃ© <code>Value</code> du <em>Slider</em> est bidirectionnelle (<code>BindingMode.TwoWay</code>), câ€™est-Ã -dire que :</p><ul><li><p>Tout changement de valeur depuis le composant source (ici, le <code>MusicPlayer</code>) aura un impact sur le composant cible (câ€™est le <code>VolumeTracker</code>),</p></li><li><p>Et inversement, toute nouvelle valeur depuis le composant cible (<code>VolumeTracker</code>) aura un impact sur le composant source (<code>MusicPlayer</code>) !</p></li></ul><p>En dâ€™autres mots, si le volume du <em>MediaElement</em> descendait Ã  0, alors le curseur du <em>Slider</em> glisserait tout Ã  gauche, et si lâ€™utilisateur dÃ©plaÃ§ait le curseur tout Ã  droite, alors le volume du <em>MediaElement</em> serait dÃ©fini Ã  1.</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>La propriÃ©tÃ© <em>convert</em> agit dans le sens â€œsource â†’ cibleâ€, alors que la propriÃ©tÃ© <em>convertBack</em> agit dans le sens contraire, â€œcible â†’ sourceâ€.</div></div></div>Seulement, il est prÃ©cisÃ© dans la <a href=https://learn.microsoft.com/fr-fr/dotnet/communitytoolkit/maui/views/mediaelement#properties target=_blank rel="external nofollow noopener noreferrer">documentation du MediaElement<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> que la propriÃ©tÃ© <code>Volume</code> nâ€™accepte que des valeurs de type <em>double</em> qui sont comprises entre 0 et 1.</p><p>Câ€™est pourquoi, lors du <em>convert</em>, nous devons multiplier par 100 la valeur du <code>MusicPlayer.Volume</code> pour dÃ©finir la position du curseur sur le <em>Slider</em> (<code>VolumeTracker.Value</code>). Et Ã  lâ€™inverse dans le <em>convertBack</em>, on doit diviser par 100 la valeur choisie par lâ€™utilisateur via le <em>Slider</em> pour modifier correctement la valeur du <em>MediaElement</em>.</p><p>Enfin, tu nâ€™as plus quâ€™Ã  appeler la mÃ©thode dâ€™initialisation <em>InitVolumeTracker()</em> depuis le constructeur de la page :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>NightClub.Views</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>MusicPlayerView</span> <span class=p>:</span> <span class=n>ContentPage</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>MusicPlayerView</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>        <span class=n>InitVolumeTracker</span><span class=p>();</span> <span class=c1>// Et voilÃ , avec Ã§a on est bons !</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Allez, relance le projet et vÃ©rifie que tu peux modifier le volume !</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>ğŸ’â€ â€ DÃ©jÃ  !? HÃ©Ã©Ã© mais, et le <code>MuteButton</code>, quâ€™est-ce quâ€™on en fait ?</div></div></div>Parfois, il suffit de peu de code pour dÃ©bloquer de nouvelles fonctionnalitÃ©s ! Profites-en pour vÃ©rifier que Ã§a fonctionne bien, on se revoit juste aprÃ¨s pour la suite !</p><h2 id=couper-le-son>Couper le son</h2><p>Pour le <code>MuteButton</code>, câ€™est encore plus simple ! En effet, câ€™est dÃ©jÃ  pris en compte par le <em>MediaElement</em> avec la propriÃ©tÃ© <code>ShouldMute</code> de type <em>boolean</em>. Et donc, tout ce que nous avons Ã  faire, câ€™est dÃ©tecter le clic de lâ€™utilisateur sur le bouton et modifier sa valeur.</p><p>Pour cela, commenÃ§ons par dÃ©finir un nouvel Ã©vÃ¨nement nommÃ© <em>MuteButton_Clicked()</em>â€¦</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Events</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>MuteButton_Clicked</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>EventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span> <span class=p>=</span> <span class=p>!</span><span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>â€¦ qui sera initialisÃ© depuis notre mÃ©thode existante, dans le <em>InitMuteButton()</em> :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Mute</span> <span class=n>Button</span> <span class=n>Visual</span> <span class=n>States</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>InitMuteButton</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>        <span class=n>MuteButton</span><span class=p>.</span><span class=n>Clicked</span> <span class=p>+=</span> <span class=n>MuteButton_Clicked</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>Cet Ã©vÃ¨nement est plutÃ´t simple, non ? Il suffit dâ€™inverser la valeur de la propriÃ©tÃ© <code>MusicPlayer.ShouldMute</code> pour alternativement couper ou remettre le son.</p><p>Bon, mais câ€™est pas tout ! Car si jamais tu voulais essayer, voici ce que cela donne :</p><p align=center><img max-width=100% max-height=100% src=./images/90E63FF9DAAB6EE5608B15F4876B682F.gif></p><figure><figcaption class=image-caption>Le bouton fonctionne bien ! Mais il y a quelque chose qui cloche visuellement.</figcaption></figure><p>Le son est bien coupÃ© quand on clique une premiÃ¨re fois sur le <code>MuteButton</code>, et il se rÃ©active au clic suivant. Câ€™est pas mal du tout !</p><p>Cependant, quelque chose dÃ©range visuellement. Ã‡a donne comme un effet bizarre quand le son est coupÃ© :</p><ul><li><p>Lâ€™icÃ´ne du <code>MuteButton</code> aurait du changer pour reprÃ©senter le son coupÃ©,</p></li><li><p>Et le curseur du <code>VolumeTracker</code> aurait du glisser tout Ã  gauche, pour la mÃªme raison.</p></li></ul><p>En fait, il aurait fallu que ces deux contrÃ´les sâ€™adaptent au niveau de volume sonoreâ€¦ Aurais-tu une idÃ©e ? ğŸ˜Š</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>ğŸ’â€ â€ Eh bien, on doit modifier la valeur du volume nous-mÃªmes, tout simplement !</div></div></div>HÃ© oui, câ€™est Ã§a ! Mais as-tu pensÃ© Ã  ce qui se passerait quand lâ€™utilisateur rÃ©activera le son ?</p><p>Lâ€™idÃ©al serait que le volume sonore remonte au niveau oÃ¹ il Ã©tait avant dâ€™Ãªtre coupÃ©. On va donc enregistrer le niveau du volume lorsque lâ€™utilisateur clique sur le <code>MuteButton</code> !</p><p>Pour cela, on aura besoin Ã  nouveau dâ€™une variable :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Properties</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=n>mustResumePlayback</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>savedVolumeBeforeGoingMute</span><span class=p>;</span> <span class=c1>// Une nouvelle variable de type double</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>La variable <code>savedVolumeBeforeGoingMute</code> doit Ãªtre de type <em>double</em> pour correspondre Ã  la valeur contenue dans la propriÃ©tÃ© <code>Volume</code> du <em>MediaElement</em>.</p><p>Et maintenant, tu nâ€™as plus quâ€™Ã  modifier lâ€™Ã©vÃ¨nement <em>MuteButton_Clicked()</em> comme ceci :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Events</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>MuteButton_Clicked</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>EventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(!</span><span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// On enregistre bien le volume actuel avant de couper le son...</span>
</span></span><span class=line><span class=cl>            <span class=n>savedVolumeBeforeGoingMute</span> <span class=p>=</span> <span class=n>MusicPlayer</span><span class=p>.</span><span class=n>Volume</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>MusicPlayer</span><span class=p>.</span><span class=n>Volume</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// ... et quand le son est rÃ©activÃ©, on le rÃ©tablit comme avant !</span>
</span></span><span class=line><span class=cl>            <span class=n>MusicPlayer</span><span class=p>.</span><span class=n>Volume</span> <span class=p>=</span> <span class=n>savedVolumeBeforeGoingMute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>				
</span></span><span class=line><span class=cl>        <span class=c1>// Et bien sÃ»r ici, Ã§a ne change pas !</span>
</span></span><span class=line><span class=cl>        <span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span> <span class=p>=</span> <span class=p>!</span><span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>DÃ©sormais quand on dÃ©tecte que le son va Ãªtre dÃ©sactivÃ©, on garde en mÃ©moire la valeur du volume sonore dans la variable <code>savedVolumeBeforeGoingMute</code>, puis on modifie nous-mÃªmes la valeur de la propriÃ©tÃ© <code>MusicPlayer.Volume</code> Ã  0.</p><p>Dâ€™ailleurs, je me suis demandÃ© pourquoi ce nâ€™Ã©tait dÃ©jÃ  pas intÃ©grÃ© dans la librairie <a href=https://learn.microsoft.com/fr-fr/dotnet/communitytoolkit/maui/ target=_blank rel="external nofollow noopener noreferrer">.NET MAUI Community Toolkit<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>. Et jâ€™ai donc posÃ© la question sur <a href=https://github.com/CommunityToolkit/Maui/discussions/950#discussioncomment-7245223 target=_blank rel="external nofollow noopener noreferrer">Github<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> directement Ã  lâ€™auteur de la fonctionnalitÃ© ! Câ€™est Ã§a la magie de lâ€™Open Source.</p><p><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>En lisant la rÃ©ponse Ã  ma question, tu auras peut-Ãªtre compris quâ€™il existe une autre faÃ§on dâ€™implÃ©menter la dÃ©sactivation du son. Partage-moi ton essai en commentaires !</div></div></div>Allez, voyons ce que Ã§a donne avec ces derniers changements :</p><p align=center><img max-width=100% max-height=100% src=./images/6C0BFDD6BF2BF8B1FB33D588D55EEA6E.gif></p><figure><figcaption class=image-caption>Ah, eh bien lÃ  câ€™est plus clair quand on coupe le son !</figcaption></figure><p>Super ! Mais on doit parer tous les cas dâ€™utilisation possibles et imaginablesâ€¦ Câ€™est ce que nous allons voir juste aprÃ¨s.</p><h2 id=quelques-optimisations>Quelques optimisations</h2><p>On va en effet appliquer quelques amÃ©liorations, car il reste deux situations oÃ¹ le comportement de notre fonctionnalitÃ© est bancal.</p><p>Par exemple, on a un premier cas oÃ¹ le curseur du volume reste bloquÃ© tout Ã  gauche :</p><p align=center><img max-width=100% max-height=100% src=./images/EFF7E071F18949EAEEF026775B1C56B1.gif></p><figure><figcaption class=image-caption>On a beau cliquer sur le bouton pour rÃ©activer le son, rien ne se passe !</figcaption></figure><p>Câ€™est complÃ¨tement normal ! Bien que le volume ait diminuÃ© jusquâ€™Ã  0, la variable <code>MusicPlayer.ShouldMute</code> nâ€™est finalement pas passÃ©e Ã  <code>true</code>. Techniquement, lâ€™utilisateur nâ€™est donc pas en train de rÃ©activer le son !</p><p><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Essaye de mettre des points de dÃ©boggage dans la mÃ©thode <em>MuteButton_Clicked()</em> !</div></div></div>Dans la deuxiÃ¨me situation inattendue, le son ne se rÃ©active tout simplement pas :</p><p align=center><img max-width=100% max-height=100% src=./images/A8DF0BDE074472BBB305AD3314187DC5.gif></p><figure><figcaption class=image-caption>AprÃ¨s avoir coupÃ© le son, monter le volume ne change rien du tout !</figcaption></figure><p>Mais finalement, lÃ  aussi, rien dâ€™Ã©trange. Dâ€™ailleurs, la cause dâ€™origine est la mÃªme que dans le cas prÃ©cÃ©dent ! En effet, mÃªme si le volume a augmentÃ©, la variable <code>MusicPlayer.ShouldMute</code> nâ€™est jamais passÃ©e Ã  <code>false</code>. Rebelotte donc, lâ€™utilisateur nâ€™est pas en train de rÃ©activer le son !</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>â€<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>ğŸ’â€ â€ Mais du coup, tout ce quâ€™on a fait est faux ?</div></div></div>Non, pas du tout ! Il y a Ã©videmment des dizaines dâ€™autres faÃ§ons dâ€™implÃ©menter tout Ã§a (et libre Ã  toi dâ€™essayer !), mais dans notre cas, il nous reste juste une petite partie Ã  coder.</p><p>Mais alors, que manque-tâ€™il dâ€™aprÃ¨s toi ? Un indice : tout commence par le changement de valeur du volume.</p><p>Et Ã§a, ce nâ€™est possible quâ€™avec le dÃ©placement du curseur sur le <em>Slider</em>â€¦ Alors, on va optimiser le comportement actuel avec un nouvel Ã©vÃ¨nement nommÃ© <em>VolumeTracker_DragCompleted()</em> :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Events</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=k>void</span> <span class=n>VolumeTracker_DragCompleted</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>EventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// Il est recommandÃ© de toujours se rÃ©fÃ©rer Ã  l&#39;objet qui est</span>
</span></span><span class=line><span class=cl>	<span class=c1>// la source de l&#39;Ã©vÃ¨nement Ã  travers le paramÃ¨tre &#34;sender&#34;</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>sender</span> <span class=k>is</span> <span class=n>Slider</span> <span class=n>volumeTrackerControl</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=p>(</span><span class=n>volumeTrackerControl</span><span class=p>.</span><span class=n>Value</span> <span class=p>==</span> <span class=m>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=c1>// Le volume sonore doit toujours Ãªtre suffisamment</span>
</span></span><span class=line><span class=cl>				<span class=c1>// Ã©levÃ© quand le son est rÃ©activÃ©</span>
</span></span><span class=line><span class=cl>				<span class=n>savedVolumeBeforeGoingMute</span> <span class=p>=</span> <span class=m>0.2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>				<span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span> <span class=p>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=c1>// On doit rÃ©activer le son quand le curseur</span>
</span></span><span class=line><span class=cl>				<span class=c1>// dÃ©finit une valeur strictement positive</span>
</span></span><span class=line><span class=cl>				<span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldMute</span> <span class=p>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>Et bien sÃ»r, on nâ€™oublie pas dâ€™initialiser cet Ã©vÃ¨nement depuis la bonne mÃ©thodeâ€¦</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Volume</span> <span class=n>Tracker</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=k>void</span> <span class=n>InitVolumeTracker</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>VolumeTracker</span><span class=p>.</span><span class=n>DragCompleted</span> <span class=p>+=</span> <span class=n>VolumeTracker_DragCompleted</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>Relance le projet, vÃ©rifie que tout fonctionne, et surtout, profite du rÃ©sultat de tes efforts !</p><p>Jâ€™espÃ¨re que tu auras appris plein de nouvelles choses aujourdâ€™hui. De maniÃ¨re gÃ©nÃ©rale, inspire-toi de ce que tu observes pour expÃ©rimenter de nouvelles choses. Et en allant un peu plus loin Ã  chaque fois, tu deviendras de plus en plus Ã  lâ€™aise !</p><p>Allez, on se revoit trÃ¨s vite pour <a href=../13-download-audio-file/>un nouveau chapitre</a> ! ğŸ™‚</p><hr><p>Plus d&rsquo;articles dans la mÃªme sÃ©rie:<ol><div><li hugo-nav=/posts/tutos/my-first-app/1-introduction/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/1-introduction/>Ma toute premiÃ¨re app en .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/2-setup-the-project/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/2-setup-the-project/>Installation du projet .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/3-first-run-of-the-project/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/3-first-run-of-the-project/>PremiÃ¨re exÃ©cution de lâ€™app .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/4-mvvm-for-successful-apps/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/4-mvvm-for-successful-apps/>Le MVVM, pour une application rÃ©ussie</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/5-navigate-to-a-new-page/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/5-navigate-to-a-new-page/>Naviguer vers une nouvelle page en .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/6-arrange-elements-on-a-page/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/6-arrange-elements-on-a-page/>Agencer les Ã©lÃ©ments d'une page .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/7-music-player-display-time-tracker/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/7-music-player-display-time-tracker/>Affichage du lecteur MP3 - DurÃ©e d'Ã©coute</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/8-music-player-display-media-playback/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/8-music-player-display-media-playback/>Affichage du lecteur MP3 - ContrÃ´les de lecture</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/9-music-player-display-volume/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-music-player-display-volume/>Affichage du lecteur MP3 - Volume</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/10-play-music-with-mediaelement/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/10-play-music-with-mediaelement/>Ã‰couter de la musique en .NET MAUI avec MediaElement</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/>ContrÃ´ler la tÃªte de lecture avec MediaElement</a></li></div><div class=current><li hugo-nav=/posts/tutos/my-first-app/12-control-volume-with-mediaelement/ class=nostyle><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/>ContrÃ´ler le volume avec MediaElement</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/13-download-audio-file/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/13-download-audio-file/>TÃ©lÃ©charger un fichier audio en .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/>Ã‰couter une playlist avec MediaElement</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/15-add-animations-to-an-app/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/>CrÃ©er des animations avec .NET MAUI pour une ambiance disco</a></li></div></ol></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Mis Ã  jour le 2023-12-10 00:00:12">Mis Ã  jour le 10/12/2023&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Partager via Twitter" data-sharer=twitter data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/ data-title="ContrÃ´ler le volume avec MediaElement" data-via=kapuschinfo data-hashtags="MVVM,Data Binding,MediaElement,Slider"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Facebook" data-sharer=facebook data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/ data-hashtag=MVVM><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Linkedin" data-sharer=linkedin data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Blogger" data-sharer=blogger data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/ data-title="ContrÃ´ler le volume avec MediaElement" data-description="On va dÃ©sormais implementer le contrÃ´le du volume ! Comme dans tout bon lecteur musical, on veut que notre utilisateur puisse monter ou baisser le niveau sonore Ã  sa guise."><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/mvvm/ class=post-tag>MVVM</a><a href=/tags/data-binding/ class=post-tag>Data Binding</a><a href=/tags/mediaelement/ class=post-tag>MediaElement</a><a href=/tags/slider/ class=post-tag>Slider</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Retour</a></span>&nbsp;|&nbsp;<span><a href=/>Accueil</a></span></section></div><div class=post-nav><a href=/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/ class=post-nav-item rel=prev title="ContrÃ´ler la tÃªte de lecture avec MediaElement"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>ContrÃ´ler la tÃªte de lecture avec MediaElement</a>
<a href=/posts/tutos/my-first-app/13-download-audio-file/ class=post-nav-item rel=next title="TÃ©lÃ©charger un fichier audio en .NET MAUI">TÃ©lÃ©charger un fichier audio en .NET MAUI<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=Kapusch/blog-dotnet-maui data-repo-id=R_kgDOH_4TbQ data-category="Blog comments" data-category-id=DIC_kwDOH_4Tbc4CSqsZ data-mapping=Title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=fr crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></div><div class="footer-line powered">PropulsÃ© par <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.123.1">Hugo</a> | ThÃ¨me - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer">Jean-Emmanuel BAILLAT</a></span><span class="license footer-divider"><u><a rel="license external nofollow noopener noreferrer" href=/privacy-policy target=_blank>ConfidentialitÃ©</a></u> et <u><a rel="license external nofollow noopener noreferrer" href=/terms-of-use target=_blank>CGU</a></u></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Retour en Haut"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="Afficher les Commentaires"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Kapusch/blog-dotnet-maui/tree/main/Blog title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>Le thÃ¨me FixIt fonctionne mieux quand JavaScript est activÃ©.</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/lunr/lunr.min.js defer></script><script src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script src=/lib/lunr/lunr.fr.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"Copier dans le presse-papiers",maxShownLines:50},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"J'ai compris !",link:"En apprendre plus",message:"Ce site Web utilise des Cookies pour amÃ©liorer votre expÃ©rience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"fr",maxResultLength:10,noResultsFound:"Aucun rÃ©sultat trouvÃ©",snippetLength:110,type:"lunr"}}</script><script src=/js/theme.min.js defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0BB9XCL25S",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=G-0BB9XCL25S" async></script></body></html>