<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Cr√©er des animations avec .NET MAUI pour une ambiance disco - MAUI, c'est clair !</title><meta name=author content="Jean-Emmanuel BAILLAT">
<meta name=author-link content="https://github.com/Kapusch"><meta name=description content="Dans cet √©pisode final, nous allons cr√©er des animations avec .NET MAUI pour instaurer une ambiance de folie. Mets vite tes lunettes car il va y avoir des flashs de partout !"><meta name=keywords content='Animation,AbsoluteLayout,Round Effect,Brush'><meta itemprop=name content="Cr√©er des animations avec .NET MAUI pour une ambiance disco"><meta itemprop=description content="Dans cet √©pisode final, nous allons cr√©er des animations avec .NET MAUI pour instaurer une ambiance de folie. Mets vite tes lunettes car il va y avoir des flashs de partout !"><meta itemprop=datePublished content="2024-01-16T00:00:15+00:00"><meta itemprop=dateModified content="2024-01-16T00:00:15+00:00"><meta itemprop=wordCount content="3333"><meta itemprop=image content="https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/featured-image-preview-en.png"><meta itemprop=keywords content="Animation,AbsoluteLayout,Round Effect,Brush,"><meta property="og:title" content="Cr√©er des animations avec .NET MAUI pour une ambiance disco"><meta property="og:description" content="Dans cet √©pisode final, nous allons cr√©er des animations avec .NET MAUI pour instaurer une ambiance de folie. Mets vite tes lunettes car il va y avoir des flashs de partout !"><meta property="og:type" content="article"><meta property="og:url" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/"><meta property="og:image" content="https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/featured-image-preview-en.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-16T00:00:15+00:00"><meta property="article:modified_time" content="2024-01-16T00:00:15+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/featured-image-preview-en.png"><meta name=twitter:title content="Cr√©er des animations avec .NET MAUI pour une ambiance disco"><meta name=twitter:description content="Dans cet √©pisode final, nous allons cr√©er des animations avec .NET MAUI pour instaurer une ambiance de folie. Mets vite tes lunettes car il va y avoir des flashs de partout !"><meta name=twitter:site content="@kapuschinfo"><meta name=application-name content="MAUI, c'est clair !"><meta name=apple-mobile-web-app-title content="MAUI, c'est clair !"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/><link rel=prev href=https://www.mauicestclair.fr/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Cr√©er des animations avec .NET MAUI pour une ambiance disco","inLanguage":"fr","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.mauicestclair.fr\/posts\/tutos\/my-first-app\/15-add-animations-to-an-app\/"},"genre":"posts","keywords":"Animation, AbsoluteLayout, Round Effect, Brush","wordcount":3333,"url":"https:\/\/www.mauicestclair.fr\/posts\/tutos\/my-first-app\/15-add-animations-to-an-app\/","datePublished":"2024-01-16T00:00:15+00:00","dateModified":"2024-01-16T00:00:15+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Jean-Emmanuel BAILLAT"},"description":"Dans cet √©pisode final, nous allons cr√©er des animations avec .NET MAUI pour instaurer une ambiance de folie. Mets vite tes lunettes car il va y avoir des flashs de partout !"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=wide><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="MAUI, c'est clair !" data-alt="MAUI, c'est clair !" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Articles</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Cours</a></li><li class=menu-item><a class=menu-link href=/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Astuces</a></li></ul></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> √Ä propos</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Rechercher des titres, des contenus..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Chercher><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Effacer><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Changer de Th√®me"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language-switch"><span role=button aria-label="Choisir la langue" title="Choisir la langue"><i class="fa-solid fa-language fa-fw" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><span class="menu-link text-secondary" title=Fran√ßais>Fran√ßais</span></li><li class=menu-item><a href=/en/posts/tutos/my-first-app/15-add-animations-to-an-app/ class=menu-link title=English>English</a></li></ul></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title=/main_avatar.jpg data-alt=/main_avatar.jpg class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Rechercher des titres, des contenus..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Chercher><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Effacer><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Annuler</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Articles</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Cours</a></li><li class=menu-item><a class=menu-link href=/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Astuces</a></li></ul></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> √Ä propos</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Changer de Th√®me"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span><span class="menu-system-item language-switch">
<span role=button aria-label="Choisir la langue" title="Choisir la langue">Fran√ßais<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option value=/posts/tutos/my-first-app/15-add-animations-to-an-app/ selected disabled>Fran√ßais</option><option value=/en/posts/tutos/my-first-app/15-add-animations-to-an-app/>English</option></select></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/posts/ title=Publications>Publications</a></li><li class=breadcrumb-item><a href=/posts/tutos/ title=Cours>Cours</a></li><li class=breadcrumb-item><a href=/posts/tutos/my-first-app/ title="Ma premi√®re app">Ma premi√®re app</a></li><li class="breadcrumb-item active" aria-current=page>Cr√©er des animations avec .NET MAUI pour une ambiance disco</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>Contenus&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Cr√©er des animations avec .NET MAUI pour une ambiance disco</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="Jean-Emmanuel BAILLAT" data-alt="Jean-Emmanuel BAILLAT" class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Jean-Emmanuel BAILLAT</a></span></div><div class=post-meta-line><span title="publi√© le 2024-01-16 00:00:15"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=16/01/2024>16/01/2024</time></span>&nbsp;<span title="Mis √† jour le 2024-01-16 00:00:15"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=16/01/2024>16/01/2024</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>3333 mots</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>16 minutes</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contenus</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#mise-en-place-des-projecteurs>Mise en place des projecteurs</a></li><li><a href=#peaufiner-le-visuel-pour-un-peu-plus-de-r√©alisme>Peaufiner le visuel pour un peu plus de r√©alisme</a></li><li><a href=#cest-lheure-du-disco>C‚Äôest l‚Äôheure du disco!</a><ul><li><a href=#la-touche-finale>La touche finale</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></li></ul></nav></div></div><div class=content id=content><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Cet article fait parti d‚Äôun cours (<a href=..><em>‚ÄùMa Premi√®re App‚Äù</em></a>).
Pour assurer son bon d√©roulement, je t‚Äôinvite √† r√©cup√©rer le projet reprenant toutes les √©tapes appliqu√©es jusqu‚Äôici. Pour cela, r√©f√®re-toi au <a href=../2-setup-the-project/>guide d‚Äôinstallation du projet</a> et repars de l‚Äôexemple situ√© dans le dossier <em>‚Äú5 - Music Player‚Äù</em>.</div></div></div>Bienvenue dans l‚Äô√©pisode final de cette s√©rie ! ‚úåÔ∏è¬†Si tu as suivi le cours jusqu‚Äôici, alors tu devrais avoir une application aboutie pour √©couter quelques morceaux de musique.</p><p>Seulement voil√†, l‚Äôambiance reste un peu terne‚Ä¶ Or je t‚Äôavais promis une ambiance disco <a href=../1-introduction/>au tout d√©but de ce cours</a> ! Du coup, aujourd‚Äôhui nous allons apprendre √† utiliser les <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/animation/basic target=_blank rel="external nofollow noopener noreferrer">animations en .NET MAUI<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> pour mettre le feu sur la piste.</p><p>Alors mets vite tes lunettes car il va y avoir des flashs de partout ! ü™©</p><h2 id=mise-en-place-des-projecteurs>Mise en place des projecteurs</h2><p>Tu l‚Äôauras compris, je veux qu‚Äôon ait l‚Äôimpression d‚Äô√™tre dans une bo√Æte de nuit. Alors pour commencer, on va ajouter quelques spots lumineux dans la partie sup√©rieure de l‚Äô√©cran qui est repr√©sent√©e par notre <em>Grid</em> <code>TopLayout</code>.</p><p>Dans l‚Äôid√©al, il faudrait disposer des projecteurs un peu partout, avec diff√©rentes tailles et couleurs‚Ä¶ L√† on parle clairement des param√®tres d‚Äôun objet ! En effet, nous allons d√©finir une nouvelle classe d√©di√©e aux spots de lumi√®re : la classe <code>Spotlight</code>.</p><p>Commence donc par cr√©er un nouveau dossier <em>Components</em> dans le projet. Puis cr√©e un nouveau fichier <em>Spotlight.cs</em> dans ce dossier avec le contenu suivant :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.Maui.Layouts</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>NightClub.Views.Components</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Spotlight</span> <span class=p>:</span> <span class=n>BoxView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Color</span> <span class=n>color</span><span class=p>,</span> <span class=kt>double</span> <span class=n>size</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionX</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionY</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>Color</span> <span class=p>=</span> <span class=n>color</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>CornerRadius</span> <span class=p>=</span> <span class=n>size</span> <span class=p>/</span> <span class=m>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>AbsoluteLayout</span><span class=p>.</span><span class=n>SetLayoutBounds</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>Rect</span><span class=p>(</span><span class=n>positionX</span><span class=p>,</span> <span class=n>positionY</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=n>AbsoluteLayout</span><span class=p>.</span><span class=n>SetLayoutFlags</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=n>AbsoluteLayoutFlags</span><span class=p>.</span><span class=n>PositionProportional</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Comme tu vois, cette classe prend en param√®tre les 4 propri√©t√©s suivantes :</p><ul><li><p>la couleur (<code>color</code>) du spot lumineux,</p></li><li><p>sa taille (<code>size</code>),</p></li><li><p>et enfin, son alignement par rapport √† l‚Äôaxe horizontal (<code>positionX</code>) et vertical (<code>positionY</code>).</p></li></ul><p>Au fait, as-tu not√© que <code>Spotlight</code> h√©ritait de <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/controls/boxview target=_blank rel="external nofollow noopener noreferrer">BoxView<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> ? Souviens-toi, on avait d√©j√† utilis√© cet objet pour <a href=../6-arrange-elements-on-a-page/#v√©rification-du-rendu-√†-l√©cran>v√©rifier la disposition des √©l√©ments</a> de la <em>MusicPlayerView</em>.</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé D‚Äôaccord mais une <em>BoxView</em>, ce n‚Äôest pas rond du tout !</div></div></div>Promis, nos projecteurs ne seront pas rectangulaire. On va en effet les arrondir √† l‚Äôaide de la propri√©t√© <code>CornerRadius</code>, comme on l‚Äôavait fait pour <a href=../8-music-player-display-media-playback/#d√©couverte-des-imagebutton>le bouton de lecture</a> ! Pour cela, la valeur du <code>CornerRadius</code> devra √™tre deux fois inf√©rieure √† la taille demand√©e (<code>size</code>).</p><p>Justement, voyons maintenant comment la taille et la position du <code>Spotlight</code> ont √©t√© d√©finies :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>AbsoluteLayout</span><span class=p>.</span><span class=n>SetLayoutBounds</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>Rect</span><span class=p>(</span><span class=n>positionX</span><span class=p>,</span> <span class=n>positionY</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>));</span>
</span></span></code></pre></td></tr></table></div></div><p>Avec la m√©thode <em>SetLayoutBounds()</em>, on applique la position et la taille demand√©e √† notre <em>Spotlight</em> (<code>this</code>), en lui passant un objet de type <a href=https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.graphics.rect.-ctor#microsoft-maui-graphics-rect-ctor%28system-double-system-double-system-double-system-double%29 target=_blank rel="external nofollow noopener noreferrer">Rect<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>. Il s‚Äôagit d‚Äôune structure repr√©sentant les coordonn√©es de notre composant, ainsi que ses dimensions.</p><p>Enfin, on fait appel √† la m√©thode <em>SetLayoutFlags()</em> pour que cette position soit prise en compte de fa√ßon proportionnelle :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>AbsoluteLayout</span><span class=p>.</span><span class=n>SetLayoutFlags</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=n>AbsoluteLayoutFlags</span><span class=p>.</span><span class=n>PositionProportional</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>En r√©sum√©, la taille du <em>Spotlight</em> sera bien configur√©e en valeurs absolues, mais ses coordonn√©es seront pass√©es en valeurs proportionnelles. Seulement, ces m√©thodes ne peuvent fonctionner que sur des √©l√©ments contenus dans un <em>AbsoluteLayout</em>.</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Ah, on n‚Äôutilise plus de <em>Grid</em> finalement ?</div></div></div>Si, si ! Mais disons que notre <em>Grid</em> <code>TopLayout</code> jouera le r√¥le de conteneur principal, alors que les projecteurs eux, seront ajout√©s √† un composant interm√©diaire de type <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/layouts/absolutelayout target=_blank rel="external nofollow noopener noreferrer">AbsoluteLayout<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</p><p>En effet, ce composant permet lui aussi d‚Äôaligner des √©l√©ments, mais de fa√ßon beaucoup plus libre. C‚Äôest d‚Äôailleurs pour √ßa manipule des coordonn√©es ! On peut alors facilement placer nos objets o√π bon nous semble.</p><p><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>D‚Äôailleurs, il est possible d‚Äôaligner des √©l√©ments en dehors des limites de la zone √©tablie par l‚Äô<em>AbsoluteLayout</em>.</div></div></div>Voil√† pour la classe <code>Spotlight</code> ! Il ne nous reste donc plus qu‚Äô√† d√©finir un <em>Absolut</em>e<em>Layout</em>, lui ajouter quelques <em>Spotlight</em>, et rattacher le tout au <code>TopLayout</code>.</p><p>Pour cela, d√©clarons une nouvelle m√©thode <em>InitDanceFloor()</em> dans la <em>MusicPlayerView</em> :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=c1>// Ne pas oublier d&#39;ajouter &#34;using NightClub.Views.Components;&#34; !</span>
</span></span><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Dance</span> <span class=n>Floor</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>void</span> <span class=n>InitDanceFloor</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// On d√©finit un conteneur interm√©diaire de type AbsoluteLayout... </span>
</span></span><span class=line><span class=cl>    <span class=n>AbsoluteLayout</span> <span class=n>spotlights</span> <span class=p>=</span> <span class=k>new</span> <span class=n>AbsoluteLayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Children</span> <span class=p>=</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// ... auquel on ajoute quelques Spotlight...</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Blue</span><span class=p>,</span> <span class=m>200</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Orange</span><span class=p>,</span> <span class=m>150</span><span class=p>,</span> <span class=m>0.8</span><span class=p>,</span> <span class=m>0.9</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Pink</span><span class=p>,</span> <span class=m>100</span><span class=p>,</span> <span class=m>0.9</span><span class=p>,</span> <span class=m>0.2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Yellow</span><span class=p>,</span> <span class=m>120</span><span class=p>,</span> <span class=m>0.3</span><span class=p>,</span> <span class=m>0.6</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ... et le tout est rajout√© au conteneur principal !</span>
</span></span><span class=line><span class=cl>    <span class=n>TopLayout</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>spotlights</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>Puis, il faut appeler cette m√©thode depuis le constructeur de la <em>View</em> :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=n>MusicPlayerView</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=n>InitDanceFloor</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Et enfin, pour que cela fonctionne, on doit modifier la d√©claration du <code>TopLayout</code> pour ne plus qu‚Äôil soit immuable :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Grid</span> <span class=n>TopLayout</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Grid</span> <span class=c1>// Le signe ‚Äú=&gt;‚Äù a √©t√© remplac√© par ‚Äú=‚Äù</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>BackgroundColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>Black</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Tadam ! Voici ce que √ßa donne :</p><p align=center><img max-width=100% max-height=100% src=./images/2D84AB449FE9843B02AB40D147939346.png></p><figure><figcaption class=image-caption>Quelques cercles color√©s‚Ä¶ on est loin de la discoth√®que !</figcaption></figure><p>Comment √ßa, tu es d√©√ßu¬∑e ?! üôä</p><p>Bon je sais, ce n‚Äôest pas tr√®s convaincant‚Ä¶ pour l‚Äôinstant ! Alors passons vite √† la suite pour obtenir un meilleur visuel.</p><h2 id=peaufiner-le-visuel-pour-un-peu-plus-de-r√©alisme>Peaufiner le visuel pour un peu plus de r√©alisme</h2><p>Jusqu‚Äô√† pr√©sent, pour colorer nos √©l√©ments visuels il suffisait de d√©finir une couleur et la magie op√©rait en arri√®re-plan. Cependant, il existe diff√©rentes techniques de coloriage qui vont nous aider √† obtenir un meilleur visuel : ce sont les <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/brushes/ target=_blank rel="external nofollow noopener noreferrer">Brush<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</p><p>Par exemple, nous allons utiliser le <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/brushes/radialgradient target=_blank rel="external nofollow noopener noreferrer">RadialGradientBrush<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> pour appliquer un joli d√©grad√© radial :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Color</span> <span class=n>color</span><span class=p>,</span> <span class=kt>double</span> <span class=n>size</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionX</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionY</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Tu peux d√©sormais supprimer la ligne suivante :</span>
</span></span><span class=line><span class=cl>    <span class=c1>// this.Color = color;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Background</span> <span class=p>=</span> <span class=k>new</span> <span class=n>RadialGradientBrush</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>GradientStops</span> <span class=p>=</span> <span class=k>new</span> <span class=n>GradientStopCollection</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>GradientStop</span><span class=p>(</span><span class=n>color</span><span class=p>,</span> <span class=m>0</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>GradientStop</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Transparent</span><span class=p>,</span> <span class=m>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Concr√®tement, on a d√©fini un d√©grad√© de couleurs depuis le centre du <em>Spotlight</em> jusqu‚Äôaux bords, gr√¢ce √† l‚Äôutilisation de deux <a href=https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.controls.gradientstop.-ctor/#microsoft-maui-controls-gradientstop-ctor%28microsoft-maui-graphics-color-system-single%29 target=_blank rel="external nofollow noopener noreferrer">GradientStop<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> :</p><ol><li><p>Avec l‚Äôinstruction <code>GradientStop(color, 0)</code>, le centre du <em>Spotlight</em> (<code>0</code>) est d‚Äôabord peint de la couleur demand√©e (<code>color</code>),</p></li><li><p>Puis un d√©grad√© s‚Äôop√®re avec <code>GradientStop(Colors.Transparent, 1)</code> pour aller vers la <a href=https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.graphics.colors.transparent/#microsoft-maui-graphics-colors-transparent target=_blank rel="external nofollow noopener noreferrer">transparence<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> la plus totale (<code>Colors.Transparent</code>) au niveau de la circonf√©rence du <em>Spotlight</em> (<code>1</code>).</p></li></ol><p>Et gr√¢ce √† l‚Äôeffet de transparence, on verra alors appara√Ætre le fond noir du <code>TopLayout</code>.</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Plus besoin de la propri√©t√© <code>Color</code> en utilisant la propri√©t√© <code>Background</code>.</div></div></div>Ensuite, nous allons utiliser le <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/shadow target=_blank rel="external nofollow noopener noreferrer">Shadow<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> pour donner un effet de brillance :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Color</span> <span class=n>color</span><span class=p>,</span> <span class=kt>double</span> <span class=n>size</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionX</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionY</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=n>Shadow</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Shadow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Radius</span> <span class=p>=</span> <span class=p>(</span><span class=kt>float</span><span class=p>)(</span><span class=n>size</span> <span class=p>/</span> <span class=m>2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>Brush</span> <span class=p>=</span> <span class=k>new</span> <span class=n>SolidColorBrush</span><span class=p>(</span><span class=n>color</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Avec ce code, on ajoute une ombre au <em>Spotlight</em> qui est √† la fois color√©e et floue :</p><ul><li><p>C‚Äôest la propri√©t√© <code>Radius</code> qui donne cet effet flout√©, accentu√© selon la taille de l‚Äôobjet (<code>size / 2</code>),</p></li><li><p>Et l‚Äôombre est peinte avec une couleur pleine, gr√¢ce √† l‚Äôutilisation du <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/brushes/solidcolor target=_blank rel="external nofollow noopener noreferrer">SolidColorBrush<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</p></li></ul><p>Voyons de nouveau ce que √ßa rend √† l‚Äô√©cran :</p><p align=center><img max-width=100% max-height=100% src=./images/0FBBAB1BB2166CA9C695633CA64B8C5E.png></p><figure><figcaption class=image-caption>Les spots sont bien plus r√©alistes !</figcaption></figure><p>C‚Äôest mieux l√†, non ? üôÇ</p><p>Mais ces nouveaux ajustements contrastent un peu avec le <code>BottomLayout</code>, il faudrait rendre ce <em>Grid</em> moins opaque.</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Justement, on ne peut pas jouer avec la propri√©t√© <code>Opacity</code> ?</div></div></div>Pas vraiment‚Ä¶ sinon c‚Äôest tout le contenu du <code>BottomLayout</code> qui deviendra transparent ! On ne verrait alors plus nos contr√¥les, ce ne serait pas tr√®s pratique.</p><p>On va plut√¥t changer sa couleur en y ajoutant un peu de transparence, comme ceci :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Grid</span> <span class=n>BottomLayout</span> <span class=p>=&gt;</span> <span class=k>new</span> <span class=n>Grid</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>BackgroundColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>DimGray</span><span class=p>.</span><span class=n>WithAlpha</span><span class=p>(</span><span class=m>0.4f</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Tu vois, c‚Äôest toujours la m√™me couleur ! Mais elle contient maintenant <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/graphics/colors/#modify-a-color target=_blank rel="external nofollow noopener noreferrer">40% de transparence<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> gr√¢ce √† la m√©thode <em>WithAlpha()</em>.</p><p>Et voil√† le r√©sultat !</p><p align=center><img max-width=100% max-height=100% src=./images/1F2D95853E0DF3ADF6894BBC8D808A0F.png></p><figure><figcaption class=image-caption>Cette transparence, √ßa fait plus moderne !</figcaption></figure><p>Bon c‚Äôest joli tout √ßa, mais √ßa reste quand m√™me tr√®s statique. Il nous faudrait un peu de folie, de l‚Äôanimation quoi ! √áa tombe bien, on d√©couvre <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/animation/basic target=_blank rel="external nofollow noopener noreferrer">les animations en .NET MAUI<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> juste apr√®s.</p><h2 id=cest-lheure-du-disco>C‚Äôest l‚Äôheure du disco!</h2><p>Dans cette partie, nous allons voir comment apporter un peu de dynamisme √† nos spots. Apr√®s tout, ce qu‚Äôon veut c‚Äôest une v√©ritable ambiance de bo√Æte de nuit ! üôÇ</p><p>Pour cela, on va modifier encore la classe <em>Spotlight</em> pour faire en sorte que nos spots clignotent, un peu comme des flashs, tu vois ? On utilisera pour cela une <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/animation/basic/#fading target=_blank rel="external nofollow noopener noreferrer">animation de type fondu<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> pour progressivement faire appara√Ætre ou dispara√Ætre nos projecteurs √† l‚Äô√©cran.</p><p>Allez, mettons-nous au travail ! Commence par appliquer les modifications suivantes :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Spotlight</span> <span class=p>:</span> <span class=n>BoxView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// On a ajout√© 3 nouvelles propri√©t√©s...</span>
</span></span><span class=line><span class=cl>    <span class=kd>const</span> <span class=kt>string</span> <span class=n>AnimationName</span> <span class=p>=</span> <span class=s>&#34;fadeInAndOut&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>uint</span> <span class=n>AnimationLength</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Animation</span> <span class=n>SpotlightAnimation</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ... ainsi qu&#39;un nouveau param√®tre au constructeur ! </span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Color</span> <span class=n>color</span><span class=p>,</span> <span class=kt>double</span> <span class=n>size</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionX</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionY</span><span class=p>,</span> <span class=kt>uint</span> <span class=n>animationLength</span> <span class=p>=</span> <span class=m>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Et enfin, on persiste la dur√©e d&#39;animation.</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>AnimationLength</span> <span class=p>=</span> <span class=n>animationLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>SetAnimation</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Tout d‚Äôabord, nous avons ajout√© un nouveau param√®tre : <code>animationLength</code>. C‚Äôest pour d√©finir la dur√©e (en millisecondes) sur laquelle l‚Äôanimation va se r√©p√©ter en boucle.</p><p>On en a aussi profit√© pour rajouter quelques propri√©t√©s que nous allons utiliser un peu plus tard. Parmi elles, il y a <code>SpotlightAnimation</code> qui contiendra la d√©finition de l‚Äôanimation du <em>Spotlight</em>.</p><p>Justement, ajoutons une nouvelle m√©thode √† la classe <em>Spotlight</em> pour d√©finir cette animation :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>void</span> <span class=n>SetAnimation</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>AnimationLength</span> <span class=p>&lt;=</span> <span class=m>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>fadeInAnimation</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Animation</span><span class=p>(</span><span class=n>v</span> <span class=p>=&gt;</span> <span class=n>Opacity</span> <span class=p>=</span> <span class=n>v</span><span class=p>,</span> <span class=n>start</span><span class=p>:</span> <span class=m>0</span><span class=p>,</span> <span class=n>end</span><span class=p>:</span> <span class=m>1</span><span class=p>,</span> <span class=n>Easing</span><span class=p>.</span><span class=n>CubicOut</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>fadeOutAnimation</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Animation</span><span class=p>(</span><span class=n>v</span> <span class=p>=&gt;</span> <span class=n>Opacity</span> <span class=p>=</span> <span class=n>v</span><span class=p>,</span> <span class=n>start</span><span class=p>:</span> <span class=m>1</span><span class=p>,</span> <span class=n>end</span><span class=p>:</span> <span class=m>0</span><span class=p>,</span> <span class=n>Easing</span><span class=p>.</span><span class=n>CubicOut</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>SpotlightAnimation</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Animation</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=m>0</span><span class=p>,</span> <span class=m>0.5</span><span class=p>,</span> <span class=n>fadeInAnimation</span> <span class=p>},</span> <span class=c1>// En action de 0 √† 50% de l&#39;ex√©cution</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span> <span class=m>0.5</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=n>fadeOutAnimation</span> <span class=p>}</span> <span class=c1>// En action de 50 √† 100% de l&#39;ex√©cution</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>StartAnimation</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>C‚Äôest un peu technique, mais pas compliqu√©. Je vais t‚Äôexpliquer ! ü§ì</p><p>La propri√©t√© <code>SpotlightAnimation</code> est une <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/animation/custom target=_blank rel="external nofollow noopener noreferrer">animation personnalis√©e<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> compos√©e de deux animations sous-jacentes :</p><ol><li><p>Un fondu entrant qui modifie progressivement l‚Äôopacit√© du <em>Spotlight</em> de 0 √† 1, pendant toute la premi√®re moiti√© de l‚Äôanimation : <code>{ 0, 0.5, fadeInAnimation }</code>,</p></li><li><p>Et un fondu sortant, qui fait exactement l‚Äôinverse durant toute la deuxi√®me moiti√© de l‚Äôanimation : <code>{ 0.5, 1, fadeOutAnimation }</code>.</p></li></ol><p>Et quant √† l‚Äôoption <code>Easing.CubicOut</code>, il s‚Äôagit seulement d‚Äôun effet de style pour que l‚Äôanimation ralentisse rapidement apr√®s le d√©but de son ex√©cution.</p><p><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Aller plus loin avec <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/animation/easing target=_blank rel="external nofollow noopener noreferrer">les diff√©rents types de rendu d‚Äôanimation<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</div></div></div>Voil√†, c‚Äôest tout pour la m√©thode <em>SetAnimation()</em>‚Ä¶ enfin, presque !</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Quoi, quoi ?! Qu‚Äôest-ce qu‚Äôon a loup√© ? üôà</div></div></div>√Ä la fin de la m√©thode, tu peux observer l‚Äôinstruction <code>StartAnimation();</code>. C‚Äôest elle qui va d√©clencher l‚Äôex√©cution de l‚Äôanimation fraichement initialis√©e.</p><p>En voici la d√©finition :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>StartAnimation</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>AnimationLength</span> <span class=p>&lt;=</span> <span class=m>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>SpotlightAnimation</span><span class=p>.</span><span class=n>Commit</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=n>AnimationName</span><span class=p>,</span> <span class=n>length</span><span class=p>:</span> <span class=n>AnimationLength</span><span class=p>,</span> <span class=n>repeat</span><span class=p>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Tu l‚Äôauras compris, c‚Äôest la m√©thode <a href=https://learn.microsoft.com/en-us/dotnet/api/microsoft.maui.controls.animation.commit target=_blank rel="external nofollow noopener noreferrer">Commit()<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> qui permet de lancer l‚Äôanimation d√©finie plus haut. D√©composons les param√®tres pass√©s lors du <em>Commit</em>, on a :</p><ul><li><p>Un nom d‚Äôanimation (<code>AnimationName</code>), d√©fini arbitrairement par une constante,</p></li><li><p>Une dur√©e d‚Äôex√©cution (<code>AnimationLength</code>), pass√©e en param√®tre du constructeur de la classe <em>Spotlight</em>,</p></li><li><p>Et un mode de r√©p√©tition (<code>repeat: () => true</code>), pour que l‚Äôanimation soit jou√©e en boucle ind√©finiment.</p></li></ul><p>Prends un moment pour assimiler tous ces nouveaux changements !</p><p><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-pencil-alt fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Dans certains cas, les animations peuvent √™tre d√©sactiv√©es par le syst√®me. Par exemple : pour des raisons d‚Äôaccessibilit√© ou d‚Äô√©conomie d‚Äô√©nergie.</div></div></div>Et quand tu te sens pr√™t¬∑e, reviens dans le code de la <em>MusicPlayerView</em> pour modifier la m√©thode <em>InitDanceFloor()</em> et adapter l‚Äôinitialisation des <em>Spotlight</em>, comme ceci :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>AbsoluteLayout</span> <span class=n>spotlights</span> <span class=p>=</span> <span class=k>new</span> <span class=n>AbsoluteLayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Children</span> <span class=p>=</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Une dur√©e d&#39;animation est maintenant d√©finie pour chaque Spotlight</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Blue</span><span class=p>,</span> <span class=m>200</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>2000</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Orange</span><span class=p>,</span> <span class=m>150</span><span class=p>,</span> <span class=m>0.8</span><span class=p>,</span> <span class=m>0.9</span><span class=p>,</span> <span class=m>1000</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Pink</span><span class=p>,</span> <span class=m>100</span><span class=p>,</span> <span class=m>0.9</span><span class=p>,</span> <span class=m>0.2</span><span class=p>,</span> <span class=m>500</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Yellow</span><span class=p>,</span> <span class=m>120</span><span class=p>,</span> <span class=m>0.3</span><span class=p>,</span> <span class=m>0.6</span><span class=p>,</span> <span class=m>1500</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>On a simplement d√©fini une dur√©e d‚Äôanimation diff√©rente pour que chacun de nos projecteurs soit unique.</p><p>Recompile vite le projet pour voir le r√©sultat !</p><p align=center><img max-width=100% max-height=100% src=./images/32EED84F7C3FC4031160AAB335312DDF.gif></p><figure><figcaption class=image-caption>Les projecteurs s‚Äôallument et s‚Äô√©teignent √† diff√©rentes vitesses, √ßa c‚Äôest disco !</figcaption></figure><p>Tadaaaam ! On s‚Äôy croirait presque, qu‚Äôen penses-tu ?</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Top !! Mais si les animations se r√©p√®tent √† l‚Äôinfini, √ßa ne s‚Äôarr√™tera donc jamais ?</div></div></div>En effet, c‚Äôest pratique ce bouclage infini, mais √ßa pourrait poser probl√®me pour l‚Äôexp√©rience utilisateur. Imagine qu‚Äôil mette la musique en pause ! Ce serait mieux si l‚Äôanimation s‚Äôarr√™tait de jouer aussi.</p><p>On voit √ßa juste apr√®s !</p><h3 id=la-touche-finale>La touche finale</h3><p>Tiens bon ! On va aborder encore quelques petites am√©liorations et ce sera la fin de ce cours.</p><p>Commen√ßons d√©j√† par voir comment <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/animation/custom/#cancel-an-animation target=_blank rel="external nofollow noopener noreferrer">arr√™ter une animation en cours d‚Äôex√©cution<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>. Pour cela, reviens dans la classe <em>Spotlight</em> et rajoute la m√©thode suivante :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>StopAnimation</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=n>AbortAnimation</span><span class=p>(</span><span class=n>AnimationName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=n>Opacity</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>On a seulement besoin d‚Äôappeler la m√©thode <em>AbortAnimation()</em> pour annuler une animation en cours d‚Äôex√©cution, √† l‚Äôaide de son nom (<code>AnimationName</code>). Rappelle-toi, c‚Äôest un des param√®tres que l‚Äôon avait pass√© dans la m√©thode <em>Commit()</em> !</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>On ne peut pas pr√©voir dans quel √©tat une animation va s‚Äôarr√™ter. Du coup, on bascule l‚Äôopacit√© du <em>Spotlight</em> √† 0 pour le cacher compl√®tement quand la musique ne joue plus.</div></div></div>Voyons ensuite comment jouer l‚Äôanimation selon si la musique est en cours de lecture ou non. Pour cela, on doit √©tablir un lien entre le <em>Spotlight</em> et le <em>MediaElement</em>.</p><p>Commen√ßons par modifier la classe <code>Spotlight</code> :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=c1>// Attention, 3 nouveaux using sont n√©cessaires !</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>CommunityToolkit.Maui.Core.Primitives</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>CommunityToolkit.Maui.Markup</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>CommunityToolkit.Maui.Views</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Spotlight</span> <span class=p>:</span> <span class=n>BoxView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Un nouveau param√®tre est ajout√© au constructeur...</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Color</span> <span class=n>color</span><span class=p>,</span> <span class=kt>double</span> <span class=n>size</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionX</span><span class=p>,</span> <span class=kt>double</span> <span class=n>positionY</span><span class=p>,</span> <span class=kt>uint</span> <span class=n>animationLength</span> <span class=p>=</span> <span class=m>0</span><span class=p>,</span> <span class=n>MediaElement</span> <span class=n>bindableMediaElement</span> <span class=p>=</span> <span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ... pour les besoins de la configuration de l&#39;animation.</span>
</span></span><span class=line><span class=cl>        <span class=n>SetAnimation</span><span class=p>(</span><span class=n>bindableMediaElement</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Pour √©viter la r√©p√©tition de code, on a ajout√© un nouveau param√®tre <code>bindableMediaElement</code> de type <em>MediaElement</em>. En effet, on va passer notre composant <code>MusicPlayer</code> √† l‚Äôinitialisation de chaque <em>Spotlight</em> pour les besoins de la configuration de l‚Äôanimation.</p><p>Nous allons justement modifier la m√©thode <em>SetAnimation()</em> pour appliquer les nouvelles conditions d‚Äôex√©cution de l‚Äôanimation :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>Spotlight.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>void</span> <span class=n>SetAnimation</span><span class=p>(</span><span class=n>MediaElement</span> <span class=n>mediaElement</span> <span class=p>=</span> <span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>mediaElement</span> <span class=p>!=</span> <span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>Bind</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>source</span><span class=p>:</span> <span class=n>mediaElement</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>path</span><span class=p>:</span> <span class=n>nameof</span><span class=p>(</span><span class=n>mediaElement</span><span class=p>.</span><span class=n>CurrentState</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>convert</span><span class=p>:</span> <span class=p>(</span><span class=n>MediaElementState</span> <span class=n>currentState</span><span class=p>)</span> <span class=p>=&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=n>currentState</span> <span class=p>!=</span> <span class=n>MediaElementState</span><span class=p>.</span><span class=n>Playing</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>StopAnimation</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=k>else</span>
</span></span><span class=line><span class=cl>                    <span class=n>StartAnimation</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Maintenant qu‚Äôon a acc√®s √† notre <em>MediaElement</em>, on a appliqu√© la technique du <em>Data Binding</em> sur la propri√©t√© <code>CurrentState</code> pour que l‚Äôanimation soit :</p><ul><li><p>D√©marr√©e quand la musique est en cours de lecture,</p></li><li><p>Ou arr√™t√©e si la musique est mise en pause.</p></li></ul><p>Et comme toujours, on n‚Äôoublie pas d‚Äôadapter l‚Äôinitialisation des <em>Spotlight</em> dans la m√©thode <em>InitDanceFloor()</em>, comme ceci :</p><p align=center style=margin-bottom:-10px><strong>Nom du fichier :</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>AbsoluteLayout</span> <span class=n>spotlights</span> <span class=p>=</span> <span class=k>new</span> <span class=n>AbsoluteLayout</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Children</span> <span class=p>=</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// On passe bien le MusicPlayer √† chaque Spotlight</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Blue</span><span class=p>,</span> <span class=m>200</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>2000</span><span class=p>,</span> <span class=n>MusicPlayer</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Orange</span><span class=p>,</span> <span class=m>150</span><span class=p>,</span> <span class=m>0.8</span><span class=p>,</span> <span class=m>0.9</span><span class=p>,</span> <span class=m>1000</span><span class=p>,</span> <span class=n>MusicPlayer</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Pink</span><span class=p>,</span> <span class=m>100</span><span class=p>,</span> <span class=m>0.9</span><span class=p>,</span> <span class=m>0.2</span><span class=p>,</span> <span class=m>500</span><span class=p>,</span> <span class=n>MusicPlayer</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Spotlight</span><span class=p>(</span><span class=n>Colors</span><span class=p>.</span><span class=n>Yellow</span><span class=p>,</span> <span class=m>120</span><span class=p>,</span> <span class=m>0.3</span><span class=p>,</span> <span class=m>0.6</span><span class=p>,</span> <span class=m>1500</span><span class=p>,</span> <span class=n>MusicPlayer</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>Ici, on a simplement pass√© le <code>MusicPlayer</code> √† l‚Äôinitialisation des <em>Spotlight</em> pour que chacun des projecteurs puisse √™tre √©teint ou allum√© au gr√© de la musique.</p><p>Voil√†, je te fais confiance pour v√©rifier que √ßa fonctionne bien avant qu‚Äôon ajoute la touche finale. Ben oui, notre piste manque encore de quelques danseurs passionn√©s !</p><p>Commence donc par t√©l√©charger les deux nouvelles images suivantes au format <em>.svg</em> :</p><ul><li><p>La premi√®re repr√©sente des gros haut-parleurs (<em>speakers.svg</em>),</p></li><li><p>Et l‚Äôautre, nos fameux danseurs (<em>joyful_dancers.svg</em>).</p></li></ul><p><a href=./files/Dance_Floor_-_Images.zip title="Download Dance_Floor_-_Images.zip" class=card-link download=Dance_Floor_-_Images.zip><span class=cl-backdrop style=--cl-bg-url:url(/fixit.min.svg)></span>
<span class=cl-content><span class=cl-text><span class=cl-title>Dance_Floor_-_Images.zip</span>
<span class=cl-meta><svg class="cl-icon-link" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M574 665.4c-3.1-3.1-8.2-3.1-11.3.0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2.0-204l116.2-116.2c3.1-3.1 3.1-8.2.0-11.3l-39.8-39.8c-3.1-3.1-8.2-3.1-11.3.0L191.4 526.5c-84.6 84.6-84.6 221.5.0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2.0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6c-3.1 3.1-3.1 8.2.0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3.0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2.0 204L665.3 562.6c-3.1 3.1-3.1 8.2.0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3.0l116.2-116.2c84.5-84.6 84.5-221.5.0-306.1z" fill="#a9a9b3"/><path d="M610.1 372.3c-3.1-3.1-8.2-3.1-11.3.0L372.3 598.7c-3.1 3.1-3.1 8.2.0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3.0l226.4-226.4c3.1-3.1 3.1-8.2.0-11.3l-39.5-39.6z" fill="#a9a9b3"/></svg>
<span class=cl-url>./files/Dance_Floor_-_Images.zip</span>
</span></span><svg class="cl-icon-download" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="64" height="64"><path d="M824.32 473.6c-15.36-2.56-25.6-15.36-25.6-30.72.0-112.64-71.68-217.6-179.2-250.88-148.48-46.08-289.28 38.4-332.8 166.4-2.56 10.24-12.8 17.92-23.04 20.48C143.36 401.92 51.2 509.44 51.2 637.44V640c0 115.2 97.28 204.8 209.92 204.8h524.8c102.4-2.56 184.32-84.48 184.32-186.88 2.56-89.6-61.44-163.84-145.92-184.32zM550.4 698.88c-12.8 12.8-30.72 15.36-46.08 10.24H501.76c-5.12-2.56-10.24-5.12-15.36-10.24L366.08 578.56c-15.36-15.36-15.36-43.52.0-58.88s43.52-15.36 58.88.0l51.2 51.2V352.4608c0-23.04 17.92-40.96 40.96-40.96 23.04.0 40.96 17.92 40.96 40.96V570.88l51.2-51.2c17.92-17.92 43.52-17.92 61.44.0 17.92 15.36 17.92 40.96.0 58.88L550.4 698.88z" fill="#4fc089"/></svg></span></a>
Une fois le fichier <em>.zip</em> d√©compress√©, ajoute les images au dossier <em>Resources/Images</em>.</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Si tu as des doutes sur comment faire, tu peux te r√©f√©rer <a href=../8-music-player-display-media-playback/>√† ce chapitre</a>.</div></div></div>Enfin, rajoute-les au <code>TopLayout</code> de cette fa√ßon :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>void</span> <span class=n>InitDanceFloor</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=n>TopLayout</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>spotlights</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// .NET MAUI convertit les fichiers SVG au format PNG.</span>
</span></span><span class=line><span class=cl>    <span class=n>TopLayout</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=k>new</span> <span class=n>Image</span><span class=p>()</span> <span class=p>{</span> <span class=n>Source</span> <span class=p>=</span> <span class=s>&#34;speakers.png&#34;</span> <span class=p>}.</span><span class=n>Bottom</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=n>TopLayout</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=k>new</span> <span class=n>Image</span><span class=p>()</span> <span class=p>{</span> <span class=n>Source</span> <span class=p>=</span> <span class=s>&#34;joyful_dancers.png&#34;</span> <span class=p>}.</span><span class=n>Bottom</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Avec la m√©thode <em>Add()</em>, on ajoute l‚Äôun apr√®s l‚Äôautre tous nos objets dans l‚Äôunique case qui compose le <em>Grid</em> <code>TopLayout</code>.</p><p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>üêí‚Äé ‚Äé Une seule case pour 3 objets ? Mais comment c‚Äôest possible du coup ?</div></div></div>En effet, si tu te rappelles la <a href=https://learn.microsoft.com/fr-fr/dotnet/maui/user-interface/layouts/grid/#rows-and-columns target=_blank rel="external nofollow noopener noreferrer">documentation<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>, le <em>Grid</em> ne poss√®de qu‚Äôune seule ligne et qu‚Äôune seule colonne par d√©faut. Autrement dit, il ne s‚Äôagit ni plus ni moins d‚Äôune grille compos√©e d‚Äôune seule case.</p><p>Par cons√©quent, les √©l√©ments vont s‚Äôempiler les uns par dessus les autres ! C‚Äôest justement ce que l‚Äôon cherche √† faire pour donner un v√©ritable effet de profondeur :</p><ul><li><p>En arri√®re-plan, il y aura nos diff√©rents projecteurs (<code>spotlights</code>),</p></li><li><p>Puis les haut-parleurs,</p></li><li><p>Et enfin, nos danseurs seront positionn√©s au premier plan.</p></li></ul><p>Allez c‚Äôest parti, relance vite le projet !</p><p align=center><img max-width=100% max-height=100% src=./images/F0A9AB44253D46567E3073BF454BD300.png></p><figure><figcaption class=image-caption>L√†, √ßa sent clairement la f√™te !!</figcaption></figure><p>J‚Äôesp√®re que tu es content¬∑e du r√©sultat. En tout cas, bravo pour le travail accompli jusqu‚Äôici ! ü§ì</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Si les images ne s‚Äôaffichent pas, pense √† nettoyer et recompiler le projet entier.</div></div></div><h2 id=conclusion>Conclusion</h2><p>Cet article marque la fin de ce cours, un total de 2h30 de lecture qui je l‚Äôesp√®re t‚Äôaura plu et t‚Äôinspirera plein d‚Äôautres id√©es. Et merci pour ta fid√©lit√© si tu as suivi l‚Äôint√©gralit√© de ce cours ! Si tu as un moment, √©cris-moi un commentaire ou un e-mail pour me dire ce que tu en as pens√©.</p><p>Au fait, si tu veux t‚Äôamuser √† aller plus loin (et je t‚Äôy encourage chaudement ! üôÇ), tu peux essayer de g√©n√©rer les projecteurs de fa√ßon compl√®tement al√©atoire. Tu pourras toujours comparer ta solution avec la mienne en regardant directement dans le code final du projet !</p><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‚Äé<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Pour r√©cup√©rer le projet reprenant toutes les √©tapes appliqu√©es jusqu‚Äôici dans ce cours, r√©f√®re-toi au <a href=../2-setup-the-project/>guide d‚Äôinstallation du projet</a> et repars de l‚Äôexemple situ√© dans le dossier¬†<em>‚ÄúFull Solution‚Äù</em>.</div></div></div>Et si tu en veux encore plus, alors voici d‚Äôautres pistes d‚Äôam√©lioration √† creuser :</p><ul><li><p>Calquer la luminosit√© des spots sur le volume de la musique,</p></li><li><p>Ajuster leur vitesse d‚Äôanimation selon le tempo des chansons,</p></li><li><p>Reg√©n√©rer tous les spots lumineux quand on change de chanson, etc.</p></li></ul><p>J‚Äôadorerais voir ta cr√©ativit√© √† l‚Äô≈ìuvre, alors si tu peux, partage-moi en commentaire un lien vers ton r√©po GitHub !</p><p>Voil√†, c‚Äôest tout pour aujourd‚Äôhui. √Ä bient√¥t pour de nouveaux tutos ! üëã</p><hr><p>Plus d&rsquo;articles dans la m√™me s√©rie:<ol><div><li hugo-nav=/posts/tutos/my-first-app/1-introduction/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/1-introduction/>Ma toute premi√®re app en .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/2-setup-the-project/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/2-setup-the-project/>Installation du projet .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/3-first-run-of-the-project/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/3-first-run-of-the-project/>Premi√®re ex√©cution de l‚Äôapp .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/4-mvvm-for-successful-apps/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/4-mvvm-for-successful-apps/>Le MVVM, pour une application r√©ussie</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/5-navigate-to-a-new-page/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/5-navigate-to-a-new-page/>Naviguer vers une nouvelle page en .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/6-arrange-elements-on-a-page/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/6-arrange-elements-on-a-page/>Agencer les √©l√©ments d'une page .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/7-music-player-display-time-tracker/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/7-music-player-display-time-tracker/>Affichage du lecteur MP3 - Dur√©e d'√©coute</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/8-music-player-display-media-playback/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/8-music-player-display-media-playback/>Affichage du lecteur MP3 - Contr√¥les de lecture</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/9-music-player-display-volume/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/9-music-player-display-volume/>Affichage du lecteur MP3 - Volume</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/10-play-music-with-mediaelement/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/10-play-music-with-mediaelement/>√âcouter de la musique en .NET MAUI avec MediaElement</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/11-control-playback-position-with-mediaelement/>Contr√¥ler la t√™te de lecture avec MediaElement</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/12-control-volume-with-mediaelement/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/12-control-volume-with-mediaelement/>Contr√¥ler le volume avec MediaElement</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/13-download-audio-file/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/13-download-audio-file/>T√©l√©charger un fichier audio en .NET MAUI</a></li></div><div><li hugo-nav=/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/>√âcouter une playlist avec MediaElement</a></li></div><div class=current><li hugo-nav=/posts/tutos/my-first-app/15-add-animations-to-an-app/ class=nostyle><a href=https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/>Cr√©er des animations avec .NET MAUI pour une ambiance disco</a></li></div></ol></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Mis √† jour le 2024-01-16 00:00:15">Mis √† jour le 16/01/2024&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Partager via Twitter" data-sharer=twitter data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/ data-title="Cr√©er des animations avec .NET MAUI pour une ambiance disco" data-via=kapuschinfo data-hashtags="Animation,AbsoluteLayout,Round Effect,Brush"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Facebook" data-sharer=facebook data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/ data-hashtag=Animation><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Linkedin" data-sharer=linkedin data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Partager via Blogger" data-sharer=blogger data-url=https://www.mauicestclair.fr/posts/tutos/my-first-app/15-add-animations-to-an-app/ data-title="Cr√©er des animations avec .NET MAUI pour une ambiance disco" data-description="Dans cet √©pisode final, nous allons cr√©er des animations avec .NET MAUI pour instaurer une ambiance de folie. Mets vite tes lunettes car il va y avoir des flashs de partout !"><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/animation/ class=post-tag>Animation</a><a href=/tags/absolutelayout/ class=post-tag>AbsoluteLayout</a><a href=/tags/round-effect/ class=post-tag>Round Effect</a><a href=/tags/brush/ class=post-tag>Brush</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Retour</a></span>&nbsp;|&nbsp;<span><a href=/>Accueil</a></span></section></div><div class=post-nav><a href=/posts/tutos/my-first-app/14-skip-next-or-previous-with-mediaelement/ class=post-nav-item rel=prev title="√âcouter une playlist avec MediaElement"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>√âcouter une playlist avec MediaElement</a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=Kapusch/blog-dotnet-maui data-repo-id=R_kgDOH_4TbQ data-category="Blog comments" data-category-id=DIC_kwDOH_4Tbc4CSqsZ data-mapping=Title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=fr crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></div><div class="footer-line powered">Propuls√© par <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.123.7">Hugo</a> | Th√®me - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer">Jean-Emmanuel BAILLAT</a></span><span class="license footer-divider"><u><a rel="license external nofollow noopener noreferrer" href=/privacy-policy target=_blank>Confidentialit√©</a></u> et <u><a rel="license external nofollow noopener noreferrer" href=/terms-of-use target=_blank>CGU</a></u></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Retour en Haut"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="Afficher les Commentaires"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Kapusch/blog-dotnet-maui/tree/main/Blog title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>Le th√®me FixIt fonctionne mieux quand JavaScript est activ√©.</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/lunr/lunr.min.js defer></script><script src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script src=/lib/lunr/lunr.fr.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"Copier dans le presse-papiers",maxShownLines:50},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"J'ai compris !",link:"En apprendre plus",message:"Ce site Web utilise des Cookies pour am√©liorer votre exp√©rience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"fr",maxResultLength:10,noResultsFound:"Aucun r√©sultat trouv√©",snippetLength:110,type:"lunr"}}</script><script src=/js/theme.min.js defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0BB9XCL25S",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=G-0BB9XCL25S" async></script></body></html>