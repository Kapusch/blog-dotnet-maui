<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Target multiple environments in .NET MAUI - MAUI, c'est clair !</title><meta name=author content="Jean-Emmanuel BAILLAT">
<meta name=author-link content="https://github.com/Kapusch"><meta name=description content="To validate new features in your application, it is best to test them in an isolated environment. This will prevent any risk of data loss from your users. In this document, you will learn how to set up different environments for your mobile application."><meta name=keywords content="Visual Studio,Setup"><meta itemprop=name content="Target multiple environments in .NET MAUI"><meta itemprop=description content="To validate new features in your application, it is best to test them in an isolated environment. This will prevent any risk of data loss from your users. In this document, you will learn how to set up different environments for your mobile application."><meta itemprop=datePublished content="2023-06-08T00:00:00+00:00"><meta itemprop=dateModified content="2023-06-08T00:00:00+00:00"><meta itemprop=wordCount content="2236"><meta itemprop=image content="https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/featured-image-preview-en.png"><meta itemprop=keywords content="Visual Studio,Setup,"><meta property="og:title" content="Target multiple environments in .NET MAUI"><meta property="og:description" content="To validate new features in your application, it is best to test them in an isolated environment. This will prevent any risk of data loss from your users. In this document, you will learn how to set up different environments for your mobile application."><meta property="og:type" content="article"><meta property="og:url" content="https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/"><meta property="og:image" content="https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/featured-image-preview-en.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-08T00:00:00+00:00"><meta property="article:modified_time" content="2023-06-08T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/featured-image-preview-en.png"><meta name=twitter:title content="Target multiple environments in .NET MAUI"><meta name=twitter:description content="To validate new features in your application, it is best to test them in an isolated environment. This will prevent any risk of data loss from your users. In this document, you will learn how to set up different environments for your mobile application."><meta name=twitter:site content="@kapuschinfo"><meta name=application-name content="MAUI, c'est clair !"><meta name=apple-mobile-web-app-title content="MAUI, c'est clair !"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/><link rel=prev href=https://www.mauicestclair.fr/en/posts/tips/maui-app-with-no-shell/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Target multiple environments in .NET MAUI","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.mauicestclair.fr\/en\/posts\/tips\/multi-environments-project-configuration\/"},"genre":"posts","keywords":"Visual Studio, Setup","wordcount":2236,"url":"https:\/\/www.mauicestclair.fr\/en\/posts\/tips\/multi-environments-project-configuration\/","datePublished":"2023-06-08T00:00:00+00:00","dateModified":"2023-06-08T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Jean-Emmanuel BAILLAT"},"description":"To validate new features in your application, it is best to test them in an isolated environment. This will prevent any risk of data loss from your users. In this document, you will learn how to set up different environments for your mobile application."}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=wide><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/en/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="MAUI, c'est clair !" data-alt="MAUI, c'est clair !" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/en/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Posts</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/en/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Tutos</a></li><li class=menu-item><a class=menu-link href=/en/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Tips</a></li></ul></li><li class=menu-item><a class=menu-link href=/en/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/en/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language-switch"><span role=button aria-label="Select Language" title="Select Language"><i class="fa-solid fa-language fa-fw" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a href=/posts/tips/multi-environments-project-configuration/ class=menu-link title=Français>Français</a></li><li class=menu-item><span class="menu-link text-secondary" title=English>English</span></li></ul></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/en/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title=/main_avatar.jpg data-alt=/main_avatar.jpg class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/en/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Posts</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/en/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Tutos</a></li><li class=menu-item><a class=menu-link href=/en/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Tips</a></li></ul></li><li class=menu-item><a class=menu-link href=/en/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/en/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span><span class="menu-system-item language-switch">
<span role=button aria-label="Select Language" title="Select Language">English<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option value=/posts/tips/multi-environments-project-configuration/>Français</option><option value=/en/posts/tips/multi-environments-project-configuration/ selected disabled>English</option></select></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/en/posts/ title=Posts>Posts</a></li><li class=breadcrumb-item><a href=/en/posts/tips/ title=Tips>Tips</a></li><li class="breadcrumb-item active" aria-current=page>Target multiple environments in .NET MAUI</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Target multiple environments in .NET MAUI</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="Jean-Emmanuel BAILLAT" data-alt="Jean-Emmanuel BAILLAT" class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Jean-Emmanuel BAILLAT</a></span></div><div class=post-meta-line><span title="published on 2023-06-08 00:00:00"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=08/06/2023>08/06/2023</time></span>&nbsp;<span title="Updated on 2023-06-08 00:00:00"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=08/06/2023>08/06/2023</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>2236 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>11 minutes</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#identify-all-the-configurations-required-for-the-project>Identify all the configurations required for the project</a></li><li><a href=#create-all-project-configurations-in-visual-studio>Create all project configurations in Visual Studio</a></li><li><a href=#define-an-application-title-for-each-targeted-environment>Define an application title for each targeted environment</a></li><li><a href=#define-an-application-icon-for-each-targeted-environment>Define an application icon for each targeted environment</a></li><li><a href=#demo>Demo</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>Whether you&rsquo;re developing mobile applications, software or websites, it&rsquo;s common practice to set up multiple environments for a project. This makes it easy to test new features without risking the data of our users.</p><p>In this article, I will show you how a .NET MAUI application can target different environments through multiple project configurations.</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>To simplify the reading of this article, we will only focus on iOS & Android. However, the process is similar for other platforms.</div></div></div><h2 id=identify-all-the-configurations-required-for-the-project>Identify all the configurations required for the project</h2><p>First, you need to determine how many different configurations you need based on the number of environments created for your project.</p><p>However, if you are just starting your project, you may only have one development environment. So here are a few ideas for you:</p><ul><li><p>Are you the only one developing this application? Are there any testers in your team?</p></li><li><p>Is your project subject to security or performance criteria?</p></li><li><p>Do you have to present it to the client before its publication?</p></li></ul><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>By default, it is important to isolate the production environment from your development environment.</div></div></div><p>For our demonstration, we will refer to the following 3 environments:</p><ul><li><p>a &ldquo;DEV&rdquo; configuration for working in a completely isolated manner on one&rsquo;s own machine (i.e. &ldquo;locally&rdquo;) and not impacting the activity from other developers in your team,</p></li><li><p>a &ldquo;TEST&rdquo; configuration to validate all developments before publication,</p></li><li><p>and a &ldquo;PROD&rdquo; configuration that represents the final state of the app, once available on the app stores.</p></li></ul><p>Alright, it&rsquo;s time to get practical! In the next section, we will create these 3 configurations to run our mobile application in 3 distinct environments.</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>I invite you to skip the following part if you have already defined all the necessary configurations for your project in Visual Studio.</div></div></div><h2 id=create-all-project-configurations-in-visual-studio>Create all project configurations in Visual Studio</h2><p>Now that we&rsquo;ve identified all the targeted environments, let&rsquo;s see how to create the different configurations for our application.</p><p>Start by opening the project configuration file in Visual Studio.</p><div class="details admonition tip"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>How to access the project configuration file?<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p align=center><img max-width=100% max-height=100% src=./images/F5637211F71237FA177471A8209D7F13.png></p><figure><figcaption class=image-caption>You can access the configuration file by right-clicking on the project in Visual Studio.</figcaption></figure><p>The project configuration file ends with the extension .csproj and can be edited by any text editor (e.g. Visual Studio Code). It can be found via the file explorer at the root of the project.</p></div></div></div><p>Once the <em>.csproj</em> file is open, add the following code to the end of the file:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Project</span> <span class=na>Sdk=</span><span class=s>&#34;Microsoft.NET.Sdk&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>	<span class=nt>&lt;PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nt>&lt;Configurations&gt;</span>DEV;TEST;PROD<span class=nt>&lt;/Configurations&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Project&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>We&rsquo;ve just added a parameter which, as its name suggests, defines the 3 new possible project configurations: &ldquo;DEV&rdquo;, &ldquo;TEST&rdquo; and &ldquo;PROD&rdquo;.</p><p>We can now customize the project configuration for each of the targeted environments. To do this, add the following code to the end of the <em>.csproj</em> file:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Project</span> <span class=na>Sdk=</span><span class=s>&#34;Microsoft.NET.Sdk&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>	<span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;DEV&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;TEST&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;PROD&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Project&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>As you may have noticed, we&rsquo;ve added a runtime condition to each of these new property groups. This way, Visual Studio is able to apply the right configuration according to the targeted environment.</p><p>Let&rsquo;s take a look at the content itself (to be adapted to your needs):</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;DEV&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;DebugSymbols&gt;</span>true<span class=nt>&lt;/DebugSymbols&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;Optimize&gt;</span>false<span class=nt>&lt;/Optimize&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;MtouchDebug&gt;</span>true<span class=nt>&lt;/MtouchDebug&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;TEST&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;DebugSymbols&gt;</span>false<span class=nt>&lt;/DebugSymbols&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;Optimize&gt;</span>true<span class=nt>&lt;/Optimize&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;PROD&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;DebugSymbols&gt;</span>false<span class=nt>&lt;/DebugSymbols&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;Optimize&gt;</span>true<span class=nt>&lt;/Optimize&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>In our case, we want to be able to debug the app when it&rsquo;s running in &ldquo;DEV&rdquo;, but not when it&rsquo;s running in &ldquo;TEST&rdquo; or &ldquo;PROD&rdquo;. We therefore use the <code>DebugSymbols</code> parameter to enable application debugging, while the <code>Optimize</code> parameter optimizes app performance and weight.</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Due to a problem known to the Visual Studio teams, at the time of writing this article, it is required to apply <code>&lt;MtouchDebug>true&lt;/MtouchDebug></code> for each debugging configuration.</div></div></div><hr><p>That&rsquo;s it, we&rsquo;re done with the <em>.csproj</em> file!</p><p>But after saving the file, Visual Studio may display a small red icon. Fortunately, this is perfectly normal!</p><p align=center><img max-width=100% max-height=100% src=./images/E3A90E1F24AD45DD78FEF83B70198C83.png></p><figure><figcaption class=image-caption>Visual Studio is rarely pleased when you tinker with project settings without using its graphical interface.</figcaption></figure><p>The message indicates that there is a configuration association problem. Visual Studio doesn&rsquo;t yet know what to do with our &ldquo;DEV&rdquo;, &ldquo;TEST&rdquo; and &ldquo;PROD&rdquo; configurations. So we need to go a step further and define their behavior at solution level.</p><p>For Visual Studio, a solution is like a workspace: it can contain several projects at the same time. But it&rsquo;s possible to manage configurations for the solution, as well as for the projects! And for this to work, each solution configuration has to be associated with a configuration for each project in the workspace.</p><p>You&rsquo;ll soon understand. Start by opening the solution parameters in Visual Studio.</p><div class="details admonition tip"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>How to access the solution parameters?<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p align=center><img max-width=100% max-height=100% src=./images/C04EA33FE99F55F699CDE3D9C286E75B.png></p><figure><figcaption class=image-caption>You can also access solution parameters by double-clicking on the first of the items listed by Visual Studio.</figcaption></figure></div></div></div><p>When the solution settings window pops up, go to the compiler configurations section.</p><p>Then add a new configuration for &ldquo;DEV&rdquo;, &ldquo;TEST&rdquo; and finally &ldquo;PROD&rdquo; as shown below:</p><p align=center><img max-width=100% max-height=100% src=./images/A1E4F4B3484FD80B826D6BE92BEB4DFC.gif></p><figure><figcaption class=image-caption>By default, Visual Studio defines two basic configurations: Debug and Release.</figcaption></figure><p>Now that we have our configurations at the solution level, we need to associate them with the proper project configuration, as shown in the next table:</p><table><thead><tr><th>Configuration at the solution level</th><th>Configuration at the project level</th></tr></thead><tbody><tr><td>DEV</td><td>DEV</td></tr><tr><td>TEST</td><td>TEST</td></tr><tr><td>PROD</td><td>PROD</td></tr></tbody></table><p>It couldn&rsquo;t be easier!</p><p>To do this, still from the solution parameters window, scroll down to display the configuration association section. Then select the configuration at solution level and associate it with the correct project configuration:</p><p align=center><img max-width=100% max-height=100% src=./images/7D5309B8104C7CFACC42A2FA9D04AD81.gif></p><figure></figure><p>Finally, you can also delete the <em>Debug</em> and <em>Release</em> configurations created by default by Visual Studio:</p><p align=center><img max-width=100% max-height=100% src=./images/707244862BC00151DFFE42B636C82AFF.gif></p><figure></figure><p>Once you&rsquo;ve followed all these steps, close the window by clicking on OK and check that you no longer have the error indicated by the small red icon.</p><p>No more errors? Congratulations! You can now easily run your application in any environment!</p><p align=center><img max-width=100% max-height=100% src=./images/8887E8D052F0BE283A224D217A2F5BD4.gif></p><figure><figcaption class=image-caption>Visual Studio can now compile the project with these configurations.</figcaption></figure><p>Now let&rsquo;s see how to install the application on your phone for each of the environments in your project!</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Next time you reopen the project in Visual Studio, the <em>Debug</em> and <em>Release</em> configurations may be automatically re-created. This has no effect on your project.</div></div></div><h2 id=define-an-application-title-for-each-targeted-environment>Define an application title for each targeted environment</h2><p>Now that your project configurations are ready, we&rsquo;re going to give a specific application name for each of the targeted environments, to avoid any confusion between the development app and the production one.</p><p>The application name can be modified via the project configuration file. By default, you will normally see an application title and identifier already defined for each new .NET MAUI project:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- Display name --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;ApplicationTitle&gt;</span>My App<span class=nt>&lt;/ApplicationTitle&gt;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- App Identifier --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;ApplicationId&gt;</span>com.companyname.multienvmauiapp<span class=nt>&lt;/ApplicationId&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl><span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>In above example, &ldquo;My App&rdquo; is the app&rsquo;s basic name, and our goal is to customize it for each of the project&rsquo;s configurations.</p><p>In our case, we&rsquo;ll include the name of the target environment in the title and in the app identifier:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;DEV&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- Display name (Overridden) --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;ApplicationTitle&gt;</span>(DEV) My App<span class=nt>&lt;/ApplicationTitle&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- App Identifier (Overridden) --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;ApplicationId&gt;</span>com.companyname.multienvmauiapp.dev<span class=nt>&lt;/ApplicationId&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl><span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;TEST&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- Display name (Overridden) --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;ApplicationTitle&gt;</span>(TEST) My App<span class=nt>&lt;/ApplicationTitle&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- App Identifier (Overridden) --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;ApplicationId&gt;</span>com.companyname.multienvmauiapp.test<span class=nt>&lt;/ApplicationId&gt;</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl><span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>From now on, for &ldquo;DEV&rdquo; and &ldquo;TEST&rdquo; configurations, the name of the targeted environment will appear at the beginning of the app name and at the end of the app identifier. This is not needed for the &ldquo;PROD&rdquo; configuration, as the basic title and identifier will be used by default for all configurations.</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Because <em>ApplicationId</em> parameter has a different value for each configuration, it is possible to install several versions of the application.</div></div></div><p>You can now differentiate the development application from the production one on your phone. Cool! How about taking it a step further?</p><p>In the next section, you will learn how to customize the app icon.</p><h2 id=define-an-application-icon-for-each-targeted-environment>Define an application icon for each targeted environment</h2><p>In addition to naming the app according to the targeted environment, we&rsquo;ll see how to define an icon for each of the project&rsquo;s configurations.</p><p>To do so, you first need to design an icon for each environment. Once you&rsquo;ve done that, add them to the project in a suitable folder.</p><p align=center><img max-width=100% max-height=100% src=./images/C0F703B61D47AF2974E4435B0A7CA0BB.png></p><figure><figcaption class=image-caption>By default, every .NET MAUI project includes an AppIcon folder.</figcaption></figure><p>As for the application name, you may have noticed that the <a href="https://learn.microsoft.com/en-us/dotnet/maui/user-interface/images/app-icons?tabs=android#change-the-icon" target=_blank rel="external nofollow noopener noreferrer">icon is also defined in the project configuration file<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>, with the <code>MauiIcon</code> property.</p><p>Start removing this parameter from the <em>.csproj</em> file, then add the following code:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;ItemGroup&gt;</span>
</span></span><span class=line><span class=cl>		<span class=c>&lt;!-- App Icon --&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nt>&lt;MauiIcon</span> <span class=na>Include=</span><span class=s>&#34;Resources\AppIcon\icon_dev.png&#34;</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;DEV&#39; &#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nt>&lt;MauiIcon</span> <span class=na>Include=</span><span class=s>&#34;Resources\AppIcon\icon_test.png&#34;</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;TEST&#39; &#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nt>&lt;MauiIcon</span> <span class=na>Include=</span><span class=s>&#34;Resources\AppIcon\icon.png&#34;</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;PROD&#39; &#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/ItemGroup&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>That&rsquo;s it, we now have defined a different icon for each configuration!</p><p>Well&mldr; almost! As you know, every .NET MAUI application relies on configuration files linked to the targeted platform. It is also necessary to define the app icon in these :</p><ul><li><p>in the <a href=https://learn.microsoft.com/en-us/dotnet/maui/android/manifest target=_blank rel="external nofollow noopener noreferrer">AndroidManifest.xml file on Android<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>,</p></li><li><p>and in the <a href="https://learn.microsoft.com/en-us/dotnet/maui/macios/info-plist?tabs=vs" target=_blank rel="external nofollow noopener noreferrer">Info.plist file on iOS<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</p></li></ul><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>At the time of writing, it is not possible to automatically generate the icon on <a href=https://github.com/xamarin/xamarin-macios/issues/12790 target=_blank rel="external nofollow noopener noreferrer">iOS<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> and <a href=https://github.com/xamarin/xamarin-android/issues/7147 target=_blank rel="external nofollow noopener noreferrer">Android<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> without modifying these files. Maybe a feature for .NET 8?</div></div></div><p>First, we need to associate each of these files with a different configuration. In our case, we&rsquo;ll need 3 <em>.plist</em> files on iOS and 3 <em>.xml</em> files on Android :</p><table><thead><tr><th></th><th>Android</th><th>iOS</th></tr></thead><tbody><tr><td>DEV</td><td>AndroidManifest.dev.xml</td><td>Info.dev.plist</td></tr><tr><td>TEST</td><td>AndroidManifest.test.xml</td><td>Info.test.plist</td></tr><tr><td>PROD</td><td>AndroidManifest.xml</td><td>Info.plist</td></tr></tbody></table><p>Starting with iOS, go to the <em>Platforms/iOS</em> folder and create two copies of the original <em>Info.plist</em> file. Then rename them <em>Info.dev.plist</em> and <em>Info.test.plist</em>.</p><p align=center><img max-width=100% max-height=100% src=./images/C1E4A7B243E5B52598C32ED534ACBBFF.gif></p><figure></figure><p>For each <em>.plist</em> file, we&rsquo;ll modify the value of the <code>XSAppIconAssets</code> parameter to define one icon per configuration. The <a href="https://learn.microsoft.com/en-us/dotnet/maui/user-interface/images/app-icons?tabs=macios#platform-specific-configuration" target=_blank rel="external nofollow noopener noreferrer">documentation<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> indicates that the value follows the format <code>Assets.xcassets/{name}.appiconset</code> and that we must replace <code>{name}</code> with the name of the desired icon (without mentioning its path or extension).</p><p>In our case, this is how it looks like for <em>Info.dev.plist</em> file:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>Info.dev.plist</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;key&gt;</span>XSAppIconAssets<span class=nt>&lt;/key&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;string&gt;</span>Assets.xcassets/icon_dev.appiconset<span class=nt>&lt;/string&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Finally, once you&rsquo;ve modified the icon in all the <em>.plist</em> files, go back to the project configuration file. In fact, we need to tell it which <em>.plist</em> file to consider according to the targeted configuration:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;ItemGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(TargetFramework)&#39; == &#39;net7.0-ios&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;PartialAppManifest</span> <span class=na>Include=</span><span class=s>&#34;Platforms\iOS\Info.dev.plist&#34;</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;DEV&#39; &#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>	<span class=nt>&lt;PartialAppManifest</span> <span class=na>Include=</span><span class=s>&#34;Platforms\iOS\Info.test.plist&#34;</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;TEST&#39; &#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/ItemGroup&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>By default, Visual Studio will choose the <em>Info.plist</em> file. You therefore only need to specify which file to use for the &ldquo;DEV&rdquo; and &ldquo;TEST&rdquo; configurations.</p><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Going further with the <a href=https://github.com/xamarin/xamarin-macios/wiki/Project-file-properties#partialappmanifest target=_blank rel="external nofollow noopener noreferrer">PartialAppManifest<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> property.</div></div></div><p>Finally, the same goes for Android. Go to the <em>Platforms/Android</em> folder and create two copies of the <em>AndroidManifest.xml</em> file. Then rename them into <em>AndroidManifest.dev.xml</em> and <em>AndroidManifest.test.xml</em>.</p><p>However, here we need to rename the original <em>AndroidManifest.xml</em> to <em>AndroidManifest.prod.xml</em>. Otherwise, you&rsquo;ll have trouble compiling the app.</p><p align=center><img max-width=100% max-height=100% src=./images/76585DF6F34A571F1D6981360FEF336C.gif></p><figure></figure><p>For each <em>.xml</em> file, we&rsquo;ll modify the values of the <code>android:icon</code> and <code>android:roundIcon</code> parameters to define one icon per configuration. The <a href="https://learn.microsoft.com/en-us/dotnet/maui/user-interface/images/app-icons?tabs=android#platform-specific-configuration" target=_blank rel="external nofollow noopener noreferrer">documentation<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> indicates that the values follow the <code>@mipmap/{name}</code> and <code>@mipmap/{name}_round</code> format respectively, and that we need to replace <code>{name}</code> with the name of the desired icon (without mentioning its path or extension).</p><p>In our case, this is what it looks like for <em>AndroidManifest.dev.xml</em> file:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>AndroidManifest.dev.xml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;application</span> <span class=na>android:icon=</span><span class=s>&#34;@mipmap/icon_dev&#34;</span> <span class=na>android:roundIcon=</span><span class=s>&#34;@mipmap/icon_dev_round&#34;</span><span class=nt>&gt;&lt;/application&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Once you&rsquo;ve modified the icon in all the <em>.xml</em> files, go back to the project configuration file. In fact, we need to tell it which <em>.xml</em> file to consider according to the targeted configuration:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MultiEnvMauiApp.csproj</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;PropertyGroup</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(TargetFramework)&#39; == &#39;net7.0-android&#39; &#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nt>&lt;AndroidManifest</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;DEV&#39; &#34;</span><span class=nt>&gt;</span>Platforms\Android\AndroidManifest.dev.xml<span class=nt>&lt;/AndroidManifest&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nt>&lt;AndroidManifest</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;TEST&#39; &#34;</span><span class=nt>&gt;</span>Platforms\Android\AndroidManifest.test.xml<span class=nt>&lt;/AndroidManifest&gt;</span>
</span></span><span class=line><span class=cl>		<span class=nt>&lt;AndroidManifest</span> <span class=na>Condition=</span><span class=s>&#34; &#39;$(Configuration)&#39; == &#39;PROD&#39; &#34;</span><span class=nt>&gt;</span>Platforms\Android\AndroidManifest.prod.xml<span class=nt>&lt;/AndroidManifest&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/PropertyGroup&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>As you may have noticed, here we had to specify which file to consider for all configurations.</p><p>Phew! It&rsquo;s finally over now. Let&rsquo;s get on with the demo!</p><h2 id=demo>Demo</h2><p>Now it&rsquo;s time to check that all this setup is working. You can now deploy the app for each configuration, and for each platform!</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i><i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>For configurations that don&rsquo;t allow debugging, you need to start the app without debugging for it to deploy on the simulator.</p><p align=center><img max-width=100% max-height=100% src=./images/483B192E323AC9A1A9DA813E512F60E9.png></p><figure><figcaption class=image-caption>This option must be used for "TEST" and "PROD" configurations.</figcaption></figure></div></div></div><table><tr><td><p align=center><img max-width=100% max-height=100% src=./images/50E055FDD173019CDD49ADA6A021A2FE.png></p><figure><figcaption class=image-caption>There are 3 apps installed on my iOS simulator, each with a different name and icon.</figcaption></figure></td><td><p align=center><img max-width=100% max-height=100% src=./images/BA21E0201E202C037DB9D79A6C5ED8CD.png></p><figure><figcaption class=image-caption>There are 3 apps installed on my Android simulator, each with a different name and icon.</figcaption></figure></td></tr></table><p>Congratulations! 👏 Now you can develop new features without risking your users&rsquo; data! And it&rsquo;s really handy to be able to compare the app&rsquo;s behavior between the development and production environments.</p><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>If you encounter any problems, it may be related to the data in memory on the phone or in Visual Studio. So remember to clean up the solution and delete the app from your phone before deploying it!</div></div></div><p>But what if we can install an app for each new development? Then you could test each new feature (or patch) separately, without having to uninstall any older versions of your app!</p><p>That&rsquo;s a good topic for a future article 🤓</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Updated on 2023-06-08 00:00:00">Updated on 08/06/2023&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/ data-title="Target multiple environments in .NET MAUI" data-via=kapuschinfo data-hashtags="Visual Studio,Setup"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/ data-hashtag="Visual Studio"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://www.mauicestclair.fr/en/posts/tips/multi-environments-project-configuration/ data-title="Target multiple environments in .NET MAUI" data-description="To validate new features in your application, it is best to test them in an isolated environment. This will prevent any risk of data loss from your users. In this document, you will learn how to set up different environments for your mobile application."><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/en/tags/visual-studio/ class=post-tag>Visual Studio</a><a href=/en/tags/setup/ class=post-tag>Setup</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/en/>Home</a></span></section></div><div class=post-nav><a href=/en/posts/tips/maui-app-with-no-shell/ class=post-nav-item rel=prev title="Create a .NET MAUI App without Shell"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Create a .NET MAUI App without Shell</a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=Kapusch/blog-dotnet-maui data-repo-id=R_kgDOH_4TbQ data-category="Blog comments" data-category-id=DIC_kwDOH_4Tbc4CSqsZ data-mapping=Title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></div><div class="footer-line powered">Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.122.0">Hugo</a> | Theme - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer">Jean-Emmanuel BAILLAT</a></span><span class="license footer-divider"><u><a rel="license external nofollow noopener noreferrer" href=/privacy-policy target=_blank>Privacy</a></u> and <u><a rel="license external nofollow noopener noreferrer" href=/terms-of-use target=_blank>Terms</a></u></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Kapusch/blog-dotnet-maui/tree/main/Blog title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>Theme FixIt works best with JavaScript enabled.</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/lunr/lunr.min.js defer></script><script src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script src=/lib/lunr/lunr.fr.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/en/index.json",lunrLanguageCode:"en",maxResultLength:10,noResultsFound:"No results found",snippetLength:110,type:"lunr"}}</script><script src=/js/theme.min.js defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0BB9XCL25S",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=G-0BB9XCL25S" async></script></body></html>