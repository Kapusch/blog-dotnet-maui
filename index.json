[{"categories":null,"content":"Des boutons, toujours plus de boutons ! Dans ce chapitre, on va intÃ©grer les contrÃ´les pour manipuler le mÃ©dia.","date":"27/02/2023","objectID":"/posts/tutos/my-first-app/8-media-control/","tags":["Image","ImageButton","Visual Studio","Round Button","ColumnSpan"],"title":"Les contrÃ´les de lecture du mÃ©dia","uri":"/posts/tutos/my-first-app/8-media-control/"},{"categories":null,"content":" â€ Afin dâ€™assurer le bon dÃ©roulement de cet article, je tâ€™invite Ã  repartir depuis ce chapitre oÃ¹ lâ€™on a dÃ©marrÃ© la mise en place des contrÃ´les du lecteur musical. Lors du dernier chapitre, on sâ€™Ã©tait attelÃ©s Ã  la mise en place des premiers Ã©lÃ©ments visuels du lecteur musical. On y avait notamment dÃ©couvert deux composants: le Label et le Slider. Aujourdâ€™hui, on va continuer sur notre belle lancÃ©e et reproduire toute une sÃ©rie de boutons pour contrÃ´ler le mÃ©dia. ","date":"27/02/2023","objectID":"/posts/tutos/my-first-app/8-media-control/:0:0","tags":["Image","ImageButton","Visual Studio","Round Button","ColumnSpan"],"title":"Les contrÃ´les de lecture du mÃ©dia","uri":"/posts/tutos/my-first-app/8-media-control/"},{"categories":null,"content":"La guerre des boutons Pour Ã©couter de la musique, notre utilisateur a besoin de fonctions clÃ©s comme : jouer un morceau, passer Ã  la piste suivante, etc. Si tu te souviens de la maquette, on avait une rangÃ©e principale de 5 boutons : 5 boutons bien alignÃ©s sur la mÃªme rangÃ©e, mais ils nâ€™ont pas tous la mÃªme taille. La diffÃ©rence avec le bouton â€œENTERâ€ de la page dâ€™accueil, câ€™est quâ€™ici, nos 5 boutons reprÃ©sentent une image cliquable. Pour les reproduire dans lâ€™app, on fera donc appel au composant ImageButton. Mais tout dâ€™abord, il faudra ajouter ces fameuses images au projet. Commence donc par les tÃ©lÃ©charger sur ton ordinateur : Media_Control_-_Images.zip ./files/Media_Control_-_Images.zip Puis dÃ©compresse le fichier obtenu. Tu devrais avoir les 6 images suivantes : â€ ğŸ’â€ â€ 6 imagesâ€¦ mais on nâ€™avait pas dit 5 boutons ? En effet, il y aura bien 5 boutons sur cette rangÃ©e. Mais rien ne nous empÃªche de remplacer lâ€™image du bouton par une autre ! Si tu reprends la maquette, il y aura de gauche Ã  droite : un bouton pour rejouer la piste musicale (une seule fois) â‡’ câ€™est lâ€™image repeat_once.png un autre pour revenir Ã  la chanson prÃ©cÃ©dente â‡’ skip_previous.png on aura aussi un gros bouton central pour jouer ou mettre en pause la musique. Câ€™est lâ€™image de ce bouton qui changera automatiquement selon les cas suivants : soit la piste nâ€™est pas en cours de lecture â‡’ ce sera lâ€™image play.png ou bien elle est dÃ©jÃ  en train dâ€™Ãªtre jouÃ©e â‡’ on affichera alors pause.png puis on aura un bouton pour passer Ã  la chanson suivante â‡’ skip_next.png et un dernier pour tÃ©lÃ©charger le morceau â‡’ download.png Oui je sais, cette derniÃ¨re fonction â€œtÃ©lÃ©chargerâ€ nâ€™Ã©tait pas prÃ©vue au programme ! Ã‡Ã  devait initialement Ãªtre pour lire les titres en mode alÃ©atoire, mais jâ€™ai changÃ© dâ€™avis. ğŸ˜„ Comme quoi, câ€™est important de concevoir une maquette aussi fiable que possible ! ","date":"27/02/2023","objectID":"/posts/tutos/my-first-app/8-media-control/:0:1","tags":["Image","ImageButton","Visual Studio","Round Button","ColumnSpan"],"title":"Les contrÃ´les de lecture du mÃ©dia","uri":"/posts/tutos/my-first-app/8-media-control/"},{"categories":null,"content":"Ajouter les images au projet Maintenant que tu as tÃ©lÃ©chargÃ© toutes les images, tu dois les importer dans le projet pour quâ€™elles deviennent utilisables par lâ€™application. Pour cela, ouvre le projet dans Visual Studio et fais un clic droit sur le dossier Images : Rappelle-toi, câ€™est dans le dossier Resources quâ€™on stocke tous les mÃ©dias (icÃ´nes, images, pistes audio et vidÃ©o, â€¦) Dans le menu contextuel qui sâ€™affiche, dans la section Ajouter, clique sur lâ€™option pour ajouter des fichiers depuis un dossier : Puis, sÃ©lectionne le dossier oÃ¹ tu as dÃ©compressÃ© les 6 images et valide ton choix. Une fenÃªtre apparaÃ®t alors pour choisir les fichiers Ã  inclure dans le projet. Dans notre cas, on veut importer toutes les images du dossier. SÃ©lectionne donc tous les fichiers disponibles et clique sur OK : â€ Il y a de grandes chances pour que Visual Studio te demande quelle stratÃ©gie appliquer pour importer les fichiers dans le dossier Resources/Images. Je te conseille de choisir de les copier, ou de les dÃ©placer. VoilÃ  câ€™est terminÃ©, vÃ©rifie que tu as bien les 6 nouvelles images importÃ©es dans le dossier ! ","date":"27/02/2023","objectID":"/posts/tutos/my-first-app/8-media-control/:0:2","tags":["Image","ImageButton","Visual Studio","Round Button","ColumnSpan"],"title":"Les contrÃ´les de lecture du mÃ©dia","uri":"/posts/tutos/my-first-app/8-media-control/"},{"categories":null,"content":"DÃ©couverte des ImageButton Maintenant que les images sont prÃªtes Ã  lâ€™emploi, on passe au code ! DÃ©finissons dâ€™abord les deux boutons les plus petits (ceux aux extrÃ©mitÃ©s) : Nom du fichier :MusicPlayerView.cs ImageButton RepeatOnceButton =\u003e new ImageButton { CornerRadius = 5, HeightRequest = 25, WidthRequest = 25, Source = \"repeat_once\", BackgroundColor = Colors.Black }; ImageButton DownloadButton =\u003e new ImageButton { CornerRadius = 5, HeightRequest = 25, WidthRequest = 25, Source = \"download\", BackgroundColor = Colors.Black }; Comme tu peux le constater, on leur a dÃ©fini une petite taille de forme carrÃ©e (25 de hauteur sur 25 de largeur), Ã  fond noir et aux coins lÃ©gÃ¨rement arrondis (via la propriÃ©tÃ© CornerRadius). Puis, ils ont eu chacun leur propre image assignÃ©e grÃ¢ce Ã  la propriÃ©tÃ© Source, en lui passant le nom du fichier correspondant. â€ Il nâ€™est pas nÃ©cessaire de prÃ©ciser lâ€™extension â€.pngâ€ dans le nom du fichier. Reste alors Ã  dÃ©finir les 3 boutons pour contrÃ´ler la lecture du morceau, en ayant toujours recours Ã  lâ€™ImageButton : Nom du fichier :MusicPlayerView.cs ImageButton SkipPreviousButton =\u003e new ImageButton { HeightRequest = 75, WidthRequest = 75, Source = \"skip_previous\" }; ImageButton PlayButton =\u003e new ImageButton { CornerRadius = 50, HeightRequest = 100, WidthRequest = 100, Source = \"play\", BackgroundColor = Colors.Black }; ImageButton SkipNextButton =\u003e new ImageButton { HeightRequest = 75, WidthRequest = 75, Source = \"skip_next\" }; Finalement, ce nâ€™est pas tellement diffÃ©rent ! Cependant, tu noteras que ces contrÃ´les sont plus grands, et surtout, les boutons SkipPrevious et SkipNext nâ€™ont pas de couleur de fond. Au contraire, le bouton Jouer, lui, est dotÃ© dâ€™un arriÃ¨re-plan noir et a les coins trÃ¨s arrondisâ€¦ tellement arrondis que la forme nâ€™est plus carrÃ©e, mais ronde ! â€ ğŸ’â€ â€ Ah bon, une forme ronde ? Mais comment as-tu fait ? La technique est trÃ¨s simple : les valeurs de HeightRequest et WidthRequest doivent Ãªtre identiques, tandis que celle du CornerRadius doit leur Ãªtre deux fois infÃ©rieure. Ainsi, si tu veux un bouton de forme ronde avec une hauteur de 200, son arrondissement devra avoir une valeur de 100. ","date":"27/02/2023","objectID":"/posts/tutos/my-first-app/8-media-control/:0:3","tags":["Image","ImageButton","Visual Studio","Round Button","ColumnSpan"],"title":"Les contrÃ´les de lecture du mÃ©dia","uri":"/posts/tutos/my-first-app/8-media-control/"},{"categories":null,"content":"PrÃ©paration pour la dÃ©mo Allez, il est dÃ©sormais temps pour toi de rÃ©partir ces nouveaux contrÃ´les sur la deuxiÃ¨me ligne du BottomLayout ! Ã‰tant donnÃ© quâ€™on a 5 boutons pour 7 colonnes, tu auras peut-Ãªtre optÃ© pour la disposition suivante : Nom du fichier :MusicPlayerView.cs RepeatOnceButton.Row(1).Column(1), SkipPreviousButton.Row(1).Column(2), PlayButton.Row(1).Column(3), SkipNextButton.Row(1).Column(4), DownloadButton.Row(1).Column(5) â€ ğŸ’â€ â€ Ben oui câ€™est ce que jâ€™ai faitâ€¦ et alors fallait pas ? ğŸ™ˆ Si, bien sÃ»r ! Tu as forcÃ©ment dÃ» relancer ton app pour vÃ©rifier, et le rendu nâ€™est pas si mal. Pour ma part, jâ€™ai prÃ©fÃ©rÃ© recrÃ©er un Grid spÃ©cialement pour englober les boutons Play, SkipPrevious et SkipNext, comme ceci : Nom du fichier :MusicPlayerView.cs Grid MediaControlLayout =\u003e new Grid { ColumnDefinitions = Columns.Define( Stars(30), Stars(40), Stars(30)), ColumnSpacing = 0, Children = { SkipPreviousButton.Column(0), PlayButton.Column(1), SkipNextButton.Column(2) } }; Il sâ€™agit seulement dâ€™une grille divisÃ©e en trois colonnes, avec chacune une taille spÃ©cifique. Ainsi, le bouton Play prendra un peu plus dâ€™espace que les deux autres. Mais bon, tout Ã§a est devenu facile pour toi, tu commences Ã  maÃ®triser maintenant ! ğŸ˜ Allez, il ne reste plus quâ€™Ã  positionner le MediaControlLayout de cette faÃ§on : RepeatOnceButton.Row(1).Column(1), MediaControlLayout.Row(1).Column(2).ColumnSpan(3), DownloadButton.Row(1).Column(5) Et hop, Ã§a y est, Ã§a commence vraiment Ã  prendre forme ! ğŸ¤© Tu tâ€™en es vraiment bien sorti, continue comme Ã§a ! Dâ€™ailleurs, il nous reste encore la gestion du volume de la musique Ã  reproduire dans lâ€™app, et câ€™est justement lâ€™objet du prochain chapitre ! Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"27/02/2023","objectID":"/posts/tutos/my-first-app/8-media-control/:0:4","tags":["Image","ImageButton","Visual Studio","Round Button","ColumnSpan"],"title":"Les contrÃ´les de lecture du mÃ©dia","uri":"/posts/tutos/my-first-app/8-media-control/"},{"categories":null,"content":"Maintenant que les fondations de la page principale sont prÃªtes, on va pouvoir commencer Ã  disposer tous les Ã©lÃ©ments de contrÃ´le. CommenÃ§ons avec le minutage !","date":"06/02/2023","objectID":"/posts/tutos/my-first-app/7-time-tracker/","tags":["Accessibility","Slider","Label","ColumnSpan"],"title":"Le temps dâ€™Ã©coute","uri":"/posts/tutos/my-first-app/7-time-tracker/"},{"categories":null,"content":" â€ Pour assurer le bon dÃ©roulement de cet article, je tâ€™invite Ã  repartir du projet reprenant les diffÃ©rentes Ã©tapes appliquÃ©es dans les articles prÃ©cÃ©dents. Pour cela, tÃ©lÃ©charge mon cours depuis GitHub si ce nâ€™est pas dÃ©jÃ  fait, et ouvre le projet NightClub situÃ© dans le dossier â€œ3 - Page Scaffoldingâ€. Dans lâ€™article prÃ©cÃ©dent, on a mis en place un quadrillage pour y disposer tous les contrÃ´les de notre lecteur musical. On va donc pouvoir ajouter des Ã©lÃ©ments concrets pour lâ€™utilisateur ! ","date":"06/02/2023","objectID":"/posts/tutos/my-first-app/7-time-tracker/:0:0","tags":["Accessibility","Slider","Label","ColumnSpan"],"title":"Le temps dâ€™Ã©coute","uri":"/posts/tutos/my-first-app/7-time-tracker/"},{"categories":null,"content":"Afficher le minutage CommenÃ§ons dÃ©jÃ  avec la partie dÃ©diÃ©e au minutage du titre musical. Dâ€™aprÃ¨s la maquette, on aura un texte Ã  gauche pour le temps dâ€™Ã©coute en cours, et Ã  droite, pour la durÃ©e totale de la piste : Lâ€™application indique que le morceau est jouÃ© depuis 36 secondes et quâ€™il dure 2 minutes et 57 secondes. Pour reproduire cela dans lâ€™application, on utilisera le composant Label qui permet dâ€™afficher du texte Ã  lâ€™Ã©cran : Nom du fichier :MusicPlayerView.cs Label ElapsedTime =\u003e new Label { FontSize = 14, Text = \"0:36\", TextColor = Colors.White }.TextCenter(); Label TotalTime =\u003e new Label { FontSize = 14, Text = \"2:57\", TextColor = Colors.White }.TextCenter(); Ces deux nouveaux Ã©lÃ©ments sont dÃ©finis pour afficher un texte statique Ã©crit en blanc et avec une taille relativement petite. Cependant, la taille des caractÃ¨res sâ€™adaptera automatiquement au niveau dâ€™agrandissement du texte dÃ©fini par lâ€™utilisateur dans les rÃ©glages dâ€™accessibilitÃ© de son tÃ©lÃ©phone. â€ Aller plus loin avec lâ€™accessibilitÃ© pour les applications mobiles. ","date":"06/02/2023","objectID":"/posts/tutos/my-first-app/7-time-tracker/:0:1","tags":["Accessibility","Slider","Label","ColumnSpan"],"title":"Le temps dâ€™Ã©coute","uri":"/posts/tutos/my-first-app/7-time-tracker/"},{"categories":null,"content":"Ajuster la tÃªte de lecture Quant Ã  lâ€™Ã©lÃ©ment du milieu, il remplit deux fonctions Ã  la fois : afficher et contrÃ´ler la position de lecture dans le morceau. En effet, lâ€™utilisateur sâ€™en sert pour avancer ou reculer dans le morceau en faisant glisser son doigt horizontalement. De plus, ce composant possÃ¨de une partie en rose qui reprÃ©sente le temps Ã©coulÃ©, et une autre en noir pour le temps restant. Pour reproduire cette barre de navigation, on utilisera le composant Slider : Nom du fichier :MusicPlayerView.cs Slider TimeTracker =\u003e new Slider { Minimum = 0, MinimumTrackColor = Colors.LightSalmon, Maximum = 100, MaximumTrackColor = Colors.Black, Value = 20 }; Un Slider est un contrÃ´le dotÃ© dâ€™un curseur permettant Ã  lâ€™utilisateur de sÃ©lectionner une valeur prÃ©cise parmi toute une plage de valeurs possibles. Dans notre cas, câ€™est comme si lâ€™on avait une rÃ¨gle graduÃ©e de 0 Ã  100 avec un curseur positionnÃ© sur le 20. â€ ğŸ’â€ â€ Ah oui je vois, on se situe en fait Ã  20% du morceau ! On aura donc une barre rose de 0 jusquâ€™Ã  20, et une barre noire de 20 jusquâ€™Ã  100. Oui, câ€™est Ã§a ! Bon Ã©videmment ici, toutes les valeurs de configuration sont statiques, mais lâ€™idÃ©e finale est de permettre Ã  lâ€™utilisateur dâ€™avancer ou de reculer lâ€™Ã©coute de la piste Ã  la seconde prÃ¨s. VoilÃ , on en a terminÃ© avec la premiÃ¨re rangÃ©e dâ€™Ã©lÃ©ments du lecteur musical. Pour vÃ©rifier que lâ€™affichage est correct, jâ€™aimerais que tu effaces tous les Ã©lÃ©ments enfants du BottomLayout pour lui assigner tous les composants dÃ©finis dans ce chapitre. Pour cela, tu seras sÃ»rement tentÃ© dâ€™Ã©crire quelque chose comme : Nom du fichier :MusicPlayerView.cs Grid BottomLayout =\u003e new Grid { ... Children = { ElapsedTime.Row(0).Column(1), TimeTracker.Row(0).Column(2), RemainingTime.Row(0).Column(5) } }; Ã€ premiÃ¨re vue, Ã§a semble pas mal ! Cependant, si tu dÃ©marres lâ€™application, tu constateras quâ€™il y a un lÃ©ger problÃ¨me dâ€™affichage : DisposÃ© comme Ã§a, le Slider nâ€™a pas bonne mine. Pas de panique ! On va voir tout de suite comment rÃ©ajuster cela. ","date":"06/02/2023","objectID":"/posts/tutos/my-first-app/7-time-tracker/:0:2","tags":["Accessibility","Slider","Label","ColumnSpan"],"title":"Le temps dâ€™Ã©coute","uri":"/posts/tutos/my-first-app/7-time-tracker/"},{"categories":null,"content":"Bien utiliser les Grid Si tu te rappelles, on a initialement divisÃ© le BottomLayout en 7 colonnes. Or, si notre code positionne bien notre Slider Ã  partir de la case nÂ°3 de la premiÃ¨re ligne, il ne lui dit pas clairement oÃ¹ sâ€™arrÃªter ! On pourrait alors simplement dire au Slider de sâ€™Ã©taler sur les colonnes suivantes, comme ceci : Le Slider est Ã  cheval sur les cases nÂ°3, nÂ°4 et nÂ°5. Pour cela, on utilise la mÃ©thode ColumnSpan() pour demander au Slider de sâ€™Ã©tendre jusquâ€™Ã  3 colonnes Ã  partir de la case nÂ°3 : Nom du fichier :MusicPlayerView.cs TimeTracker.Row(0).Column(2).ColumnSpan(3) Et voilÃ  on en a vraiment fini ! RelanÃ§ons lâ€™application pour voir ce que Ã§a donne : Bon, câ€™est vrai, câ€™est beau mais Ã§a ne fait pas grand chose ! Mais on va dâ€™abord finir la partie visuelle avant de basculer vers la partie plus fonctionnelle de lâ€™application. Dâ€™ailleurs, on a encore plein de boutons Ã  mettre en place ! Notre objectif pour le prochain chapitre : contrÃ´ler la lecture du mÃ©dia. Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"06/02/2023","objectID":"/posts/tutos/my-first-app/7-time-tracker/:0:3","tags":["Accessibility","Slider","Label","ColumnSpan"],"title":"Le temps dâ€™Ã©coute","uri":"/posts/tutos/my-first-app/7-time-tracker/"},{"categories":null,"content":"Avant de dÃ©velopper une nouvelle page, il vaut mieux rÃ©flÃ©chir Ã  la disposition des diffÃ©rents Ã©lÃ©ments. Et tu vas voir, câ€™est un vrai travail dâ€™architecte !","date":"30/01/2023","objectID":"/posts/tutos/my-first-app/6-scaffolding/","tags":["C# markup","Grid"],"title":"Les fondations","uri":"/posts/tutos/my-first-app/6-scaffolding/"},{"categories":null,"content":" â€ Pour assurer le bon dÃ©roulement de cet article, je tâ€™invite Ã  repartir du projet reprenant les diffÃ©rentes Ã©tapes appliquÃ©es dans les articles prÃ©cÃ©dents. Pour cela, tÃ©lÃ©charge mon cours depuis GitHub si ce nâ€™est pas dÃ©jÃ  fait, et ouvre le projet NightClub situÃ© dans le dossier â€œ2 - Navigationâ€. Avec ce nouveau chapitre, on entame une sÃ©rie dâ€™articles axÃ©s autour du visuel de lâ€™app, et il y a de bonnes chances que cela te plaise ! En effet, dÃ©velopper une interface visuelle nÃ©cessite de nombreux tests du rendu Ã  lâ€™Ã©cran, et il nâ€™y a rien de mieux pour apprendre. Et câ€™est par la pratique rÃ©guliÃ¨re que tu vas naturellement comprendre et retenir tout un tas de choses ğŸ™‚ Allez, on est partis pour mettre en place les fondations de la page principale ! ","date":"30/01/2023","objectID":"/posts/tutos/my-first-app/6-scaffolding/:0:0","tags":["C# markup","Grid"],"title":"Les fondations","uri":"/posts/tutos/my-first-app/6-scaffolding/"},{"categories":null,"content":"Le design Mais avant tout dÃ©veloppement graphique, il vaut mieux rÃ©flÃ©chir Ã  la disposition des diffÃ©rents Ã©lÃ©ments que lâ€™on souhaite afficher. Justement, .NET MAUI fournit pour cela plusieurs solutions simples pour structurer nos pages. Et tu vas voir, câ€™est un vrai travail dâ€™architecte ! â€ ğŸ’â€ â€ Mais au fait, Ã  quoi doit ressembler notre page ? Câ€™est une trÃ¨s bonne question ! En gÃ©nÃ©ral, quand imagine une nouvelle page pour notre application, il est conseillÃ© dâ€™en Ã©laborer le design au crayon sur une feuille. En effet, comme les Ã©crans de tÃ©lÃ©phone sont assez petits, il nâ€™est pas facile de disposer tous les Ã©lÃ©ments souhaitÃ©s. Puis, quand on est satisfait du rendu sur papier, on prÃ©pare alors une maquette sur ordinateur pour un rendu plus rÃ©aliste : Ã§a facilite grandement lâ€™intÃ©gration de la page dans lâ€™application. Dans le cadre de notre cours, la page principale devra ressembler Ã  la maquette suivante : ","date":"30/01/2023","objectID":"/posts/tutos/my-first-app/6-scaffolding/:0:1","tags":["C# markup","Grid"],"title":"Les fondations","uri":"/posts/tutos/my-first-app/6-scaffolding/"},{"categories":null,"content":"Structuration de la page Sur cette maquette, on remarque que les Ã©lÃ©ments sont disposÃ©s de faÃ§on assez rÃ©guliÃ¨re. On pourrait mÃªme imaginer des lignes pour aligner les Ã©lÃ©ments les uns par rapport aux autres : Disposer les Ã©lÃ©ments suivant des lignes imaginaires est un exercice un peu spÃ©cial au dÃ©but, mais cela devient une habitude avec le temps. Ces lignes te feront peut-Ãªtre penser Ã  une grilleâ€¦ et si câ€™est le cas, bien vu ! Câ€™est tout le principe du composant Grid, qui comme son nom lâ€™indique, permet de disposer des Ã©lÃ©ments sur une grille. On va lâ€™utiliser plusieurs fois pour cette page. ","date":"30/01/2023","objectID":"/posts/tutos/my-first-app/6-scaffolding/:0:2","tags":["C# markup","Grid"],"title":"Les fondations","uri":"/posts/tutos/my-first-app/6-scaffolding/"},{"categories":null,"content":"Initiation au Grid Pour respecter la maquette, la premiÃ¨re chose Ã  faire est de diviser la page en deux : La partie du haut qui nâ€™affiche rien dâ€™autre quâ€™un fond noir, Et celle du bas pour contrÃ´ler notre lecteur de musique. Tu remarqueras que la partie supÃ©rieure est lÃ©gÃ¨rement plus grande que la partie infÃ©rieure. On pourrait mÃªme dire que la partie noire sâ€™Ã©tale verticalement sur 60% de la page, ce qui laisse 40% dâ€™espace pour le reste. Ce sont des donnÃ©es trÃ¨s utiles ! Mettons-les en application pour dÃ©finir le contenu de notre page MusicPlayerView avec un Grid : Nom du fichier :MusicPlayerView.cs using CommunityToolkit.Maui.Markup; using static CommunityToolkit.Maui.Markup.GridRowsColumns; ... public MusicPlayerView() { ... Content = new Grid { RowDefinitions = Rows.Define( Stars(60), Stars(40)), RowSpacing = 0, Children = { TopLayout.Row(0), BottomLayout.Row(1), } }; } Avec le paramÃ¨tre RowDefinitions, on configure une grille de 2 lignes : la premiÃ¨re pourra sâ€™Ã©tendre jusquâ€™Ã  60% de la page verticalement contre 40% pour la deuxiÃ¨me, comme sur notre design ! A lâ€™initialisation du Grid, on dÃ©finit Ã©galement deux autres paramÃ¨tres : le RowSpacing dÃ©fini Ã  0 pour ne laisser aucun espace entre les lignes de notre grille, et Children qui contiendra tous les Ã©lÃ©ments de notre grille, Ã  rÃ©partir sur deux lignes. Et si tu te demandes dâ€™oÃ¹ sortent ces fameux TopLayout et BottomLayout, il sâ€™agit de deux conteneurs dâ€™Ã©lÃ©ments Ã  dÃ©finir en dehors du constructeur de la page. En effet, on utilise Ã  nouveau un Grid pour chacun de ces deux contrÃ´les pour nous aider dans le placement des Ã©lÃ©ments restants. Le premier Grid (le TopLayout) correspond Ã  la partie supÃ©rieure de notre page et a donc un fond noir. Quant Ã  lâ€™autre Grid (le BottomLayout), on lui dÃ©finit un fond gris foncÃ© pour reprÃ©senter la partie infÃ©rieure. Copie le code suivant et colle-le dans la rÃ©gion dÃ©diÃ©e aux contrÃ´les du fichier MusicPlayerView.cs: Nom du fichier :MusicPlayerView.cs #region Controls Grid TopLayout =\u003e new Grid { BackgroundColor = Colors.Black }; Grid BottomLayout =\u003e new Grid { BackgroundColor = Colors.DimGray }; #endregion ","date":"30/01/2023","objectID":"/posts/tutos/my-first-app/6-scaffolding/:0:3","tags":["C# markup","Grid"],"title":"Les fondations","uri":"/posts/tutos/my-first-app/6-scaffolding/"},{"categories":null,"content":"Les fondations principales Concentrons-nous dans un premier temps sur le contenu du BottomLayout. En regardant dâ€™un peu plus prÃ¨s le design, on remarque de nouvelles lignes, mais Ã©galement des colonnes. Plus exactement : on remarque 3 lignes de haut en bas, Ã  taille identique, et il y a 7 colonnes de gauche Ã  droite (2 petites, 3 grandes et 2 petites Ã  nouveau). En quadrillant la zone infÃ©rieure de la page, on remarque que chaque Ã©lÃ©ment visuel a bien sa case attitrÃ©e. DÃ©finissons maintenant les lignes et colonnes qui composent notre BottomLayout de sorte Ã  respecter lâ€™alignement des Ã©lÃ©ments visuels, comme sur la maquette : Nom du fichier :MusicPlayerView.cs Grid BottomLayout =\u003e new Grid { BackgroundColor = Colors.DimGray, RowDefinitions = Rows.Define( Stars(1), Stars(1), Stars(1)), RowSpacing = 0, ColumnDefinitions = Columns.Define( Stars(10), Stars(10), Stars(20), Stars(20), Stars(20), Stars(10), Stars(10)), ColumnSpacing = 0 }; Comme tu vois, le code ci-dessus propose un dÃ©coupage en 3 lignes de mÃªme taille et 7 colonnes avec des tailles diffÃ©rentes. â€ ğŸ’â€ â€ Euhâ€¦ alors si jâ€™additionne les tailles de chaque colonne, jâ€™obtiens bien 100% ! Mais pour ce qui est des lignes, on a un problÃ¨me non ? TrÃ¨s bonne remarque ! En fait si je suis parti au dÃ©but avec un Ã©chelonnement des tailles sur 100%, câ€™est parce que câ€™est souvent plus facile Ã  comprendre. En rÃ©alitÃ©, quand tu Ã©crisâ€¦ Nom du fichier :MusicPlayerView.cs RowDefinitions = Rows.Define( Stars(60), Stars(40)) â€¦ lâ€™application comprend que la premiÃ¨re ligne aura un poids de 60 par rapport Ã  la deuxiÃ¨me ligne, qui elle nâ€™aura quâ€™un poids de 40. Câ€™est une faÃ§on dynamique dâ€™attribuer une hauteur Ã  nos lignes en fonction de la taille de lâ€™Ã©cran, puisquâ€™elle change dâ€™un modÃ¨le de tÃ©lÃ©phone Ã  un autre. Finalement, tu peux voir ce poids comme un coefficient multiplicateur. Par exemple, ce mÃªme bout de code peut Ãªtre rÃ©Ã©crit de cette faÃ§on: Nom du fichier :MusicPlayerView.cs RowDefinitions = Rows.Define( Stars(1.5), // 1.5 x 40 = 60 Stars(1)) // 1 x 40 = 40 A toi de choisir ce qui te semble plus cohÃ©rent ! ","date":"30/01/2023","objectID":"/posts/tutos/my-first-app/6-scaffolding/:0:4","tags":["C# markup","Grid"],"title":"Les fondations","uri":"/posts/tutos/my-first-app/6-scaffolding/"},{"categories":null,"content":"VÃ©rification du rendu Ã  lâ€™Ã©cran Maintenant que notre quadrillage de la partie infÃ©rieure est en place, vÃ©rifions si les paramÃ¨tres sont corrects. Avec une Grid configurÃ©e sur 3 lignes et 7 colonnes, Ã§a fait beaucoup de cases Ã  valider ! Mais jâ€™ai une astuce pour tester rapidement si le dÃ©coupage est bien celui attendu ou sâ€™il y a des ajustements Ã  faire. Pour cela, tu peux dessiner une forme gÃ©omÃ©trique dans chaque case du quadrillage, avec chacune sa propre couleur. Avec la BoxView, câ€™est trÃ¨s facile : Nom du fichier :MusicPlayerView.cs Grid BottomLayout =\u003e new Grid { ... Children = { new BoxView { Color = Color.FromArgb(\"#ffffff\") }.Row(0).Column(0), new BoxView { Color = Color.FromArgb(\"#d0d0d0\") }.Row(0).Column(1), new BoxView { Color = Color.FromArgb(\"#a2a3a3\") }.Row(0).Column(2), new BoxView { Color = Color.FromArgb(\"#777879\") }.Row(0).Column(3), new BoxView { Color = Color.FromArgb(\"#4e5051\") }.Row(0).Column(4), new BoxView { Color = Color.FromArgb(\"#292b2c\") }.Row(0).Column(5), new BoxView { Color = Color.FromArgb(\"#000405\") }.Row(0).Column(6), new BoxView { Color = Color.FromArgb(\"#f3f337\") }.Row(1).Column(0), new BoxView { Color = Color.FromArgb(\"#a2eb5b\") }.Row(1).Column(1), new BoxView { Color = Color.FromArgb(\"#4edb80\") }.Row(1).Column(2), new BoxView { Color = Color.FromArgb(\"#00c89f\") }.Row(1).Column(3), new BoxView { Color = Color.FromArgb(\"#00b1b1\") }.Row(1).Column(4), new BoxView { Color = Color.FromArgb(\"#0098b2\") }.Row(1).Column(5), new BoxView { Color = Color.FromArgb(\"#177ea2\") }.Row(1).Column(6), new BoxView { Color = Color.FromArgb(\"#bf7aef\") }.Row(2).Column(0), new BoxView { Color = Color.FromArgb(\"#ea6cd4\") }.Row(2).Column(1), new BoxView { Color = Color.FromArgb(\"#ff63b3\") }.Row(2).Column(2), new BoxView { Color = Color.FromArgb(\"#ff6590\") }.Row(2).Column(3), new BoxView { Color = Color.FromArgb(\"#ff716e\") }.Row(2).Column(4), new BoxView { Color = Color.FromArgb(\"#ff844e\") }.Row(2).Column(5), new BoxView { Color = Color.FromArgb(\"#f89832\") }.Row(2).Column(6), } }; Et si tu lances lâ€™application, tu pourras alors confirmer avec certitude que notre emploi des Grid est effectivement correct : Ã‡a fait un peu penser aux vieilles tÃ©lÃ©visions en couleur. Bon, il nâ€™y a rien de fonctionnel pour lâ€™utilisateur, mais maintenant que nos fondations sont prÃªtes, Ã§a va grandement nous simplifier la vie ! On va enfin pouvoir sâ€™amuser Ã  disposer tous les Ã©lÃ©ments de contrÃ´le dÃ¨s le prochain chapitre, en commenÃ§ant par la gestion du minutage. Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"30/01/2023","objectID":"/posts/tutos/my-first-app/6-scaffolding/:0:5","tags":["C# markup","Grid"],"title":"Les fondations","uri":"/posts/tutos/my-first-app/6-scaffolding/"},{"categories":null,"content":"On attaque dÃ©sormais la crÃ©ation de la page principale de lâ€™application. Mais qui dit nouvelle page dit aussi: permettre Ã  lâ€™utilisateur de se rendre sur cette page ! Voyons donc comment implÃ©menter la navigation dâ€™une page Ã  une autre.","date":"23/01/2023","objectID":"/posts/tutos/my-first-app/5-how-to-navigate/","tags":["Navigation"],"title":"Dâ€™une page Ã  lâ€™autre","uri":"/posts/tutos/my-first-app/5-how-to-navigate/"},{"categories":null,"content":" â€ Pour assurer le bon dÃ©roulement de cet article, je tâ€™invite Ã  repartir du projet reprenant les diffÃ©rentes Ã©tapes appliquÃ©es dans les articles prÃ©cÃ©dents. Pour cela, tÃ©lÃ©charge mon cours depuis GitHub si ce nâ€™est pas dÃ©jÃ  fait, et ouvre le projet NightClub situÃ© dans le dossier â€œ1 - MVVMâ€. HÃ©, mais te revoilÃ  ! On en a maintenant fini avec le MVVM et crois-moi, tu viens de faire un grand pas en avant ! Aujourdâ€™hui ce sera bien plus simple, on attaque la crÃ©ation de la page principale de lâ€™application. Mais qui dit nouvelle page dit aussi: permettre Ã  lâ€™utilisateur de sâ€™y rendre ! Voyons donc comment implÃ©menter la navigation dâ€™une page Ã  une autre. ","date":"23/01/2023","objectID":"/posts/tutos/my-first-app/5-how-to-navigate/:0:0","tags":["Navigation"],"title":"Dâ€™une page Ã  lâ€™autre","uri":"/posts/tutos/my-first-app/5-how-to-navigate/"},{"categories":null,"content":"Naviguer vers une nouvelle page CommenÃ§ons dÃ©jÃ  par ajouter notre nouvelle page. Pour cela, fais un clic droit sur le dossier Views pour ajouter un nouveau fichier, puis choisis le template â€œ.NET MAUI ContentPage (C#)â€ comme ci-dessous. On va nommer ce fichier : MusicPlayerView.cs. Comme tu lâ€™auras remarquÃ©, le template utilisÃ© pour crÃ©er la page nous fournit un contenu par dÃ©faut. Il nâ€™y a donc plus quâ€™Ã  naviguer vers cette nouvelle page ! Pour cela, rends-toi dans le fichier HomeViewModel.cs et modifie la mÃ©thode Enter() de la faÃ§on suivante : Nom du fichier :HomeViewModel.cs using NightClub.Views; // Rappel: sans cette ligne, Ã§a ne compilerait pas ! ... [RelayCommand] async Task Enter() { await Application.Current.MainPage.Navigation.PushAsync( new MusicPlayerView()); } Tout ce quâ€™on fait ici, câ€™est accÃ©der au service de navigation fourni par lâ€™application pour afficher une nouvelle page de type MusicPlayerView. En fait, lorsquâ€™on fait appel Ã  la mÃ©thode PushAsync(), on ajoute la page MusicPlayerView tout en haut de la pile de pages dÃ©jÃ  existantes, exactement comme sur le schÃ©ma ci-dessous: Comme avec un paquet de cartes Ã  jouer, il nâ€™y a que celle du dessus qui est visible. â€ ğŸ’â€ â€ Ah! Et câ€™est tout, je peux tester alors ? On y est presque ! En effet pour que la navigation fonctionne, on a besoin que la premiÃ¨re page affichÃ©e au dÃ©marrage soit englobÃ©e dans une NavigationPage. Si tu retournes dans le fichier App.cs, il y a justement une mÃ©thode OnStart() qui est automatiquement exÃ©cutÃ©e Ã  chaque fois que lâ€™app est initialisÃ©e. Modifie donc cette mÃ©thode de sorte Ã  dÃ©finir HomeView comme la page racine de lâ€™application, dans une NavigationPage: Nom du fichier :App.cs protected override void OnStart() { base.OnStart(); Console.WriteLine(\"[NightClub] App - OnStart\"); MainPage = new NavigationPage(new HomeView()); } VoilÃ  câ€™est bon, relance lâ€™application et clique sur le bouton Enter ! ","date":"23/01/2023","objectID":"/posts/tutos/my-first-app/5-how-to-navigate/:0:1","tags":["Navigation"],"title":"Dâ€™une page Ã  lâ€™autre","uri":"/posts/tutos/my-first-app/5-how-to-navigate/"},{"categories":null,"content":"Supprimer lâ€™en-tÃªte de navigation Comme tu lâ€™auras sÃ»rement compris, notre page dâ€™accueil est dÃ©sormais contenue dans une page spÃ©cialement configurÃ©e pour la navigation. Elle contient donc par dÃ©faut une en-tÃªte de navigation : Dâ€™un point de vue design, ce nâ€™est pas nÃ©cessairement ce que lâ€™on souhaite. Voyons donc rapidement comment supprimer cette en-tÃªte pour la page dâ€™accueil. Rends-toi dans le fichier HomeView.cs et invoque la mÃ©thode SetHasNavigationBar() dans le constructeur de la page, comme ceci: Nom du fichier :HomeView.cs public HomeView() { ... BindingContext = new HomeViewModel(); NavigationPage.SetHasNavigationBar(this, false); BackgroundColor = Colors.Black; ... } Et maintenant, si tu relances lâ€™app, câ€™est quand mÃªme plus joli ! Lâ€™application commence Ã  prendre forme tout doucement, et dâ€™autant plus avec le prochain chapitre ! On se revoit trÃ¨s bientÃ´t pour lâ€™Ã©laboration de notre page principale. Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"23/01/2023","objectID":"/posts/tutos/my-first-app/5-how-to-navigate/:0:2","tags":["Navigation"],"title":"Dâ€™une page Ã  lâ€™autre","uri":"/posts/tutos/my-first-app/5-how-to-navigate/"},{"categories":null,"content":"Dans ce chapitre, nous dÃ©couvrirons un patron de conception majeur pour le dÃ©veloppement dâ€™application mobile, le Model-View-ViewModel (MVVM) !","date":"12/01/2023","objectID":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/","tags":["MVVM","Data Binding",".NET Community Toolkit"],"title":"MVVM, la clÃ© de la rÃ©ussite","uri":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/"},{"categories":null,"content":" â€ Pour assurer le bon dÃ©roulement de cet article, je tâ€™invite Ã  repartir du projet reprenant les diffÃ©rentes Ã©tapes appliquÃ©es dans les articles prÃ©cÃ©dents. Pour cela, tÃ©lÃ©charge mon cours depuis GitHub si ce nâ€™est pas dÃ©jÃ  fait, et ouvre le projet NightClub situÃ© dans le dossier â€œ0 - Get Startedâ€. Dans ce chapitre, nous dÃ©couvrirons un patron de conception majeur pour le dÃ©veloppement dâ€™application mobile, le Model-View-ViewModel ! (plus couramment appelÃ© â€œle MVVMâ€) ","date":"12/01/2023","objectID":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/:0:0","tags":["MVVM","Data Binding",".NET Community Toolkit"],"title":"MVVM, la clÃ© de la rÃ©ussite","uri":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/"},{"categories":null,"content":"Le Model-View-ViewModel Le MVVM est un patron de conception qui propose au dÃ©veloppeur une sÃ©paration logique de son code en 3 couches : La View, qui correspond Ã  lâ€™interface utilisateur, câ€™est-Ã -dire tout ce que lâ€™on va afficher Ã  lâ€™Ã©cran (e.g. la page HomeView), Le Model, qui fait rÃ©fÃ©rence au type de donnÃ©es affichÃ©es dans cette View, Et enfin le ViewModel, qui fait le lien entre la View et le Model. Par exemple, pour rÃ©cupÃ©rer des donnÃ©es depuis le Cloud ou rÃ©pondre aux interactions de lâ€™utilisateur. â€ ğŸ’â€ â€ Je vois bien la sÃ©paration en effet, mais pourquoi est-ce recommandÃ© ? Lâ€™un des principaux avantages du MVVM est de pouvoir isoler la vue (i.e. lâ€™interface utilisateur) de la logique â€œmÃ©tierâ€. Dans le cadre de notre premiÃ¨re page, on obtient finalement deux fichiers : HomeView.cs qui dÃ©finit prÃ©cisÃ©ment comment notre page sâ€™affichera (i.e. une couleur de fond, une image en haut, un bouton en bas), Et HomeViewModel.cs qui regroupe toute la logique pour faire fonctionner notre page (ici, le comportement du bouton quand lâ€™utilisateur appuie dessus). En suivant ce principe, le dÃ©coupage de ton code est clair et tu limites le nombre de lignes de code par fichier. Tu ne voudrais pas dâ€™un fichier de plus de 10 000 lignes ! ğŸ˜„Â En plus, il nâ€™y a aucun risque dâ€™affecter la logique de ton app en changeant seulement la couleur dâ€™un bouton. â€ ğŸ’â€ â€ Câ€™est clair ! Mais il y a un truc que je ne comprends pas, on nâ€™a aucun Model pour la page HomeView ? Bonne remarque ! En effet, certaines pages sont tellement simples quâ€™elles ne nÃ©cessitent pas de Model. Dans ces cas-lÃ , seuls les View et ViewModel seront donc requis. ","date":"12/01/2023","objectID":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/:0:1","tags":["MVVM","Data Binding",".NET Community Toolkit"],"title":"MVVM, la clÃ© de la rÃ©ussite","uri":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/"},{"categories":null,"content":"Le Data Binding On sait dÃ©sormais bien dÃ©couper notre code en plusieurs couches. Par exemple, dÃ©finir un bouton dans une View et dÃ©clarer son action dans un ViewModel. Mais est-ce que tu saurais dire comment elles vont fonctionner ensemble ? â€ ğŸ’â€ â€ Hmmâ€¦ peut-Ãªtre dire au bouton de cette View dâ€™agir selon ce qui a Ã©tÃ© dÃ©clarÃ© dans ce ViewModel ? En effet, câ€™est quasiment Ã§a ! Cela se dÃ©roule en deux temps : On associe dâ€™abord un ViewModel Ã  sa View (gÃ©nÃ©ralement via le BindingContext de la View), Puis on dÃ©finit le comportement de chaque Ã©lÃ©ment de la View dans le ViewModel, en recourant au principe du Data Binding. Le Data Binding est une technique permettant de lier deux objets de sorte que, lorsque lâ€™un des deux est modifiÃ©, lâ€™autre le sera Ã©galement. Ã‡a peut paraÃ®tre un peu flou comme Ã§a, mais tu comprendras mieux son rÃ´le dans la section dâ€™aprÃ¨s. Pour le moment, on continue ! ","date":"12/01/2023","objectID":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/:0:2","tags":["MVVM","Data Binding",".NET Community Toolkit"],"title":"MVVM, la clÃ© de la rÃ©ussite","uri":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/"},{"categories":null,"content":"Appliquer le MVVM Maintenant que tu connais les bases du MVVM, je vais pouvoir tâ€™apprendre Ã  lâ€™appliquer concrÃ¨tement dans lâ€™application. CommenÃ§ons par crÃ©er un fichier qui servira de ViewModel pour notre HomeView. Pour cela, crÃ©e dâ€™abord un nouveau dossier ViewModels dans le projet, puis ajoutes-y un nouveau fichier. Ce sera une nouvelle classe vide appelÃ©e HomeViewModel.cs : Ensuite, remplace son contenu par le suivant: Nom du fichier :HomeViewModel.cs using System; namespace NightClub.ViewModels; public class HomeViewModel { public HomeViewModel() { } async Task Enter() { await Application.Current.MainPage.DisplayAlert( \"Well Done !\", \"You have successfully reached the end of this chapter.\", \"Next !\"); } } Bon, il nâ€™y a vraiment rien de spÃ©cial ici. Câ€™est juste une classe dâ€™objet C# avec une mÃ©thode Enter() qui affiche du texte Ã  lâ€™Ã©cran aprÃ¨s un clic de lâ€™utilisateur sur le bouton â€œENTERâ€. â€ ğŸ’â€ â€ Ah ben quand mÃªme, on vient de dÃ©finir lâ€™action du bouton de la page dâ€™accueil ! Eh oui tu as raison, mais en lâ€™Ã©tat, il reste inutilisable ! Souviens-toi, il nâ€™y a toujours aucun lien entre la HomeView et le HomeViewModel. Heureusement, il existe une librairie mise Ã  disposition par Microsoft qui va grandement nous simplifier la vie: le MVVM Toolkit. Cette librairie a dÃ©jÃ  Ã©tÃ© ajoutÃ©e au projet et tu peux le vÃ©rifier facilement en ouvrant la gestion des paquets NuGet. Fais donc un clic droit sur les dÃ©pendances du projet: Et voilÃ  la librairie en question ! Elle sâ€™appelle CommunityToolkit.Mvvm : â€ Aller plus loin avec les paquets NuGet Voyons dÃ©sormais comment prÃ©parer notre classe HomeViewModel pour Ãªtre un vÃ©ritable ViewModel : PremiÃ¨rement, fais-le hÃ©riter de la classe ObservableObject, puis, dÃ©finis-le comme une classe partielle avec le mot-clÃ© partial. Tu devrais avoir la configuration suivante: Nom du fichier :HomeViewModel.cs using System; using CommunityToolkit.Mvvm.ComponentModel; namespace NightClub.ViewModels; public partial class HomeViewModel : ObservableObject ... â€ En faisant hÃ©riter HomeViewModel de la classe ObservableObject, Visual Studio rajoute automatiquement les using nÃ©cessaires Ã  la compilation. En effet, une rÃ©fÃ©rence Ã  CommunityToolkit.Mvvm.ComponentModel est requise pour que ObservableObject devienne rÃ©ellement comprÃ©hensible par lâ€™application. Ces deux Ã©tapes sont nÃ©cessaires pour permettre au MVVM Toolkit de gÃ©nÃ©rer du code source Ã  la simple mention de mots-clÃ©s spÃ©cifiques. ConcrÃ¨tement, on Ã©crit un seul mot et hop, Ã§a gÃ©nÃ¨re tout seul des dizaines de lignes de code, câ€™est gÃ©nial, non ?! ğŸ¤˜ Par exemple ici, on va dÃ©finir notre mÃ©thode Enter() comme Ã©tant une commande en lui rajoutant un simple attribut [RelayCommand] , voilÃ  comment : Nom du fichier :HomeViewModel.cs [RelayCommand] async Task Enter() { await Application.Current.MainPage.DisplayAlert( \"Well Done !\", \"You have successfully reached the end of this chapter.\", \"Next !\"); } Avec seulement un mot, on a dÃ©sormais une commande Enter() qui supporte la technique du Data Binding ! Et ce uniquement grÃ¢ce Ã  la librairie MVVM Toolkit qui sâ€™occupe de gÃ©nÃ©rer tout le code source nÃ©cessaire. â€ Aller plus loin avec les gÃ©nÃ©rateurs de code source MVVM ","date":"12/01/2023","objectID":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/:0:3","tags":["MVVM","Data Binding",".NET Community Toolkit"],"title":"MVVM, la clÃ© de la rÃ©ussite","uri":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/"},{"categories":null,"content":"BientÃ´t la dÃ©mo ! On y est presque ! Il ne reste plus quâ€™Ã  actionner la commande Enter() au clic du bouton â€œENTERâ€. Tout dâ€™abord, retourne dans le fichier HomeView.cs pour lier la vue au HomeViewModel via le **BindingContext **: Nom du fichier :HomeView.cs public HomeView() { BindingContext = new HomeViewModel(); BackgroundColor = Colors.Black; Content = ... } Puis dÃ©finissons lâ€™action du bouton EnterButton avec BindCommand pour dÃ©clencher la commande Enter() spÃ©cifiÃ©e dans le HomeViewModel: Nom du fichier :HomeView.cs Button EnterButton =\u003e new Button { Text = \"ENTER\", TextColor = Colors.White, BackgroundColor = Colors.Magenta, CornerRadius = 10 } .Bold() .Paddings(50, 2, 50, 2) .CenterHorizontal() .BindCommand(\"EnterCommand\"); // Note: on doit ajouter \"Command\" aprÃ¨s \"Enter\" Et voilÃ  le travail ! â€ ğŸ’â€ â€ Ok donc si je comprends bien il faut faire Ã§a Ã  peu prÃ¨s sur toutes les pages de lâ€™app, câ€™est pas si compliquÃ© ! Eh bien oui en thÃ©orie ! Mais il manque tout de mÃªme plusieurs fonctionnalitÃ©s clÃ©s dâ€™une application : un systÃ¨me dâ€™authentification, une base de donnÃ©es, etcâ€¦ Tiens par exemple, une fois quâ€™on aura crÃ©Ã© la page principale de lâ€™application, il faudra bien pouvoir sâ€™y rendre depuis la page dâ€™accueil ! Câ€™est ce quâ€™on verra dans le prochain chapitre. Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"12/01/2023","objectID":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/:0:4","tags":["MVVM","Data Binding",".NET Community Toolkit"],"title":"MVVM, la clÃ© de la rÃ©ussite","uri":"/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/"},{"categories":null,"content":"Allez, il est temps de faire tourner lâ€™application. On en profitera aussi pour jeter un Å“il au code source ! ğŸ™‚","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/3-first-run-of-the-project/","tags":["Visual Studio","C# markup"],"title":"PremiÃ¨re exÃ©cution du projet","uri":"/posts/tutos/my-first-app/3-first-run-of-the-project/"},{"categories":null,"content":" â€ Pour assurer le bon dÃ©roulement de cet article, je tâ€™invite Ã  repartir du projet reprenant les diffÃ©rentes Ã©tapes appliquÃ©es dans les articles prÃ©cÃ©dents. Pour cela, tÃ©lÃ©charge mon cours depuis GitHub si ce nâ€™est pas dÃ©jÃ  fait, et ouvre le projet NightClub situÃ© dans le dossier â€œ0 - Get Startedâ€. Allez, il est temps de faire tourner lâ€™application. On en profitera aussi pour jeter un Å“il au code source ! ğŸ™‚ Mais pour que notre application puisse fonctionner, il nous reste deux points Ã  aborder : lâ€™initialisation de lâ€™app et surtout, gÃ©rer son Ã©tat dâ€™exÃ©cution. ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/3-first-run-of-the-project/:0:0","tags":["Visual Studio","C# markup"],"title":"PremiÃ¨re exÃ©cution du projet","uri":"/posts/tutos/my-first-app/3-first-run-of-the-project/"},{"categories":null,"content":"Initialisation de lâ€™app Pour chaque plateforme ciblÃ©e (iOS, Android, â€¦), chaque application .NET MAUI sera initialisÃ©e depuis un seul point dâ€™entrÃ©e via la mÃ©thode CreateMauiApp() situÃ©e dans le fichier MauiProgram.cs. Câ€™est ici que lâ€™on configurera tout ce dont a besoin lâ€™app pour fonctionner comme on le souhaite : les services Web, les dÃ©pendances externes, ou bien encore les polices de caractÃ¨res spÃ©cifiques. ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/3-first-run-of-the-project/:0:1","tags":["Visual Studio","C# markup"],"title":"PremiÃ¨re exÃ©cution du projet","uri":"/posts/tutos/my-first-app/3-first-run-of-the-project/"},{"categories":null,"content":"Gestion de lâ€™Ã©tat de lâ€™app Mais on aura aussi besoin de quoi dÃ©finir lâ€™Ã©tat actuel de notre application (quelle page afficher, que faire si lâ€™application est arrÃªtÃ©e, â€¦). Et pour Ã§a on a justement une classe Application dÃ©clarÃ©e dans le fichier App.cs. ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/3-first-run-of-the-project/:0:2","tags":["Visual Studio","C# markup"],"title":"PremiÃ¨re exÃ©cution du projet","uri":"/posts/tutos/my-first-app/3-first-run-of-the-project/"},{"categories":null,"content":"Lancement de lâ€™app Allez, il est temps de faire tourner lâ€™application ! Choisis donc la plateforme que tu souhaites cibler, puis clique sur le bouton encadrÃ© en rouge pour dÃ©marrer le projet: Dans un premier temps, tu verras ton projet Ãªtre compilÃ© avec la configuration choisie (câ€™est lâ€™Ã©tape du build): Sous Visual Studio for Mac, le statut actuel du projet peut facilement Ãªtre consultÃ© en bas Ã  gauche de la fenÃªtre. Puis tu verras ton application se dÃ©ployer automatiquement vers la plateforme choisie (ici, une simulation de lâ€™iPhone 13, iOS 15.5). Et voilÃ  le rÃ©sultat ! â€ ğŸ’â€ â€ HÃ©Ã©Ã©Ã© mais il ne se passe rien quand je clique sur le bouton ! Ce nâ€™est Ã©videmment que le dÃ©but de notre app, le plus gros reste Ã  faire ! ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/3-first-run-of-the-project/:0:3","tags":["Visual Studio","C# markup"],"title":"PremiÃ¨re exÃ©cution du projet","uri":"/posts/tutos/my-first-app/3-first-run-of-the-project/"},{"categories":null,"content":"La page dâ€™accueil Ce que tu vois pour le moment, câ€™est la page dâ€™accueil dont le contenu est spÃ©cifiÃ© dans le fichier HomeView.cs. Il sâ€™agit lÃ  dâ€™une ContentPage (littÃ©ralement une page avec du contenu) qui est le type de page le plus courant. Et comme tu peux le voir, ce quâ€™elle dÃ©finit est trÃ¨s simple: Nom du fichier :HomeView.cs public HomeView() { BackgroundColor = Colors.Black; Content = new VerticalStackLayout { Children = { NightClubImage, EnterButton } }.CenterVertical(); } Câ€™est une page avec un arriÃ¨re-plan noir et dont le contenu est dÃ©fini par une image et un bouton qui sont empilÃ©s verticalement dans un VerticalStackLayout. Et si tu veux savoir comment sont dÃ©finis ces deux composants, il te suffit de regarder un peu plus bas dans le code de la page : Nom du fichier :HomeView.cs #region Controls Image NightClubImage =\u003e new Image { // .NET MAUI converts SVG files to PNG files. Source = \"night_club.png\" }; Button EnterButton =\u003e new Button { Text = \"ENTER\", TextColor = Colors.White, BackgroundColor = Colors.Magenta, CornerRadius = 10 } .Bold() .Paddings(50, 2, 50, 2) .CenterHorizontal(); #endregion Rien de trÃ¨s complexe Ã  ce stade: On dÃ©finit lâ€™image du composant NightClubImage via la propriÃ©tÃ© â€œSourceâ€, Et pour le bouton, on dÃ©finit quelques propriÃ©tÃ©s de base comme le texte, la couleur, â€¦ mais tu aurais peut-Ãªtre remarquÃ© quâ€™on applique des fonctions au composant EnterButton : Bold() pour mettre en gras le texte du bouton, Paddings() pour rajouter un peu dâ€™espace autour du texte, notamment Ã  gauche et Ã  droite du texte, Et enfin, CenterHorizontal() pour positionner le texte au centre du bouton. â€ Ces mÃ©thodes sont fournies par un type de programmation particuliÃ¨re appelÃ©e â€œDeclarative UIâ€ ou encore â€œFluent UIâ€. GrÃ¢ce Ã  cela, la page est entiÃ¨rement codÃ©e en C#, comme pour le reste de lâ€™app ! â€ ğŸ’â€ â€ Dâ€™accord ! Et il ne faudrait pas lui dÃ©clarer une action Ã  ce bouton ? Tout juste ! Et on va voir comment dÃ©clencher lâ€™exÃ©cution de code en cliquant sur ce bouton, mais pas nâ€™importe comment. En effet, nous allons appliquer ce merveilleux patron de conception quâ€™est le Model-View-ViewModel (MVVM). Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/3-first-run-of-the-project/:0:4","tags":["Visual Studio","C# markup"],"title":"PremiÃ¨re exÃ©cution du projet","uri":"/posts/tutos/my-first-app/3-first-run-of-the-project/"},{"categories":null,"content":"Aujourd'hui on attaque la crÃ©ation de notre premiÃ¨re application ! Juste le temps d'installer ton environnement de travail et on aura rapidement quelque chose de concret. Allez c'est parti !","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/2-setup-the-project/","tags":["Visual Studio","Setup","New Project"],"title":"Installer le projet","uri":"/posts/tutos/my-first-app/2-setup-the-project/"},{"categories":null,"content":" Tu vas bientÃ´t pouvoir crÃ©er ta premiÃ¨re application mobile ! Juste le temps dâ€™installer ton environnement de travail et on aura rapidement quelque chose de concret. Allez câ€™est parti ! ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/2-setup-the-project/:0:0","tags":["Visual Studio","Setup","New Project"],"title":"Installer le projet","uri":"/posts/tutos/my-first-app/2-setup-the-project/"},{"categories":null,"content":"Quels outils pour dÃ©velopper ? Voyons dÃ©jÃ  les outils qui te permettront de dÃ©velopper ton appli. â€ ğŸ’â€ â€ Mais au fait, il faut Ãªtre sous Windows, MacOS ou Linux ? En fait, il nâ€™y a pas de prÃ©-requis particulier pour dÃ©velopper une app avec .NET MAUI, Ã  moins que tu ne traÃ®nes un ordinateur de lâ€™avant-guerre et que tu ne mettes rien Ã  jourâ€¦ ğŸ¤” Sinon, câ€™est surtout une question de prÃ©fÃ©rence ! Personnellement, je dÃ©veloppe sous MacOS car câ€™est un systÃ¨me que jâ€™affectionne, et le simulateur dâ€™iPhone qui y est intÃ©grÃ© est trÃ¨s performant et me permet dâ€™avoir rapidement un rendu de ce que je programme. Mais tu peux tout aussi bien dÃ©velopper sous Windows ou Linux ! Plus concrÃ¨tement : sous Windows ou MacOS, câ€™est facile, Microsoft propose un environnement de dÃ©veloppement intÃ©grÃ© trÃ¨s performant: Visual Studio pour Windows, et Visual Studio for Mac pourâ€¦ eh bien pour MacOS ğŸ˜„ et si tu es sous Linux, il te faudra recourir Ã  un peu plus dâ€™ingÃ©niositÃ© (et câ€™est bien pour cela que tu es sous Linux, nâ€™est-ce pas ? ğŸ˜›). Dans ce cas-lÃ , je te conseille dâ€™utiliser lâ€™excellent Ã©diteur de code source Visual Studio Code. â€ Dans le cadre de ce blog, je me concentrerais uniquement sur le dÃ©veloppement dâ€™application mobile Ã  lâ€™aide de Visual Studio. En effet, son utilisation est bien plus intuitive et câ€™est justement cela qui plaÃ®t Ã  tout vrai nÃ©ophyte. ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/2-setup-the-project/:0:1","tags":["Visual Studio","Setup","New Project"],"title":"Installer le projet","uri":"/posts/tutos/my-first-app/2-setup-the-project/"},{"categories":null,"content":"Installation de lâ€™environnement Passons maintenant Ã  lâ€™installation de lâ€™environnement de travail: Dans un premier temps, tÃ©lÃ©charge Visual Studio depuis le site officiel de Microsoft, en choisissant la version appropriÃ©e Ã  ton systÃ¨me (Windows ou MacOS), Puis vient le moment dâ€™installer Visual Studio et son environnement de dÃ©veloppement .NET MAUI. Pour amÃ©liorer la lecture de ce blog, je te propose de directement suivre les Ã©tapes dâ€™installation sur le site officiel: suivre les Ã©tapes dâ€™installation sous Windows suivre les Ã©tapes dâ€™installation sous MacOS Enfin, tÃ©lÃ©charge mon cours depuis GitHub. Pour cela, rends-toi sur le dÃ©pÃ´t de code du blog, clique sur le bouton â€œCodeâ€ et tÃ©lÃ©charge le tout au format .ZIP â€ Avant dâ€™aller plus loin, si tu es sous MacOS, il te faudra tâ€™assurer dâ€™avoir tÃ©lÃ©chargÃ© la derniÃ¨re version dâ€™Xcode qui est requise pour le simulateur dâ€™iPhone. Son installation peut Ãªtre trÃ¨s longue, aussi, je te conseille de le faire en parallÃ¨le de ta lecture. ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/2-setup-the-project/:0:2","tags":["Visual Studio","Setup","New Project"],"title":"Installer le projet","uri":"/posts/tutos/my-first-app/2-setup-the-project/"},{"categories":null,"content":"Description du projet Une fois le fichier tÃ©lÃ©chargÃ© dÃ©compressÃ©, rends-toi dans le dossier des exemples associÃ©s Ã  notre cours (Samples/NightClub). Les dossiers qui y sont entreposÃ©s correspondent chacun Ã  une partie diffÃ©rente du cours: Pour le moment, ouvre le premier dossier (0 - Get Started) et double-clique sur NightClub.sln pour ouvrir le projet NightClub dans Visual Studio. La structure du projet NightClub aprÃ¨s ouverture dans Visual Studio. â€ ğŸ’â€ â€ Ok ! Jâ€™ouvre le projet, Ã§a chargeâ€¦ Mais il y a dÃ©jÃ  plein de choses dans ce projet, on ne peut pas partir de zÃ©ro ? En fait, câ€™est dÃ©jÃ  le cas ! Le projet que tu as sous les yeux est tout neuf, mais il embarque plusieurs fichiers de base nÃ©cessaires au bon fonctionnement dâ€™une application .NET MAUI: Toutes les librairies nÃ©cessaires au bon fonctionnement du projet sont regroupÃ©es dans le dossier Dependencies, Dans Platforms, tu retrouveras tous les fichiers nÃ©cessaires Ã  lâ€™exÃ©cution de lâ€™application, et ce pour chaque plateforme cible, Quant au dossier Properties, on y retrouve gÃ©nÃ©ralement des fichiers de configuration (il y en a dâ€™ailleurs une crÃ©Ã©e par dÃ©faut pour Windows), Et puis, tu auras la possibilitÃ© pour chaque application de lui configurer une icÃ´ne et un Ã©cran de chargement ! Pour cela, on recourt gÃ©nÃ©ralement au dossier Resources pour stocker tous nos mÃ©dias (icÃ´nes, images, pistes audio et vidÃ©o, â€¦), Enfin, il faudra bien pouvoir afficher quelque chose Ã  lâ€™ouverture de lâ€™app ! Et pour Ã§a, on a le dossier Views qui contient pour le moment notre premiÃ¨re page, la fameuse page dâ€™accueilâ€¦ â€ Aller plus loin avec la structure de base des projets Visual Studio Et voilÃ  câ€™est tout, et si on lanÃ§ait cette app ? ğŸ™‚ Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/2-setup-the-project/:0:3","tags":["Visual Studio","Setup","New Project"],"title":"Installer le projet","uri":"/posts/tutos/my-first-app/2-setup-the-project/"},{"categories":null,"content":"Salut les Devâ€¢eâ€¢s ! ğŸ¤“ Moi c'est J-E et mon but avec ce blog est dâ€™aider tout dÃ©veloppeur dÃ©butant Ã  se lancer dans son projet dâ€™application mobile au travers de cours trÃ¨s simples. Pas de cours thÃ©oriques Ã  rallonge, ici tu vas vite tâ€™amuser et produire des apps sympas ! Et je tâ€™accompagnerai du dÃ©veloppement jusquâ€™Ã  la mise en ligne de ton application sur les stores.","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/1-introduction/","tags":["New Project"],"title":"Introduction","uri":"/posts/tutos/my-first-app/1-introduction/"},{"categories":null,"content":" Salut les Devâ€¢eâ€¢s ! ğŸ¤“ Moi câ€™est J-E, ou Jean-Emmanuel si tu prÃ©fÃ¨res, et je suis ravi de te savoir en train de me lire ! ğŸ˜Š En effet, jâ€™avais Ã  cÅ“ur de partager ma passion pour le dÃ©veloppement dâ€™applications mobiles cross-platforms, et tout particuliÃ¨rement avec .NET MAUI (Ã  prononcer â€œdote-net maouiâ€). Avec ce blog, je veux pouvoir aider tout dÃ©veloppeur dÃ©butant Ã  se lancer dans son projet dâ€™application mobile au travers de cours trÃ¨s simples. Pas de cours thÃ©oriques Ã  rallonge, ici tu vas vite tâ€™amuser et produire des apps sympas ! Et je tâ€™accompagnerai du dÃ©veloppement jusquâ€™Ã  la mise en ligne de ton application sur les stores. â€ ğŸ’â€ â€ Mais au fait, câ€™est quoi .NET MAUI ? Tu peux mâ€™en dire plus ? Il sâ€™agit du framework maintenu par Microsoft pour dÃ©velopper des applications mobiles, mais pas que ! En fait, MAUI signifie : â€œMulti-platform App User Interfaceâ€, ce qui veut littÃ©ralement dire â€œapplication dotÃ©e dâ€™une interface utilisateur et qui peut sâ€™exÃ©cuter sur plusieurs plateformesâ€. .NET MAUI a Ã©tÃ© officiellement publiÃ© courant 2022 et se base sur lâ€™excellent framework Xamarin.Forms qui couvre iOS et Android uniquement. Et si tu nâ€™en avais jamais entendu parler, pas de panique ! Moi-mÃªme jâ€™en ai appris lâ€™existence seulement fin 2019, et câ€™est grÃ¢ce Ã  lui que jâ€™ai dÃ©ployÃ© ma toute premiÃ¨re application sur les stores: MyVanity. â€ ğŸ’â€ â€ Et comment as-tu fait pour publier ta premiÃ¨re application ? Ã‡a tâ€™a pris longtemps ? Et câ€™est lÃ  toute la magie de .NET MAUI, tu nâ€™as quâ€™Ã  coder un seul programme pour quâ€™il fonctionne sur Android, iOS, macOS et Windows ! Et tout Ã§a bien-sÃ»r avec un seul langage de programmation. Et donc non, cela ne mâ€™a pas pris trÃ¨s longtemps, mais cela dÃ©pendra surtout: de tes connaissances en dÃ©veloppement, de la complexitÃ© de ton application, et du temps que tu peux lui accorder. Dans mon cas, cela mâ€™a pris exactement un an entre le moment oÃ¹ jâ€™ai imaginÃ© lâ€™application et le jour oÃ¹ je lâ€™ai publiÃ©e sur les stores. â€ ğŸ’â€ â€ Dâ€™accord, alors quâ€™est-ce que je dois savoir avant de dÃ©buter mon application ? Tout dâ€™abord bravo, tu as raison de te lancer ! Alors pour dÃ©marrer ton application, il te faudra : Trouver une idÃ©e, Concevoir la maquette, Comprendre le langage C#. Pour le premier point, câ€™est facile, tu lâ€™as normalement dÃ©jÃ  fait pour arriver jusquâ€™ici. ğŸ˜› Le deuxiÃ¨me, câ€™est simplement pour avoir une idÃ©e prÃ©cise de ce Ã  quoi ton application ressemblera, et pour Ã§a, tu peux utiliser le trÃ¨s bon Adobe XD qui est gratuit ! Enfin pour finir, il te faudra connaÃ®tre le langage C# pour programmer ton application, et pour cela je te propose le parcours dâ€™apprentissage Ã©laborÃ© par Microsoft. Cela dit, si tu as dÃ©jÃ  codÃ© dans ta vie, alors tu peux te lancer mÃªme sans connaÃ®tre le C# ! Tu apprendras trÃ¨s vite en voulant dÃ©velopper ton application. Pour ce premier cours, je te propose de dÃ©velopper une application pour lire des titres musicaux dans une ambiance â€œboÃ®te de nuitâ€. ğŸ’ƒğŸ¾ğŸ•ºğŸ»ğŸª© Tu feras sÃ»rement quelques erreurs, mais se tromper est justement la meilleure faÃ§on dâ€™apprendre, alors surtout: va jusquâ€™au bout de ton idÃ©e ! â€ ğŸ’â€ â€ Jâ€™ai lâ€™idÃ©e en tÃªte, mon design est prÃªt, et coder en C# ne me fait pas peur, on attaque ? Allez câ€™est parti, rendez-vous au prochain article ! Plus dâ€™articles dans la mÃªme sÃ©rie: Introduction Installer le projet PremiÃ¨re exÃ©cution du projet MVVM, la clÃ© de la rÃ©ussite Dâ€™une page Ã  lâ€™autre Les fondations Le temps dâ€™Ã©coute Les contrÃ´les de lecture du mÃ©dia ","date":"02/01/2023","objectID":"/posts/tutos/my-first-app/1-introduction/:0:0","tags":["New Project"],"title":"Introduction","uri":"/posts/tutos/my-first-app/1-introduction/"}]