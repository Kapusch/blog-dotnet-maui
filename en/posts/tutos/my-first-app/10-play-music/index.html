<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Play music - MAUI, c'est clair !</title><meta name=author content="Jean-Emmanuel BAILLAT">
<meta name=author-link content="https://github.com/Kapusch"><meta name=description content="Brick after brick, our application is taking shape! But it's only visual for now... so let’s bring all those dummy controls to life!"><meta name=keywords content="MediaElement,.NET Community Toolkit,MVVM,Data Binding,ImageButton"><meta itemprop=name content="Play music"><meta itemprop=description content="Brick after brick, our application is taking shape! But it's only visual for now... so let’s bring all those dummy controls to life!"><meta itemprop=datePublished content="2023-09-18T00:00:10+00:00"><meta itemprop=dateModified content="2023-09-18T00:00:10+00:00"><meta itemprop=wordCount content="1538"><meta itemprop=image content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/featured-image-preview-en.png"><meta itemprop=keywords content="MediaElement,.NET Community Toolkit,MVVM,Data Binding,ImageButton,"><meta property="og:title" content="Play music"><meta property="og:description" content="Brick after brick, our application is taking shape! But it's only visual for now... so let’s bring all those dummy controls to life!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/"><meta property="og:image" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/featured-image-preview-en.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-18T00:00:10+00:00"><meta property="article:modified_time" content="2023-09-18T00:00:10+00:00"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/9-volume-tracker/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/8-media-control/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/7-time-tracker/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/6-scaffolding/"><meta property="og:see_also" content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/5-how-to-navigate/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/featured-image-preview-en.png"><meta name=twitter:title content="Play music"><meta name=twitter:description content="Brick after brick, our application is taking shape! But it's only visual for now... so let’s bring all those dummy controls to life!"><meta name=twitter:site content="@kapuschinfo"><meta name=application-name content="MAUI, c'est clair !"><meta name=apple-mobile-web-app-title content="MAUI, c'est clair !"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/><link rel=prev href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/9-volume-tracker/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Play music","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.mauicestclair.fr\/en\/posts\/tutos\/my-first-app\/10-play-music\/"},"genre":"posts","keywords":"MediaElement, .NET Community Toolkit, MVVM, Data Binding, ImageButton","wordcount":1538,"url":"https:\/\/www.mauicestclair.fr\/en\/posts\/tutos\/my-first-app\/10-play-music\/","datePublished":"2023-09-18T00:00:10+00:00","dateModified":"2023-09-18T00:00:10+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Jean-Emmanuel BAILLAT"},"description":"Brick after brick, our application is taking shape! But it's only visual for now... so let’s bring all those dummy controls to life!"}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=wide><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=left><div class=header-title><a href=/en/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="MAUI, c'est clair !" data-alt="MAUI, c'est clair !" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/en/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Posts</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/en/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Tutos</a></li><li class=menu-item><a class=menu-link href=/en/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Tips</a></li></ul></li><li class=menu-item><a class=menu-link href=/en/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/en/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language-switch"><span role=button aria-label="Select Language" title="Select Language"><i class="fa-solid fa-language fa-fw" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a href=/posts/tutos/my-first-app/10-play-music/ class=menu-link title=Français>Français</a></li><li class=menu-item><span class="menu-link text-secondary" title=English>English</span></li></ul></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/en/ title="MAUI, c'est clair !"><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title=/main_avatar.jpg data-alt=/main_avatar.jpg class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>MAUI, c'est clair !</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/en/posts/><i class="fa-solid fa-newspaper fa-fw fa-sm" aria-hidden=true></i> Posts</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/en/posts/tutos/><i class="fa-solid fa-graduation-cap fa-fw fa-sm" aria-hidden=true></i> Tutos</a></li><li class=menu-item><a class=menu-link href=/en/posts/tips/><i class="fa-solid fa-lightbulb fa-fw fa-sm" aria-hidden=true></i> Tips</a></li></ul></li><li class=menu-item><a class=menu-link href=/en/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li><li class=menu-item><a class=menu-link href=/en/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> About</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span><span class="menu-system-item language-switch">
<span role=button aria-label="Select Language" title="Select Language">English<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option value=/posts/tutos/my-first-app/10-play-music/>Français</option><option value=/en/posts/tutos/my-first-app/10-play-music/ selected disabled>English</option></select></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/en/posts/ title=Posts>Posts</a></li><li class=breadcrumb-item><a href=/en/posts/tutos/ title=Tutos>Tutos</a></li><li class=breadcrumb-item><a href=/en/posts/tutos/my-first-app/ title="My first app">My first app</a></li><li class="breadcrumb-item active" aria-current=page>Play music</li></ol></nav><main class=container><aside class=toc id=toc-auto><h2 class=toc-title>Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Play music</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src=/main_avatar.jpg srcset="/main_avatar.jpg, /main_avatar.jpg 1.5x, /main_avatar.jpg 2x" sizes=auto data-title="Jean-Emmanuel BAILLAT" data-alt="Jean-Emmanuel BAILLAT" class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Jean-Emmanuel BAILLAT</a></span></div><div class=post-meta-line><span title="published on 2023-09-18 00:00:10"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=18/09/2023>18/09/2023</time></span>&nbsp;<span title="Updated on 2023-09-18 00:00:10"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=18/09/2023>18/09/2023</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>1538 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>8 minutes</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#the-mediaelement>The MediaElement</a></li><li><a href=#make-some-noise>Make some noise!</a></li><li><a href=#control-media-playback>Control media playback</a></li></ul></nav></div></div><div class=content id=content><p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>To ease your read, please start from the project containing all the different steps applied so far in this tutorial. To do so, refer to the <a href=../2-setup-the-project/>project setup guide</a> and resume from the sample located in the folder <em>&ldquo;4 - All Media Controls&rdquo;</em>.</div></div></div>Before starting this new chapter, I wanted to congratulate you on all the progress you&rsquo;ve made!</p><p>Now that we&rsquo;re well advanced on the visual side, we can develop the core of the application and make it a little more functional. And if there&rsquo;s one feature to think about first, it&rsquo;s playing music!</p><h1 id=the-mediaelement>The MediaElement</h1><p>In the mobile world, media handling is completely different from a system to another. Fortunately, Microsoft has made life easier for us with its <a href=https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/ target=_blank rel="external nofollow noopener noreferrer">Community Toolkit<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>, which precisely offers the right thing for playing audio files from any platform: the <a href=https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/views/mediaelement target=_blank rel="external nofollow noopener noreferrer">MediaElement<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>!</p><p>According to the <a href="https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/get-started?tabs=CommunityToolkitMauiMediaElement#adding-the-nuget-packages" target=_blank rel="external nofollow noopener noreferrer">documentation<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>, this component is supplied in a dedicated NuGet package. To install this dependency, open the NuGet package manager and search for the library named <em>CommunityToolkit.Maui.MediaElement</em>.</p><p align=center><img max-width=100% max-height=100% src=./images/8A5155B8383781A2F73B09AC400E2190.png></p><figure></figure><p>Once you found it, add it to the project and accept all associated licenses:</p><p align=center><img max-width=100% max-height=100% src=./images/E51BD0B6860EF736D013602B304C90F4.png></p><figure></figure><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>A <em>ReadMe.txt</em> file opens automatically in Visual Studio. It provides additional instructions that we will apply when using the <em>MediaElement</em>.</div></div></div><p>Now that the library has been added to the project, one last step remains. The <em>MediaElement</em> component must be initialized at application startup in the <code>MauiProgram.cs</code> file.</p><p>Open this file and modify the <em>CreateMauiApp()</em> method as follows:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MauiProgram.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=n>MauiApp</span> <span class=n>CreateMauiApp</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;[NightClub] MauiProgram - CreateMauiApp&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kt>var</span> <span class=n>builder</span> <span class=p>=</span> <span class=n>MauiApp</span><span class=p>.</span><span class=n>CreateBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>.</span><span class=n>UseMauiCommunityToolkit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>.</span><span class=n>UseMauiCommunityToolkitMarkup</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=c1>// You must add the line below:</span>
</span></span><span class=line><span class=cl>		<span class=p>.</span><span class=n>UseMauiCommunityToolkitMediaElement</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>.</span><span class=n>UseMauiApp</span><span class=p>&lt;</span><span class=n>App</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>builder</span><span class=p>.</span><span class=n>Build</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>🐒‎ ‎ But what exactly is this <em>UseMauiCommunityToolkitMediaElement()</em> method doing?</div></div></div><p>Good reflex! When manipulating new snippets of code, it&rsquo;s always best to understand what happens behind. And in this case, the code is open-source and can be viewed <a href=https://github.com/CommunityToolkit/Maui/blob/77213ae1e2ad5730fd29126bb2cf85960ba89bbd/src/CommunityToolkit.Maui.MediaElement/AppBuilderExtensions.shared.cs target=_blank rel="external nofollow noopener noreferrer">here<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</p><p>Unsurprisingly, the sole purpose of the <em>UseMauiCommunityToolkitMediaElement()</em> method is to make the <em>MediaElement</em> available to our application. In a nutshell, this consists of specifying which classes implement its behavior, for each of the targeted platforms.</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>For more information, please consult the <a href=https://learn.microsoft.com/en-us/dotnet/maui/user-interface/handlers/create target=_blank rel="external nofollow noopener noreferrer">documentation on custom controls<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>.</div></div></div><p>And now we can listen to music!</p><h1 id=make-some-noise>Make some noise!</h1><p>Let&rsquo;s now look at how to define an instance of the <em>MediaElement</em> in the <em>MusicPlayerView</em>.</p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>🐒‎ ‎ But shouldn&rsquo;t we treat the <em>MediaElement</em> as a service and add it to the <em>ViewModel</em>?</div></div></div><p>Excellent point! Indeed, in <a href=../4-mvvm-is-the-key-to-succeed/>the chapter on MVVM</a>, we presented the <strong>View</strong> as the layer corresponding to the user interface. So, logically, you might think that media playback only takes place in the <strong>ViewModel</strong>!</p><p>But once you&rsquo;ve read the <a href=https://learn.microsoft.com/en-us/dotnet/communitytoolkit/maui/views/mediaelement target=_blank rel="external nofollow noopener noreferrer">documentation<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a>, you&rsquo;ll see that the <em>MediaElement</em> provides the basic visual controls for manipulating media according to the target platform. And even though we won&rsquo;t use them (since we&rsquo;re creating our own controls), the <em>MediaElement</em> is indeed an element of the user interface! And to respect the MVVM breakdown, I prefer to define an instance of the <em>MediaElement</em> in the <em>MusicPlayerView</em>.</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>It&rsquo;s also possible to accomplish the same thing by placing the <em>MediaElement</em> in the <em>ViewModel</em> instead of the <em>View</em>, but this is likely to make your project maintenance more complex.</div></div></div><p>Open the <code>MusicPlayerView.cs</code> file, then define a new <em>MediaElement</em> property in the controls area, and a method <em>InitMusicPlayer()</em> to initialize it:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cp>#region</span> <span class=n>Controls</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=cp>#region</span> <span class=n>MusicPlayer</span> <span class=c1>// Why not another region!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>MediaElement</span> <span class=n>MusicPlayer</span> <span class=p>=</span> <span class=k>new</span> <span class=n>MediaElement</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=k>void</span> <span class=n>InitMusicPlayer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>MusicPlayer</span><span class=p>.</span><span class=n>ShouldAutoPlay</span> <span class=p>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=kt>string</span> <span class=n>trackURL</span> <span class=p>=</span> <span class=s>&#34;https://prod-1.storage.jamendo.com/?trackid=1890762&amp;format=mp31&amp;from=b5bSbOTAT1kXawaT8EV9IA%3D%3D%7CGcDX%2BeejT3P%2F0CfPwtSyYA%3D%3D&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>MusicPlayer</span><span class=p>.</span><span class=n>Source</span> <span class=p>=</span> <span class=n>MediaSource</span><span class=p>.</span><span class=n>FromUri</span><span class=p>(</span><span class=n>trackURL</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=cp>#endregion</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl><span class=cp>#endregion</span>
</span></span></code></pre></td></tr></table></div></div><p>With the <code>ShouldAutoPlay</code> parameter, we configure our new control to automatically play the next track, as soon as it&rsquo;s defined. After all, our buttons remain dummy controls, and we need to hear some music to verify <em>MediaElement</em> is working!</p><div class="details admonition comment open"><div class="details-summary admonition-title"><i class="icon fa-regular fa-comments fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>🐒‎ ‎ And is this music from audio streaming?</div></div></div><p>That&rsquo;s right! I grabbed a few songs from <a href=https://www.jamendo.com/ target=_blank rel="external nofollow noopener noreferrer">Jamendo<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> for our application, a free website for music produced by independent artists.</p><p>As you may have noticed, we&rsquo;ve defined a song to be played by default through the <code>trackURL</code> variable. Indeed, this URL is then declared as a <code>Source</code> of media for the <em>MediaElement</em>, with the help of the <em>MediaSource.FromUri()</em> method.</p><p>Now back to our page constructor. First, we need to initialize the <code>MediaPlayer</code> with the method called <em>InitMusicPlayer()</em> that we&rsquo;ve just introduced. Finally, we also need to add this component as an element of the view to make it available. Otherwise, it won&rsquo;t be detected by the page and it won&rsquo;t work!</p><p>This is how the <em>MusicPlayerView</em> constructor now looks:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>CommunityToolkit.Maui.Views</span><span class=p>;</span> <span class=c1>// You must add this using!</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>NightClub.Views</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>MusicPlayerView</span> <span class=p>:</span> <span class=n>ContentPage</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=n>MusicPlayerView</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=s>&#34;[NightClub] MusicPlayerView - Constructor&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>NavigationPage</span><span class=p>.</span><span class=n>SetHasNavigationBar</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>BackgroundColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>DimGray</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>InitMusicPlayer</span><span class=p>();</span> <span class=c1>// Control is initialized with its own method</span>
</span></span><span class=line><span class=cl>		<span class=n>InitMuteButton</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>Content</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Grid</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=n>RowDefinitions</span> <span class=p>=</span> <span class=n>Rows</span><span class=p>.</span><span class=n>Define</span><span class=p>(</span>
</span></span><span class=line><span class=cl>			<span class=n>Stars</span><span class=p>(</span><span class=m>60</span><span class=p>),</span>
</span></span><span class=line><span class=cl>			<span class=n>Stars</span><span class=p>(</span><span class=m>40</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>			<span class=n>RowSpacing</span> <span class=p>=</span> <span class=m>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=n>Children</span> <span class=p>=</span>
</span></span><span class=line><span class=cl>			<span class=p>{</span>
</span></span><span class=line><span class=cl>				<span class=n>MusicPlayer</span><span class=p>,</span> <span class=c1>// Then we add the control to the page content!</span>
</span></span><span class=line><span class=cl>				<span class=n>TopLayout</span><span class=p>.</span><span class=n>Row</span><span class=p>(</span><span class=m>0</span><span class=p>),</span>
</span></span><span class=line><span class=cl>				<span class=n>BottomLayout</span><span class=p>.</span><span class=n>Row</span><span class=p>(</span><span class=m>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>There&rsquo;s no need to specify where the element will be defined in the grid. The <em>MusicPlayer</em> will remain invisible to the user anyway!</div></div></div><p>Why not give it a try? First, take the time to adjust the volume on your device so that it&rsquo;s neither too loud nor too soft. Then relaunch the project to start the app.</p><div class="details admonition tip open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>You must close the application or stop debugging the project in Visual Studio to stop the music!</div></div></div><p>So, are you happy to finally hear some music? After so much effort, it&rsquo;s well deserved! 🙂</p><p>But let&rsquo;s take the opportunity to bring that play button to life.</p><h1 id=control-media-playback>Control media playback</h1><p>Now that we&rsquo;ve checked that media playback works, it would be nice to control it directly with the “Play” button! Following the same principle as before, let&rsquo;s initialize the <code>PlayButton</code> control via a new method called <em>InitMediaControlPanel()</em>, triggered from the page constructor. Here are the changes to the <em>MusicPlayerView</em>:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>MusicPlayerView</span> <span class=p>:</span> <span class=n>ContentPage</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=n>MusicPlayerView</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=p>...</span>
</span></span><span class=line><span class=cl>		<span class=n>InitMusicPlayer</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=n>InitMediaControlPanel</span><span class=p>();</span> <span class=c1>// A new initialization method...</span>
</span></span><span class=line><span class=cl>		<span class=n>InitMuteButton</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=cp>#region</span> <span class=n>Media</span> <span class=n>Control</span> <span class=n>Panel</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=n>ImageButton</span> <span class=n>PlayButton</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ImageButton</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>CornerRadius</span> <span class=p>=</span> <span class=m>50</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=n>HeightRequest</span> <span class=p>=</span> <span class=m>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=n>WidthRequest</span> <span class=p>=</span> <span class=m>100</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=n>BackgroundColor</span> <span class=p>=</span> <span class=n>Colors</span><span class=p>.</span><span class=n>Black</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=n>Source</span> <span class=p>=</span> <span class=s>&#34;play.png&#34;</span>
</span></span><span class=line><span class=cl>	<span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>void</span> <span class=n>InitMediaControlPanel</span><span class=p>()</span> <span class=c1>// ... which is defined here!</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>PlayButton</span><span class=p>.</span><span class=n>Bind</span><span class=p>(</span>
</span></span><span class=line><span class=cl>			<span class=n>targetProperty</span><span class=p>:</span> <span class=n>ImageButton</span><span class=p>.</span><span class=n>SourceProperty</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=n>source</span><span class=p>:</span> <span class=n>MusicPlayer</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=n>path</span><span class=p>:</span> <span class=n>nameof</span><span class=p>(</span><span class=n>MusicPlayer</span><span class=p>.</span><span class=n>CurrentState</span><span class=p>),</span>
</span></span><span class=line><span class=cl>			<span class=n>convert</span><span class=p>:</span> <span class=p>(</span><span class=n>MediaElementState</span> <span class=n>currentState</span><span class=p>)</span>
</span></span><span class=line><span class=cl>				<span class=p>=&gt;</span> <span class=n>currentState</span> <span class=p>!=</span> <span class=n>MediaElementState</span><span class=p>.</span><span class=n>Playing</span> <span class=p>?</span> <span class=s>&#34;play.png&#34;</span> <span class=p>:</span> <span class=s>&#34;pause.png&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>PlayButton</span><span class=p>.</span><span class=n>Clicked</span> <span class=p>+=</span> <span class=n>PlayButton_Clicked</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=cp>#endregion</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>First, we want the icon associated with our central button to change its appearance depending on whether the song is playing (image: <em>pause.png</em>) or not (image: <em>play.png</em>). To achieve this, we apply the Binding technique (cf: <a href=../4-mvvm-is-the-key-to-succeed/#data-binding>MVVM</a>) to the <em>Source</em> property of the <code>PlayButton</code>, which is nothing else than the property used to define the button icon.</p><p>Here is the logic used to modify the value automatically:</p><ul><li>We monitor the value changes of the <em>CurrentState</em> property that is attached to the <code>MusicPlayer</code> object,</li><li>And we modify the <code>PlayButton</code> image according to whether the <em>CurrentState</em> value is equivalent to the play or pause state.</li></ul><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-info-circle fa-fw" aria-hidden=true></i>‎<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Make sure you replace the “=>” sign with “=” when declaring the <code>PlayButton</code>. Indeed, we only want to create one instance of the <code>ImageButton</code> and modify it in the <em>InitMediaControlPanel()</em> method.</div></div></div><p>Then, let’s define a specific behavior when the user clicks on the <code>PlayButton</code> with the <em>PlayButton_Clicked()</em> method. Here&rsquo;s what it does:</p><p align=center style=margin-bottom:-10px><strong>Filename:</strong><code>MusicPlayerView.cs</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>MusicPlayerView</span> <span class=p>:</span> <span class=n>ContentPage</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl>	<span class=cp>#region</span> <span class=n>Events</span> <span class=c1>// If you like being organized, you must use regions!</span>
</span></span><span class=line><span class=cl>	<span class=kd>protected</span> <span class=kd>override</span> <span class=k>void</span> <span class=n>OnAppearing</span><span class=p>()...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kd>protected</span> <span class=kd>override</span> <span class=k>void</span> <span class=n>OnDisappearing</span><span class=p>()...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kd>private</span> <span class=k>void</span> <span class=n>PlayButton_Clicked</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>EventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>MusicPlayer</span><span class=p>.</span><span class=n>CurrentState</span> <span class=p>!=</span> <span class=n>MediaElementState</span><span class=p>.</span><span class=n>Playing</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=n>MusicPlayer</span><span class=p>.</span><span class=n>Play</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=k>else</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=n>MusicPlayer</span><span class=p>.</span><span class=n>Pause</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=cp>#endregion</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>As you can see, this event is pretty straightforward. It detects at each click the current state of the music player, and depending on this, either requests playback or it will put the track on pause.</p><hr><p>That&rsquo;s all for this chapter. Rebuild the project and turn off the music with the pause button!</p><p align=center><img max-width=100% max-height=100% src=./images/74470EEE7B7C3F6A4405C7A9D3AC4090.gif></p><figure><figcaption class=image-caption>Music plays as soon as the music player page appears, and then you can turn the music off with the pause button.</figcaption></figure><p>Isn&rsquo;t it great to be able to interact with our app? Personally, that&rsquo;s my favorite part of mobile app development!</p><p>It becomes real and this is just the beginning. Next time, we&rsquo;ll see how to implement volume and the management of playback head.</p><hr><p>More articles in the series:<ol><div><li hugo-nav=/en/posts/tutos/my-first-app/1-introduction/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/1-introduction/>Introduction</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/2-setup-the-project/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/2-setup-the-project/>Setup the project</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/3-first-run-of-the-project/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/3-first-run-of-the-project/>First run of the project</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/4-mvvm-is-the-key-to-succeed/>MVVM is the key to succeed</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/5-how-to-navigate/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/5-how-to-navigate/>How to navigate</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/6-scaffolding/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/6-scaffolding/>Scaffolding</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/7-time-tracker/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/7-time-tracker/>Timing display</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/8-media-control/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/8-media-control/>Media playback controls</a></li></div><div><li hugo-nav=/en/posts/tutos/my-first-app/9-volume-tracker/><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/9-volume-tracker/>Volume display</a></li></div><div class=current><li hugo-nav=/en/posts/tutos/my-first-app/10-play-music/ class=nostyle><a href=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/>Play music</a></li></div></ol></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Updated on 2023-09-18 00:00:10">Updated on 18/09/2023&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/ data-title="Play music" data-via=kapuschinfo data-hashtags="MediaElement,.NET Community Toolkit,MVVM,Data Binding,ImageButton"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/ data-hashtag=MediaElement><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://www.mauicestclair.fr/en/posts/tutos/my-first-app/10-play-music/ data-title="Play music" data-description="Brick after brick, our application is taking shape! But it's only visual for now... so let’s bring all those dummy controls to life!"><i class="fa-brands fa-blogger fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/en/tags/mediaelement/ class=post-tag>MediaElement</a><a href=/en/tags/.net-community-toolkit/ class=post-tag>.NET Community Toolkit</a><a href=/en/tags/mvvm/ class=post-tag>MVVM</a><a href=/en/tags/data-binding/ class=post-tag>Data Binding</a><a href=/en/tags/imagebutton/ class=post-tag>ImageButton</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/en/>Home</a></span></section></div><div class=post-nav><a href=/en/posts/tutos/my-first-app/9-volume-tracker/ class=post-nav-item rel=prev title="Volume display"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Volume display</a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=Kapusch/blog-dotnet-maui data-repo-id=R_kgDOH_4TbQ data-category="Blog comments" data-category-id=DIC_kwDOH_4Tbc4CSqsZ data-mapping=Title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line custom"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></div><div class="footer-line powered">Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.120.3">Hugo</a> | Theme - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.18"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/Kapusch target=_blank rel="external nofollow noopener noreferrer">Jean-Emmanuel BAILLAT</a></span><span class="license footer-divider"><u><a rel="license external nofollow noopener noreferrer" href=/privacy-policy target=_blank>Privacy</a></u> and <u><a rel="license external nofollow noopener noreferrer" href=/terms-of-use target=_blank>Terms</a></u></span></div><div class="footer-line statistics"></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Kapusch/blog-dotnet-maui/tree/main/Blog title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner left d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><noscript><div class=noscript-warning>Theme FixIt works best with JavaScript enabled.</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/lunr/lunr.min.js defer></script><script src=/lib/lunr/lunr.stemmer.support.min.js defer></script><script src=/lib/lunr/lunr.fr.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/en/index.json",lunrLanguageCode:"en",maxResultLength:10,noResultsFound:"No results found",snippetLength:110,type:"lunr"}}</script><script src=/js/theme.min.js defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0BB9XCL25S",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=G-0BB9XCL25S" async></script></body></html>